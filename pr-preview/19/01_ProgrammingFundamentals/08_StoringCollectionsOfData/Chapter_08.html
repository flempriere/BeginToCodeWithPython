<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Chapter 8: Storing Collections of Data – Beginning to Code with Python: Notes, Examples and Exercises</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-fd21d93db373728c2f8fcda4b672d2ec.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Beginning to Code with Python: Notes, Examples and Exercises</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../../index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../01_ProgrammingFundamentals/02_PythonAndProgramming/Chapter_02.html">Programming Fundamentals</a></li><li class="breadcrumb-item"><a href="../../01_ProgrammingFundamentals/08_StoringCollectionsOfData/Chapter_08.html">Chapter 8: Storing Collections of Data</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../../index.html" class="sidebar-logo-link">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Programming Fundamentals</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../01_ProgrammingFundamentals/02_PythonAndProgramming/Chapter_02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 2: Python and Programming</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../01_ProgrammingFundamentals/03_PythonProgramStructure/Chapter_03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 3: Python Program Structure</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../01_ProgrammingFundamentals/04_WorkingWithVariables/Chapter_04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 4: Working With Variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../01_ProgrammingFundamentals/05_MakingDecisions/Chapter_05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 5: Making Decisions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../01_ProgrammingFundamentals/06_RepeatingActionsWithLoops/Chapter_06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 6: Repeating Actions with Loops</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../01_ProgrammingFundamentals/07_UsingFunctions/Chapter_07.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 7: Using Functions to Simplify Programs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../01_ProgrammingFundamentals/08_StoringCollectionsOfData/Chapter_08.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Chapter 8: Storing Collections of Data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Advanced Programming</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../02_AdvancedProgramming/09_UsingClasses/Chapter_09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 9: Use Classes to Store Data</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../02_AdvancedProgramming/09_UsingClasses/Chapter_09_ExtensionExercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Extended Exercises for Chapter 9</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../02_AdvancedProgramming/10_UseClassesToCreateActiveObjects/Chapter_10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 10: Using Classes to Create Active Objects</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#notes" id="toc-notes" class="nav-link active" data-scroll-target="#notes">Notes</a>
  <ul>
  <li><a href="#lists-and-tracking-sales" id="toc-lists-and-tracking-sales" class="nav-link" data-scroll-target="#lists-and-tracking-sales">Lists and Tracking Sales</a>
  <ul>
  <li><a href="#limitations-of-individual-variables" id="toc-limitations-of-individual-variables" class="nav-link" data-scroll-target="#limitations-of-individual-variables">Limitations of Individual Variables</a></li>
  <li><a href="#lists-in-python" id="toc-lists-in-python" class="nav-link" data-scroll-target="#lists-in-python">Lists in Python</a>
  <ul>
  <li><a href="#make-something-happen-creating-a-list" id="toc-make-something-happen-creating-a-list" class="nav-link" data-scroll-target="#make-something-happen-creating-a-list">Make Something Happen: Creating a List</a></li>
  </ul></li>
  <li><a href="#read-in-a-list" id="toc-read-in-a-list" class="nav-link" data-scroll-target="#read-in-a-list">Read in a List</a>
  <ul>
  <li><a href="#code-analysis-investigate-a-list-reading-loop" id="toc-code-analysis-investigate-a-list-reading-loop" class="nav-link" data-scroll-target="#code-analysis-investigate-a-list-reading-loop">Code Analysis: Investigate a List Reading Loop</a></li>
  </ul></li>
  <li><a href="#display-a-list-using-a-for-loop" id="toc-display-a-list-using-a-for-loop" class="nav-link" data-scroll-target="#display-a-list-using-a-for-loop">Display a <code>list</code> using a <code>for</code> Loop</a>
  <ul>
  <li><a href="#make-something-happen-read-the-names-of-guests-for-a-party" id="toc-make-something-happen-read-the-names-of-guests-for-a-party" class="nav-link" data-scroll-target="#make-something-happen-read-the-names-of-guests-for-a-party">Make Something Happen: Read the Names of Guests for a Party</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#refactor-programs-into-functions" id="toc-refactor-programs-into-functions" class="nav-link" data-scroll-target="#refactor-programs-into-functions">Refactor Programs into Functions</a>
  <ul>
  <li><a href="#code-analysis-functions-in-the-sales-analysis-program" id="toc-code-analysis-functions-in-the-sales-analysis-program" class="nav-link" data-scroll-target="#code-analysis-functions-in-the-sales-analysis-program">Code Analysis: Functions in the Sales Analysis Program</a></li>
  <li><a href="#create-placeholder-functions" id="toc-create-placeholder-functions" class="nav-link" data-scroll-target="#create-placeholder-functions">Create Placeholder Functions</a></li>
  <li><a href="#create-a-user-menu" id="toc-create-a-user-menu" class="nav-link" data-scroll-target="#create-a-user-menu">Create a User Menu</a>
  <ul>
  <li><a href="#use-the-elif-keyword-to-simplify-conditions" id="toc-use-the-elif-keyword-to-simplify-conditions" class="nav-link" data-scroll-target="#use-the-elif-keyword-to-simplify-conditions">Use the <code>elif</code> keyword to simplify conditions</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#sort-using-bubble-sort" id="toc-sort-using-bubble-sort" class="nav-link" data-scroll-target="#sort-using-bubble-sort">Sort Using Bubble Sort</a>
  <ul>
  <li><a href="#initialise-a-list-with-test-data" id="toc-initialise-a-list-with-test-data" class="nav-link" data-scroll-target="#initialise-a-list-with-test-data">Initialise a list with Test Data</a></li>
  <li><a href="#sort-a-list-from-high-to-low" id="toc-sort-a-list-from-high-to-low" class="nav-link" data-scroll-target="#sort-a-list-from-high-to-low">Sort a List from High to Low</a>
  <ul>
  <li><a href="#code-analysis-work-through-a-list-using-a-loop" id="toc-code-analysis-work-through-a-list-using-a-loop" class="nav-link" data-scroll-target="#code-analysis-work-through-a-list-using-a-loop">Code Analysis: Work through a List using a Loop</a></li>
  <li><a href="#code-analysis-improving-performance" id="toc-code-analysis-improving-performance" class="nav-link" data-scroll-target="#code-analysis-improving-performance">Code Analysis: Improving Performance</a></li>
  <li><a href="#make-something-happen-sort-alphabetically" id="toc-make-something-happen-sort-alphabetically" class="nav-link" data-scroll-target="#make-something-happen-sort-alphabetically">Make Something Happen: Sort Alphabetically</a></li>
  </ul></li>
  <li><a href="#sort-a-list-from-low-to-high" id="toc-sort-a-list-from-low-to-high" class="nav-link" data-scroll-target="#sort-a-list-from-low-to-high">Sort a List from Low to High</a></li>
  <li><a href="#find-the-highest-and-lowest-sales-values" id="toc-find-the-highest-and-lowest-sales-values" class="nav-link" data-scroll-target="#find-the-highest-and-lowest-sales-values">Find the Highest and Lowest Sales Values</a></li>
  <li><a href="#evaluate-total-and-average-sales" id="toc-evaluate-total-and-average-sales" class="nav-link" data-scroll-target="#evaluate-total-and-average-sales">Evaluate Total and Average Sales</a></li>
  <li><a href="#complete-the-program" id="toc-complete-the-program" class="nav-link" data-scroll-target="#complete-the-program">Complete the Program</a></li>
  </ul></li>
  <li><a href="#store-data-in-a-file" id="toc-store-data-in-a-file" class="nav-link" data-scroll-target="#store-data-in-a-file">Store Data in a File</a>
  <ul>
  <li><a href="#write-into-a-file" id="toc-write-into-a-file" class="nav-link" data-scroll-target="#write-into-a-file">Write into a File</a>
  <ul>
  <li><a href="#code-analysis-file-writing" id="toc-code-analysis-file-writing" class="nav-link" data-scroll-target="#code-analysis-file-writing">Code Analysis: File Writing</a></li>
  <li><a href="#write-the-sales-figures" id="toc-write-the-sales-figures" class="nav-link" data-scroll-target="#write-the-sales-figures">Write the Sales Figures</a></li>
  <li><a href="#code-analysis-the-save_sales-function" id="toc-code-analysis-the-save_sales-function" class="nav-link" data-scroll-target="#code-analysis-the-save_sales-function">Code Analysis: The <code>save_sales</code> Function</a></li>
  </ul></li>
  <li><a href="#read-from-a-file" id="toc-read-from-a-file" class="nav-link" data-scroll-target="#read-from-a-file">Read from a File</a>
  <ul>
  <li><a href="#code-analysis-reading-from-files" id="toc-code-analysis-reading-from-files" class="nav-link" data-scroll-target="#code-analysis-reading-from-files">Code Analysis: Reading from Files</a></li>
  <li><a href="#read-the-sales-figures" id="toc-read-the-sales-figures" class="nav-link" data-scroll-target="#read-the-sales-figures">Read the Sales Figures</a>
  <ul class="collapse">
  <li><a href="#code-analysis-the-load_sales-function" id="toc-code-analysis-the-load_sales-function" class="nav-link" data-scroll-target="#code-analysis-the-load_sales-function">Code Analysis: The <code>load_sales</code> Function</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#deal-with-file-errors" id="toc-deal-with-file-errors" class="nav-link" data-scroll-target="#deal-with-file-errors">Deal with File Errors</a>
  <ul>
  <li><a href="#code-analysis-dealing-with-file-handling-exceptions" id="toc-code-analysis-dealing-with-file-handling-exceptions" class="nav-link" data-scroll-target="#code-analysis-dealing-with-file-handling-exceptions">Code Analysis: Dealing with File Handling Exceptions</a></li>
  </ul></li>
  <li><a href="#use-the-with-construction-to-tidy-up-file-access" id="toc-use-the-with-construction-to-tidy-up-file-access" class="nav-link" data-scroll-target="#use-the-with-construction-to-tidy-up-file-access">Use the <code>with</code> Construction to Tidy up File Access</a></li>
  <li><a href="#make-something-happen-record-a-list-with-a-save-function" id="toc-make-something-happen-record-a-list-with-a-save-function" class="nav-link" data-scroll-target="#make-something-happen-record-a-list-with-a-save-function">Make Something Happen: Record a List with a <code>save</code> Function</a></li>
  </ul></li>
  <li><a href="#store-tables-of-data" id="toc-store-tables-of-data" class="nav-link" data-scroll-target="#store-tables-of-data">Store Tables of Data</a>
  <ul>
  <li><a href="#code-analysis-inadequate-index-values" id="toc-code-analysis-inadequate-index-values" class="nav-link" data-scroll-target="#code-analysis-inadequate-index-values">Code Analysis: Inadequate Index Values</a></li>
  <li><a href="#use-loops-to-work-with-tables" id="toc-use-loops-to-work-with-tables" class="nav-link" data-scroll-target="#use-loops-to-work-with-tables">Use Loops to Work with Tables</a>
  <ul>
  <li><a href="#code-analysis-loop-counting" id="toc-code-analysis-loop-counting" class="nav-link" data-scroll-target="#code-analysis-loop-counting">Code Analysis: Loop Counting</a></li>
  </ul></li>
  <li><a href="#more-than-two-dimensions" id="toc-more-than-two-dimensions" class="nav-link" data-scroll-target="#more-than-two-dimensions">More than Two Dimensions</a></li>
  </ul></li>
  <li><a href="#use-lists-as-lookup-tables" id="toc-use-lists-as-lookup-tables" class="nav-link" data-scroll-target="#use-lists-as-lookup-tables">Use Lists as Lookup Tables</a></li>
  <li><a href="#tuples" id="toc-tuples" class="nav-link" data-scroll-target="#tuples">Tuples</a></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#questions-and-answers" id="toc-questions-and-answers" class="nav-link" data-scroll-target="#questions-and-answers">Questions and Answers</a></li>
  </ul>
<div class="quarto-code-links"><h2>Code Links</h2><ul><li><a href="https://github.com/flempriere/BeginToCodeWithPython/" target="_blank"><i class="bi bi-github"></i>GitHub Repo</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../01_ProgrammingFundamentals/02_PythonAndProgramming/Chapter_02.html">Programming Fundamentals</a></li><li class="breadcrumb-item"><a href="../../01_ProgrammingFundamentals/08_StoringCollectionsOfData/Chapter_08.html">Chapter 8: Storing Collections of Data</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Chapter 8: Storing Collections of Data</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="notes" class="level2">
<h2 class="anchored" data-anchor-id="notes">Notes</h2>
<section id="lists-and-tracking-sales" class="level3">
<h3 class="anchored" data-anchor-id="lists-and-tracking-sales">Lists and Tracking Sales</h3>
<ul>
<li>Consider the following vignette</li>
<li>The owner of an ice-cream stand wants a program to track sales
<ul>
<li>There are ten stands, each selling multiple items</li>
<li>The program should take sales data as input and then provide the following views on the data
<ul>
<li>Sorted from lowest to highest</li>
<li>Sorted from highest to lowest</li>
<li>Show just the highest and the lowest</li>
<li>Show the total number of sales</li>
<li>Show the average number of sales</li>
</ul></li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Getting the specification right: Storyboarding</strong></p>
<p>Agreeing on the specification with your client is important. A technique is called storyboarding, best done by sitting down with a paper and pen (or a whiteboard)</p>
<p>A storyboard shows how the program should flow in response to various user inputs. E.g. depicting the menus the user might use, with a storyboard for each menu choice. The storyboard should also show how the program will work</p>
<p>For bigger programs you can break different components out into their own storyboards, much in the same way we built up functions. Storyboards depict what needs to happen, but not how to do it.</p>
</div>
</div>
<ul>
<li><p>Given the spec for the ice cream stand we can now outline the program</p>
<ol type="1">
<li>Store the sales data in variables</li>
<li>Implement a way to sort the data</li>
<li>A way to print the output</li>
<li>Store the data globally and pass it to functions to handle the work</li>
</ol></li>
<li><p>We can construct the prototype interface, similar to the <a href="../../01_ProgrammingFundamentals/05_MakingDecisions/Chapter_05.html#use-decisions-to-make-an-application">Ride Selector Program</a></p>
<pre class="shell"><code>  Ice-Cream Sales

  1: Print the Sales
  2: Sort Low to High
  3: Sort High to Low
  4: Highest and Lowest
  5: Total Sales
  6: Average Sales
  7: Enter Figures

  Enter your command: 3</code></pre></li>
</ul>
<section id="limitations-of-individual-variables" class="level4">
<h4 class="anchored" data-anchor-id="limitations-of-individual-variables">Limitations of Individual Variables</h4>
<ul>
<li>We first need to store the sales
<ul>
<li><p>For ten stores, we could theoretically use ten variables, one for each store</p></li>
<li><p>But this method becomes clunky when we want to start analysing the variables</p></li>
<li><p>E.g. the following code (<a href="./Examples/01_FindingLargestSales/FindingLargestSales.py">FindingLargestSales.py</a>), only handles finding if the first stand is the one with the greatest sales</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.1 Finding the Largest Sales</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Checks if sales1 has the largest sales. Demonstrates the difficulty of using</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># individual named variables to deal with aggregate data</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> BTCInput</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  sales1 <span class="op">=</span> BTCInput.read_int(<span class="st">"Enter the sales for stand 1: "</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  sales2 <span class="op">=</span> BTCInput.read_int(<span class="st">"Enter the sales for stand 2: "</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  sales3 <span class="op">=</span> BTCInput.read_int(<span class="st">"Enter the sales for stand 3: "</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  sales4 <span class="op">=</span> BTCInput.read_int(<span class="st">"Enter the sales for stand 4: "</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  sales5 <span class="op">=</span> BTCInput.read_int(<span class="st">"Enter the sales for stand 5: "</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  sales6 <span class="op">=</span> BTCInput.read_int(<span class="st">"Enter the sales for stand 6: "</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>  sales7 <span class="op">=</span> BTCInput.read_int(<span class="st">"Enter the sales for stand 7: "</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>  sales8 <span class="op">=</span> BTCInput.read_int(<span class="st">"Enter the sales for stand 8: "</span>)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  sales9 <span class="op">=</span> BTCInput.read_int(<span class="st">"Enter the sales for stand 9: "</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  sales10 <span class="op">=</span> BTCInput.read_int(<span class="st">"Enter the sales for stand 10: "</span>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>      sales1 <span class="op">&gt;</span> sales2</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>      <span class="kw">and</span> sales1 <span class="op">&gt;</span> sales3</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>      <span class="kw">and</span> sales1 <span class="op">&gt;</span> sales4</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>      <span class="kw">and</span> sales1 <span class="op">&gt;</span> sales5</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>      <span class="kw">and</span> sales1 <span class="op">&gt;</span> sales6</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>      <span class="kw">and</span> sales1 <span class="op">&gt;</span> sales7</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>      <span class="kw">and</span> sales1 <span class="op">&gt;</span> sales8</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>      <span class="kw">and</span> sales1 <span class="op">&gt;</span> sales9</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>      <span class="kw">and</span> sales1 <span class="op">&gt;</span> sales10</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>  ):</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Stand 1 had the best sales"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>Problem: We would have to repeat the code each time for each individual sales variable</p></li>
<li><p>If we add more stands, we have add another named variable and another big <code>if</code> statement</p>
<ul>
<li><strong>AND</strong> modify all the previous <code>if</code> statements</li>
</ul></li>
</ul></li>
<li>Clearly this approach is not very maintainable</li>
</ul>
</section>
<section id="lists-in-python" class="level4">
<h4 class="anchored" data-anchor-id="lists-in-python">Lists in Python</h4>
<ul>
<li>A collection is a <em>composite</em> type
<ul>
<li>It stores multiple elements of another type</li>
</ul></li>
<li>We’ve already (briefly) seen one type of collection the <em>tuple</em></li>
<li>The most common form of collection is the <code>list</code>
<ul>
<li>What it sounds like, a list of items</li>
</ul></li>
</ul>
<section id="make-something-happen-creating-a-list" class="level5">
<h5 class="anchored" data-anchor-id="make-something-happen-creating-a-list">Make Something Happen: Creating a List</h5>
<p><em>Open a python interpreter and work through the following steps to learn about</em> <code>list</code></p>
<ol type="1">
<li><p><em>A list is created using brackets around the contents</em> <code>[]</code><em>, e.g.</em></p>
<div id="62bff035" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a> sales <span class="op">=</span> []</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<ul>
<li>The above defines <code>sales</code> as an empty list</li>
</ul></li>
<li><p><em>Items can be appended to a</em> <code>list</code> <em>using the</em> <code>append</code> <em>function</em></p>
<div id="820937d3" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a> sales.append(<span class="dv">99</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a> sales</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>[99]</code></pre>
</div>
</div>
<ul>
<li>As we can see from above <code>sales</code> now contains the value <code>99</code></li>
</ul></li>
<li><p><em>Calling append again, adds the new item to the end of the list</em></p>
<div id="d8c0e2fc" class="cell" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a> sales.append(<span class="dv">100</span>)</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a> sales</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>[99, 100]</code></pre>
</div>
</div></li>
<li><p><em>Observe from above you can see the contents of a list, by simply typing the variable name in the interpreter</em></p>
<ul>
<li><p>In scripts we can also use the explicit <code>print</code> call</p>
<div id="feb69ad9" class="cell" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(sales)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>[99, 100]</code></pre>
</div>
</div></li>
</ul></li>
<li><p><em>You can access individual items of the list, using the <strong>indexing</strong> operator</em> <code>[]</code></p>
<div id="7a47ac37" class="cell" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a> sales[<span class="dv">0</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<pre><code>99</code></pre>
</div>
</div>
<ul>
<li>Syntax is <code>list_name[index]</code> where <code>index</code> is an integer giving the index of the item</li>
<li>Python lists are zero-indexed. i.e.&nbsp;the first value is stored at index <span class="math inline">\(0\)</span></li>
</ul></li>
<li><p><em>The indexing operator can be used to change the value of an item at a given index</em></p>
<div id="159ce820" class="cell" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a> sales[<span class="dv">1</span>] <span class="op">=</span> <span class="dv">101</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a> sales</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<pre><code>[99, 101]</code></pre>
</div>
</div>
<ul>
<li>The above changes the value of the second item in <code>sales</code> to <span class="math inline">\(101\)</span></li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Indexed elements must exist</strong></p>
<p>Whenever we use the indexing operator the index must exist! For example if we tried to view the (non-existent) third item, we would get an error, e.g.</p>
<div id="e125c6dd" class="cell" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a> example_list <span class="op">=</span> [<span class="dv">1</span>, <span class="dv">2</span>]</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a> <span class="bu">print</span>(example_list[<span class="dv">2</span>])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">IndexError</span>                                Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[7]</span><span class="ansi-green-fg">, line 2</span>
<span class="ansi-green-fg">      1</span> example_list = [<span class="ansi-green-fg">1</span>, <span class="ansi-green-fg">2</span>]
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">2</span> <span style="color:rgb(0,135,0)">print</span>(<span class="ansi-yellow-bg">example_list</span><span class="ansi-yellow-bg">[</span><span class="ansi-green-fg ansi-yellow-bg">2</span><span class="ansi-yellow-bg">]</span>)

<span class="ansi-red-fg">IndexError</span>: list index out of range</pre>
</div>
</div>
</div>
<p>The above illustrates the common <em>off-by-one</em> error where we access the last index past the list rather than the last element of the list. Here the type of exception thrown is called an <code>IndexError</code></p>
</div>
</div></li>
<li><p><em>A single list can store values of different types, and can replace items with new items of a different type</em></p>
<div id="e916ed09" class="cell" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a> sales.append(<span class="st">"Rob"</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a> sales[<span class="dv">0</span>] <span class="op">=</span> <span class="st">"Python"</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a> sales</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="8">
<pre><code>['Python', 101, 'Rob']</code></pre>
</div>
</div>
<ul>
<li>The above appends a new string <code>"Rob"</code>, converts <code>sales[0]</code> from an int to the string <code>"Python"</code> and leaves the number <span class="math inline">\(101\)</span> in <code>sales[1]</code> untouched</li>
<li>Overall list thus mixes string and integer types*</li>
</ul></li>
</ol>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Avoid Mixing Types in Lists</strong></p>
<p><em>ust because you </em>can* mix types in lists, doesn’t mean you <em>should.</em> Typically lists and list processing is much easier when a list stores all items of the same type*</p>
</div>
</div>
</section>
</section>
<section id="read-in-a-list" class="level4">
<h4 class="anchored" data-anchor-id="read-in-a-list">Read in a List</h4>
<ul>
<li><p>You can use loops to populate a list (see <a href="./Examples/02_ReadAndDisplay/ReadAndDisplay.py">ReadAndDisplay.py</a>)</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.2.1 Read and Display</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Demonstrates using a loop to populate a list</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> BTCInput</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create an empty list to populate</span></span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  sales <span class="op">=</span> []</span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>):</span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>      prompt <span class="op">=</span> <span class="st">"Enter the sales for stand "</span> <span class="op">+</span> <span class="bu">str</span>(count) <span class="op">+</span> <span class="st">": "</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>      sales.append(BTCInput.read_int(prompt))</span>
<span id="cb17-13"><a href="#cb17-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-14"><a href="#cb17-14" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(sales)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
<section id="code-analysis-investigate-a-list-reading-loop" class="level5">
<h5 class="anchored" data-anchor-id="code-analysis-investigate-a-list-reading-loop">Code Analysis: Investigate a List Reading Loop</h5>
<p><em>Examine the code given above and consider the following questions to understand how the list is processed</em></p>
<ol type="1">
<li><p><em>What is the purpose of the</em> <code>count</code> <em>variable?</em></p>
<ul>
<li><code>count</code> tracks the value of the current index in the loop. This is used to print the id for the sales stand we are collecting the data from</li>
</ul></li>
<li><p><em>Why does the range of</em> <code>count</code> <em>go from</em> <span class="math inline">\(1\)</span> <em>to</em> <span class="math inline">\(11\)</span><em>?</em></p>
<ul>
<li>The <code>range</code> function returns a collection with the start included but the stop excluded. Since we have stores <span class="math inline">\(1\)</span> through <span class="math inline">\(10\)</span>, we want the range to go from <span class="math inline">\(1\)</span> to <span class="math inline">\(11\)</span> so the generated numbers are <span class="math inline">\(1\)</span> through to <span class="math inline">\(10\)</span></li>
</ul></li>
<li><p><em>Which item in the list would hold the sales for stand number</em> <span class="math inline">\(1\)</span><em>?</em></p>
<ul>
<li>The first item in the list, or the zeroth indexed, i.e.&nbsp;<code>sales[0]</code></li>
</ul></li>
<li><p><em>What part of the code would have to be changed if we instead had</em> <span class="math inline">\(100\)</span> <em>stands?</em></p>
<ul>
<li><p>We simply change <code>range(1,11)</code> through to <code>range(1,101)</code></p></li>
<li><p>The program below (<a href="./Examples/02_ReadAndDisplay/ReadAndDisplay2.py">ReadAndDisplay2.py</a>) is a variant in which the user specifies the number of stands</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.2.2 Read and Display 2</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Improved version of Read and Display which allows the user to specify</span></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the number of stands</span></span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> BTCInput</span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>  <span class="co"># create an empty list to populate</span></span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>  sales <span class="op">=</span> []</span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>  number_of_stands <span class="op">=</span> BTCInput.read_int(<span class="st">"Enter the number of stands: "</span>)</span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, number_of_stands <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>      prompt <span class="op">=</span> <span class="st">"Enter the sales for stand "</span> <span class="op">+</span> <span class="bu">str</span>(count) <span class="op">+</span> <span class="st">": "</span></span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>      sales.append(BTCInput.read_int(prompt))</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-16"><a href="#cb18-16" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(sales)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>The above is more flexible, but as a result it is more complicated, the trade off between flexibility and ease of use is one that should be considered with the input of the users</p></li>
</ul></li>
<li><p><em>If I got one sales value wrong, would it be possible to edit the list to put in a corrected version?</em></p>
<ul>
<li>This is not implemented in the current program, but we have already seen that you can reassign the value of list at a given index, so we could implement this in a more complete program</li>
</ul></li>
</ol>
</section>
</section>
<section id="display-a-list-using-a-for-loop" class="level4">
<h4 class="anchored" data-anchor-id="display-a-list-using-a-for-loop">Display a <code>list</code> using a <code>for</code> Loop</h4>
<ul>
<li><p>We’ve already seen that <code>print</code> has a default way of displaying a list</p></li>
<li><p>We can use a <code>for</code> loop for if we want custom printing for each item</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.3 Read and Display Loop</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Uses a for loop to provide custom list printing</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> BTCInput</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>  sales <span class="op">=</span> []</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">11</span>):</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>      prompt <span class="op">=</span> <span class="st">"Enter the sales for stand "</span> <span class="op">+</span> <span class="bu">str</span>(count) <span class="op">+</span> <span class="st">": "</span></span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>      sales.append(BTCInput.read_int(prompt))</span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># print a heading</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Sales Figures"</span>)</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>  count <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> sales_value <span class="kw">in</span> sales:</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Sales for stand"</span>, count, <span class="st">"are"</span>, sales_value)</span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>      count <span class="op">=</span> count <span class="op">+</span> <span class="dv">1</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
<section id="make-something-happen-read-the-names-of-guests-for-a-party" class="level5">
<h5 class="anchored" data-anchor-id="make-something-happen-read-the-names-of-guests-for-a-party">Make Something Happen: Read the Names of Guests for a Party</h5>
<p><em>Lists can hold any type of data that you need to store, including strings. You can change the ice-cream sales program to read and store the names of guests for a party or an event you’re planning. Make a modified version of the sales program that reads in some guest names and then displays them. Make your program handle between</em> <span class="math inline">\(5\)</span> <em>and</em> <span class="math inline">\(15\)</span> <em>guests</em></p>
<ul>
<li>We basically just copy the previous program with the following changes
<ul>
<li><code>sales</code> <span class="math inline">\(\rightarrow\)</span> <code>guests</code></li>
<li><code>sales_value</code> <span class="math inline">\(\rightarrow\)</span> <code>guest</code></li>
<li>We change the prompts to appropriately refer to guests rather than sales</li>
</ul></li>
<li>The two main changes are
<ol type="1">
<li>We add an initial prompt for the number of guests
<ul>
<li>We use <code>BTCInput.read_int_ranged</code> to ensure the value is from <span class="math inline">\(5\)</span> to <span class="math inline">\(15\)</span></li>
</ul></li>
<li>We use <code>BTCInput.read_text</code> instead of <code>BTCInput.read_int</code> to get the guest names</li>
</ol></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Exercise 8.1 Party Guests</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">#</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># A program that receives and then prints a list of party guests</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Works for between 5 and 15 guests</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>    <span class="im">import</span> BTCInput</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>    guests <span class="op">=</span> []</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>    number_of_guests <span class="op">=</span> BTCInput.read_int_ranged(</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Enter the number of guests (5-15): "</span>, <span class="dv">5</span>, <span class="dv">15</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, number_of_guests <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>        prompt <span class="op">=</span> <span class="st">"Enter the name of guest "</span> <span class="op">+</span> <span class="bu">str</span>(count) <span class="op">+</span> <span class="st">": "</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a>        guests.append(BTCInput.read_text(prompt))</span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># print a heading</span></span>
<span id="cb20-18"><a href="#cb20-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Guests attending:"</span>)</span>
<span id="cb20-19"><a href="#cb20-19" aria-hidden="true" tabindex="-1"></a>    count <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb20-20"><a href="#cb20-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> guest <span class="kw">in</span> guests:</span>
<span id="cb20-21"><a href="#cb20-21" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"- "</span>, guest)</span>
<span id="cb20-22"><a href="#cb20-22" aria-hidden="true" tabindex="-1"></a>        count <span class="op">=</span> count <span class="op">+</span> <span class="dv">1</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
</section>
</section>
<section id="refactor-programs-into-functions" class="level3">
<h3 class="anchored" data-anchor-id="refactor-programs-into-functions">Refactor Programs into Functions</h3>
<ul>
<li><p>The previous examples build up our program as one long chain of events</p></li>
<li><p>However, if we think about our program this isn’t strictly the cleanest</p>
<ul>
<li>There are two distinct responsibilities occuring
<ol type="1">
<li>First we <em>read</em> in the data</li>
<li>Second we <em>display</em> the data</li>
</ol></li>
<li>These are natural candidates to be converted into functions</li>
</ul></li>
<li><p>By pairing these behaviours the program locks us into one way of processing data</p>
<ul>
<li>What happens if we want to read in a second set of data?</li>
<li>What if we want to print the data multiple times?</li>
</ul></li>
<li><p><em>Refactoring</em> is the process of modifying existing code</p>
<ul>
<li>Specifically changing how <em>factors</em> interact</li>
</ul></li>
<li><p><em>Refactoring</em> avoids the problem of overcomplicating the design at the start of the process</p>
<ul>
<li>Instead we write the program the most simple way we can</li>
<li>Then once a structure emerges, or we need to add functionality we can <em>refactor</em> the design</li>
</ul></li>
<li><p>Let us factor out the two key components identified above into a new implementation (<a href="./Examples/04_Functions/Functions.py">Functions.py</a>)</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.4 Functions</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Demonstrates refactoring a program into component functions</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> BTCInput</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  sales <span class="op">=</span> []</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> read_sales(number_of_sales):</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>      <span class="co">"""</span></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="co">      Reads in the sales values and stores them in the sales list</span></span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-14"><a href="#cb21-14" aria-hidden="true" tabindex="-1"></a><span class="co">      Parameters</span></span>
<span id="cb21-15"><a href="#cb21-15" aria-hidden="true" tabindex="-1"></a><span class="co">      ----------</span></span>
<span id="cb21-16"><a href="#cb21-16" aria-hidden="true" tabindex="-1"></a><span class="co">      number_of_sales : int</span></span>
<span id="cb21-17"><a href="#cb21-17" aria-hidden="true" tabindex="-1"></a><span class="co">          Number of Stores to record sales values for</span></span>
<span id="cb21-18"><a href="#cb21-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-19"><a href="#cb21-19" aria-hidden="true" tabindex="-1"></a><span class="co">      Returns</span></span>
<span id="cb21-20"><a href="#cb21-20" aria-hidden="true" tabindex="-1"></a><span class="co">      -------</span></span>
<span id="cb21-21"><a href="#cb21-21" aria-hidden="true" tabindex="-1"></a><span class="co">      None</span></span>
<span id="cb21-22"><a href="#cb21-22" aria-hidden="true" tabindex="-1"></a><span class="co">          Results are read into the sales list</span></span>
<span id="cb21-23"><a href="#cb21-23" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb21-24"><a href="#cb21-24" aria-hidden="true" tabindex="-1"></a>      sales.clear()  <span class="co"># remove existing sales values</span></span>
<span id="cb21-25"><a href="#cb21-25" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, number_of_sales <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb21-26"><a href="#cb21-26" aria-hidden="true" tabindex="-1"></a>          prompt <span class="op">=</span> <span class="st">"Enter the sales for stand "</span> <span class="op">+</span> <span class="bu">str</span>(count) <span class="op">+</span> <span class="st">": "</span></span>
<span id="cb21-27"><a href="#cb21-27" aria-hidden="true" tabindex="-1"></a>          sales.append(BTCInput.read_int(prompt))</span>
<span id="cb21-28"><a href="#cb21-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-29"><a href="#cb21-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-30"><a href="#cb21-30" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> print_sales():</span>
<span id="cb21-31"><a href="#cb21-31" aria-hidden="true" tabindex="-1"></a>      <span class="co">"""</span></span>
<span id="cb21-32"><a href="#cb21-32" aria-hidden="true" tabindex="-1"></a><span class="co">      Prints the sales figures on the screen with a heading.</span></span>
<span id="cb21-33"><a href="#cb21-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-34"><a href="#cb21-34" aria-hidden="true" tabindex="-1"></a><span class="co">      Each figure is numbered in sequence</span></span>
<span id="cb21-35"><a href="#cb21-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-36"><a href="#cb21-36" aria-hidden="true" tabindex="-1"></a><span class="co">      Returns</span></span>
<span id="cb21-37"><a href="#cb21-37" aria-hidden="true" tabindex="-1"></a><span class="co">      -------</span></span>
<span id="cb21-38"><a href="#cb21-38" aria-hidden="true" tabindex="-1"></a><span class="co">      None</span></span>
<span id="cb21-39"><a href="#cb21-39" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb21-40"><a href="#cb21-40" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Sales Figures"</span>)</span>
<span id="cb21-41"><a href="#cb21-41" aria-hidden="true" tabindex="-1"></a>      count <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb21-42"><a href="#cb21-42" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> sales_value <span class="kw">in</span> sales:</span>
<span id="cb21-43"><a href="#cb21-43" aria-hidden="true" tabindex="-1"></a>          <span class="bu">print</span>(<span class="st">"Sales for stand"</span>, count, <span class="st">"are"</span>, sales_value)</span>
<span id="cb21-44"><a href="#cb21-44" aria-hidden="true" tabindex="-1"></a>          count <span class="op">=</span> count <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb21-45"><a href="#cb21-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-46"><a href="#cb21-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-47"><a href="#cb21-47" aria-hidden="true" tabindex="-1"></a>  read_sales(<span class="dv">10</span>)</span>
<span id="cb21-48"><a href="#cb21-48" aria-hidden="true" tabindex="-1"></a>  print_sales()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
<section id="code-analysis-functions-in-the-sales-analysis-program" class="level4">
<h4 class="anchored" data-anchor-id="code-analysis-functions-in-the-sales-analysis-program">Code Analysis: Functions in the Sales Analysis Program</h4>
<p><em>Our sales analysis program now consists of two functions,</em> <code>read_sales</code> <em>and</em> <code>print_sales</code></p>
<ol type="1">
<li><p><em>What does the parameter for the</em> <code>read_sales</code> <em>function do?</em></p>
<ul>
<li>We hinted at in the previous section that we might want to account for the potential for the number of stands to change in a future implementation. To support this behaviour <code>read_sales</code> reads in the number of sales value that it should reads</li>
</ul></li>
<li><p><em>What does</em> <code>clear</code> <em>do?</em></p>
<ul>
<li>We want to start with a fresh list every time we read the sales values</li>
<li><code>clear</code> is a method on <code>list</code> objects that clears its contents</li>
</ul></li>
<li><p><em>Why don’t we need to tell the</em> <code>print_sales</code> <em>function how many sales figures to print?</em></p>
<ul>
<li>The <code>for</code> loop goes through the contents of the <code>sales</code> list</li>
<li>A list tracks its own size</li>
<li>In some languages like C, containers do not naturally track their sizes and we would need to specify them</li>
</ul></li>
<li><p><em>Why didn’t we have to write</em> <code>global sales</code> <em>in the</em> <code>read_sales</code> <em>function?</em></p>
<ul>
<li>Python variable names are references to memory</li>
<li>These are distinct from the <em>objects</em> that live in that memory</li>
<li>Assignments change what object a reference (variable) refers to
<ul>
<li>e.g.&nbsp;<code>sales=[]</code></li>
</ul></li>
<li>However, calling methods on a variable, is not changing the reference e.g.&nbsp;<code>sales.append(99)</code> (They change the object contents)
<ul>
<li>So we don’t need to use global because by calling methods its clear what reference we’re using</li>
</ul></li>
</ul></li>
</ol>
</section>
<section id="create-placeholder-functions" class="level4">
<h4 class="anchored" data-anchor-id="create-placeholder-functions">Create Placeholder Functions</h4>
<ul>
<li>A development technique called <em>stubs</em> is where we write placeholder functions before we can provide a complete implementation for a given behaviour</li>
<li>The placeholders are sometimes called <em>stub</em> functions e.g.&nbsp;the two below</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sort_high_to_low():</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Print out a sales list from highest to lowest</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a><span class="co">    None</span></span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a><span class="co">    See Also</span></span>
<span id="cb22-10"><a href="#cb22-10" aria-hidden="true" tabindex="-1"></a><span class="co">    --------</span></span>
<span id="cb22-11"><a href="#cb22-11" aria-hidden="true" tabindex="-1"></a><span class="co">    sort_low_to_high : sorts from lowest to highest</span></span>
<span id="cb22-12"><a href="#cb22-12" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb22-13"><a href="#cb22-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span>
<span id="cb22-14"><a href="#cb22-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-15"><a href="#cb22-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-16"><a href="#cb22-16" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sort_low_to_high():</span>
<span id="cb22-17"><a href="#cb22-17" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb22-18"><a href="#cb22-18" aria-hidden="true" tabindex="-1"></a><span class="co">    Print out a sales list from lowest to highest</span></span>
<span id="cb22-19"><a href="#cb22-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-20"><a href="#cb22-20" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb22-21"><a href="#cb22-21" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb22-22"><a href="#cb22-22" aria-hidden="true" tabindex="-1"></a><span class="co">    None</span></span>
<span id="cb22-23"><a href="#cb22-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb22-24"><a href="#cb22-24" aria-hidden="true" tabindex="-1"></a><span class="co">    See Also</span></span>
<span id="cb22-25"><a href="#cb22-25" aria-hidden="true" tabindex="-1"></a><span class="co">    --------</span></span>
<span id="cb22-26"><a href="#cb22-26" aria-hidden="true" tabindex="-1"></a><span class="co">    sort_high_to_low : sorts from highest to lowest</span></span>
<span id="cb22-27"><a href="#cb22-27" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb22-28"><a href="#cb22-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">pass</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>Placeholders let us model the flow of program before we have all the behaviours specified
<ul>
<li>Obviously does not model the complete program since the functions are incomplete</li>
</ul></li>
<li><code>pass</code> is a keyword for a statement that does nothing
<ul>
<li>It is effectively a placeholder statement</li>
</ul></li>
</ul>
</section>
<section id="create-a-user-menu" class="level4">
<h4 class="anchored" data-anchor-id="create-a-user-menu">Create a User Menu</h4>
<ul>
<li>At the start of the Chapter we defined a user interface
<ul>
<li>By using the previous discussion on stubbing, and our initial functions we can implement this menu (see the full implementation in <a href="./Examples/05_FunctionsAndMenu/FunctionsAndMenu.py">FunctionsAndMenu.py</a>)</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>  menu <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a><span class="st">  Ice Cream Sales</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="st">  1. Print the Sales</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="st">  2. Sort High to Low</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a><span class="st">  3. Sort Low to High</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a><span class="st">  4. Highest and Lowest</span></span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a><span class="st">  5. Total Sales</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a><span class="st">  6. Average Sales</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a><span class="st">  7. Enter Figures</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a><span class="st">  Enter your command: """</span></span>
<span id="cb23-13"><a href="#cb23-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-14"><a href="#cb23-14" aria-hidden="true" tabindex="-1"></a>  command <span class="op">=</span> BTCInput.read_int_ranged(menu, <span class="dv">1</span>, <span class="dv">7</span>)</span>
<span id="cb23-15"><a href="#cb23-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-16"><a href="#cb23-16" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> command <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb23-17"><a href="#cb23-17" aria-hidden="true" tabindex="-1"></a>      print_sales()</span>
<span id="cb23-18"><a href="#cb23-18" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">2</span>:</span>
<span id="cb23-19"><a href="#cb23-19" aria-hidden="true" tabindex="-1"></a>      sort_high_to_low()</span>
<span id="cb23-20"><a href="#cb23-20" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">3</span>:</span>
<span id="cb23-21"><a href="#cb23-21" aria-hidden="true" tabindex="-1"></a>      sort_low_to_high()</span>
<span id="cb23-22"><a href="#cb23-22" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">4</span>:</span>
<span id="cb23-23"><a href="#cb23-23" aria-hidden="true" tabindex="-1"></a>      highest_and_lowest()</span>
<span id="cb23-24"><a href="#cb23-24" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">5</span>:</span>
<span id="cb23-25"><a href="#cb23-25" aria-hidden="true" tabindex="-1"></a>      total_sales()</span>
<span id="cb23-26"><a href="#cb23-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">6</span>:</span>
<span id="cb23-27"><a href="#cb23-27" aria-hidden="true" tabindex="-1"></a>      average_sales()</span>
<span id="cb23-28"><a href="#cb23-28" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">7</span>:</span>
<span id="cb23-29"><a href="#cb23-29" aria-hidden="true" tabindex="-1"></a>      read_sales(<span class="dv">10</span>)</span>
<span id="cb23-30"><a href="#cb23-30" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>:</span>
<span id="cb23-31"><a href="#cb23-31" aria-hidden="true" tabindex="-1"></a>      <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Unexpected value "</span> <span class="op">+</span> <span class="bu">str</span>(command) <span class="op">+</span> <span class="st">" found"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li>We use stub functions for the unimplemented behaviour</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Using <code>Else</code> Clauses to Guard Against Modification</strong></p>
<p>In the <a href="#create-a-user-menu">example above</a> the final <code>else</code> clause should never trip because we expect the result of <code>BTCInput.read_int_ranged(menu, 1, 7)</code> to be between <span class="math inline">\(1\)</span> and <span class="math inline">\(7\)</span> (inclusive) which is captured by the <code>if..elif</code> chain</p>
<p>Why then do we include the <code>else</code> clause? The reason is to protect against modification. This could include,</p>
<ol type="1">
<li>The author of <code>BTCInput</code> introduces a bug in <code>read_int_ranged</code> that allows invalid input to leak through</li>
<li>Someone editing the sales program changes the allowed range of input for <code>read_int_ranged</code> (perhaps to introduce new functions) but forgets to include them in the <code>elif</code> chain</li>
</ol>
<p>In either case, the <code>else</code> clause trips, and rather than a silent error which may have occured if we expected the <code>else</code> to catch a <span class="math inline">\(7\)</span>, or if there was no <code>else</code> an exception is raised, which immediately notifies us that there’s a problem in the code</p>
<p>This technique of guarding against potential modifications is a simple technique for catching sources of errors and making sure you’re confirming your assumptions</p>
</div>
</div>
<section id="use-the-elif-keyword-to-simplify-conditions" class="level5">
<h5 class="anchored" data-anchor-id="use-the-elif-keyword-to-simplify-conditions">Use the <code>elif</code> keyword to simplify conditions</h5>
<ul>
<li>In many of the examples and exercises I’ve used <code>elif</code> to simplify cases where we would otherwise have a bunch of nested <code>if...else</code> conditions.</li>
<li><code>elif</code> is short for <code>else if</code> and is effectively a <em>next</em> condition to check if the first <code>if</code> (or all preceding <code>elif</code>) statement is <code>False</code>
<ul>
<li>All <code>elif</code> conditions must come before the <code>else</code></li>
</ul></li>
</ul>
</section>
</section>
</section>
<section id="sort-using-bubble-sort" class="level3">
<h3 class="anchored" data-anchor-id="sort-using-bubble-sort">Sort Using Bubble Sort</h3>
<ul>
<li>Sorting is a common task for computing programs</li>
<li>It can be time-intensive</li>
<li>There are often multiple ways that we may wish to sort things, e.g.
<ul>
<li>Alphabetically vs Numerically</li>
<li>Increasing vs Decreasing</li>
<li>Case-sensitive vs Case-insensitive</li>
</ul></li>
<li>Traditional sorts are down, one item (or pair of items) at a time</li>
<li>Algorithms, are a sequence of steps that solve a problem
<ul>
<li><em>Sorting Algorithms</em> are algorithms that sort collections</li>
<li>Programming is really the <em>implementation</em> of an algorithm</li>
</ul></li>
<li><em>Bubble Sort</em> is a simple sorting algorithm
<ul>
<li>Easy to follow and understand</li>
<li>Not scalable to larger data sets</li>
</ul></li>
</ul>
<section id="initialise-a-list-with-test-data" class="level4">
<h4 class="anchored" data-anchor-id="initialise-a-list-with-test-data">Initialise a list with Test Data</h4>
<ul>
<li>Often when implementing an algorithm we want to use a fixed set of <em>test data</em>
<ul>
<li>i.e.&nbsp;Data for which we can easily know the desired final state or output</li>
<li>Allows us to check our algorithm is not incorrect</li>
</ul></li>
<li>We can define a <code>list</code> in python with some contents,</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>sales <span class="op">=</span> [<span class="dv">50</span>, <span class="dv">54</span>, <span class="dv">29</span>, <span class="dv">33</span>, <span class="dv">22</span>, <span class="dv">100</span>, <span class="dv">45</span>, <span class="dv">54</span>, <span class="dv">89</span>, <span class="dv">75</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</section>
<section id="sort-a-list-from-high-to-low" class="level4">
<h4 class="anchored" data-anchor-id="sort-a-list-from-high-to-low">Sort a List from High to Low</h4>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">block-beta
    columns 6

    classDef BG stroke:transparent, fill:transparent

    index["Index"]:1
    class index BG

    block:Indices:5
    columns 10
        0
        1
        2
        3
        4
        5
        6
        7
        8
        9
    end

    value["Value"]:1
    class value BG

    block:Values:5
    columns 10
        50
        54_1["54"]
        29
        33
        22
        100
        45
        54_2["54"]
        89
        75
    end

</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<ul>
<li>The above shows how the test data looks in a python list</li>
<li>For a highest to lowest sort we want the largest value to be in index <span class="math inline">\(0\)</span> and the lowest in index <span class="math inline">\(9\)</span></li>
<li>The basic idea of <em>Bubble sort</em> is to compare neighbouring values, if the right value is larger we want to swap them so the larger value is on the left
<ul>
<li>Thus closer to the top of the list</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Swap Two Values in a Variable</strong></p>
<p>The following code to swap two variables is broken,</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> sales[<span class="dv">0</span>] <span class="op">&lt;</span> sales[<span class="dv">1</span>]:</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>    <span class="co"># the two items are in the wrong order and must be swapped</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>    sales[<span class="dv">0</span>] <span class="op">=</span> sales[<span class="dv">1</span>]</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>    sales[<span class="dv">1</span>] <span class="op">=</span> sales[<span class="dv">0</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>Why? Lets work through what happens</p>
<ol type="1">
<li><code>sales[0]</code> is set to the value of <code>sales[1]</code></li>
<li><code>sales[1]</code> is set to the <em>current</em> value of <code>sales[0]</code></li>
<li><em>But</em>, <code>sales[0]</code> has already been set to <code>sales[1]</code>
<ul>
<li>So <code>sales[1]</code> is set to the same value it already has</li>
</ul></li>
</ol>
<p>The net result is that we only copy <code>sales[1]</code> to <code>sales[0]</code></p>
<p>The correct implementation is given below,</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> sales[<span class="dv">0</span>] <span class="op">&lt;</span> sales[<span class="dv">1</span>]:</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>    temp <span class="op">=</span> sales[<span class="dv">0</span>]</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>    sales[<span class="dv">0</span>] <span class="op">=</span> sales[<span class="dv">1</span>]</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>    sales[<span class="dv">1</span>] <span class="op">=</span> temp</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><code>temp</code> is used to store the value of <code>sales[0]</code> before it was overwritten</p>
</div>
</div>
<p>Obviously, we don’t want to write the code with explicit reference to indices. However we can write this generically with a <code>for</code> loop as below</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(sales) <span class="op">-</span> <span class="dv">1</span>):</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> sales[count] <span class="op">&lt;</span> sales[count <span class="op">-</span> <span class="dv">1</span>]:</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>        temp <span class="op">=</span> sales[count]</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>        sales[count] <span class="op">=</span> sales[count <span class="op">+</span> <span class="dv">1</span>]</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>        sales[count <span class="op">+</span> <span class="dv">1</span>] <span class="op">=</span> temp</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section id="code-analysis-work-through-a-list-using-a-loop" class="level5">
<h5 class="anchored" data-anchor-id="code-analysis-work-through-a-list-using-a-loop">Code Analysis: Work through a List using a Loop</h5>
<p><em>The above code uses some new python features. Work through the following questions to understand what’s going on</em></p>
<ol type="1">
<li><p><em>Why have you used a</em> <code>for</code> <em>loop, rather than a</em> <code>while</code> <em>loop?</em></p>
<ul>
<li>We could use either, the <code>for</code> loop is slightly smaller since we don’t have to manually increment <code>count</code></li>
<li>Additionally <code>range</code> technically returns what is called a <em>generator</em>,</li>
<li>This is more memory efficient
<ul>
<li>Rather than creating a full list of numbers in memory, it just returns the next number each time the <code>for</code> loop requests it</li>
</ul></li>
</ul></li>
<li><p><em>What does the</em> <code>len</code> <em>function do on line</em> <span class="math inline">\(1\)</span><em>?</em></p>
<ul>
<li><code>len</code> returns the length of a collection, i.e.&nbsp;the number of items in the collection</li>
<li>This lets you write code that is insensitive to the size of the collection being worked with</li>
<li>Means our sorting code could work on any length list</li>
</ul></li>
<li><p><em>Why is the limit of</em> <code>count</code> <em>the length of the list minus 1?</em></p>
<ul>
<li>This is because bubble sort compares the current item to the item to its right, i.e.&nbsp;at the <strong>next</strong> index</li>
<li>If the range goes to the last index, then program will try an access an element one past the end of the list which doesn’t exist
<ul>
<li>This will cause an error. e.g.</li>
</ul></li>
</ul>
<div id="569b4a56" class="cell" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a> a_list <span class="op">=</span> [<span class="dv">1</span>,<span class="dv">2</span>]</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a> <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(a_list)):</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>     <span class="cf">if</span> a_list[count] <span class="op">&lt;</span> a_list[count <span class="op">+</span> <span class="dv">1</span>]:</span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>         temp <span class="op">=</span> a_list[count]</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a>         a_list[count] <span class="op">=</span> a_list[count <span class="op">+</span> <span class="dv">1</span>]</span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a>         a_list[count <span class="op">+</span> <span class="dv">1</span>] <span class="op">=</span> temp</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">IndexError</span>                                Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[9]</span><span class="ansi-green-fg">, line 3</span>
<span class="ansi-green-fg">      1</span> a_list = [<span class="ansi-green-fg">1</span>,<span class="ansi-green-fg">2</span>]
<span class="ansi-green-fg">      2</span> <span style="font-weight:bold;color:rgb(0,135,0)">for</span> count <span style="font-weight:bold;color:rgb(175,0,255)">in</span> <span style="color:rgb(0,135,0)">range</span>(<span class="ansi-green-fg">0</span>, <span style="color:rgb(0,135,0)">len</span>(a_list)):
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">3</span>     <span style="font-weight:bold;color:rgb(0,135,0)">if</span> a_list[count] &lt; <span class="ansi-yellow-bg">a_list</span><span class="ansi-yellow-bg">[</span><span class="ansi-yellow-bg">count</span><span class="ansi-yellow-bg"> </span><span class="ansi-yellow-bg">+</span><span class="ansi-yellow-bg"> </span><span class="ansi-green-fg ansi-yellow-bg">1</span><span class="ansi-yellow-bg">]</span>:
<span class="ansi-green-fg">      4</span>         temp = a_list[count]
<span class="ansi-green-fg">      5</span>         a_list[count] = a_list[count + <span class="ansi-green-fg">1</span>]

<span class="ansi-red-fg">IndexError</span>: list index out of range</pre>
</div>
</div>
</div></li>
</ol>
<ul>
<li>The <a href="./Examples/06_BubbleSortFirstPass/BubbleSortFirstPass.py">complete implementation</a> of the above discussion below performs <em>one</em> pass through the list</li>
</ul>
<div id="6ccd4580" class="cell" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example 8.6 Bubble Sort First Pass</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Implements the first pass of bubble sort and shows the impact on the list</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a><span class="co"># test data</span></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>sales <span class="op">=</span> [<span class="dv">50</span>, <span class="dv">54</span>, <span class="dv">29</span>, <span class="dv">33</span>, <span class="dv">22</span>, <span class="dv">100</span>, <span class="dv">45</span>, <span class="dv">54</span>, <span class="dv">89</span>, <span class="dv">75</span>]</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sort_high_to_low():</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a><span class="co">    Print out a sales list from highest to lowest</span></span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a><span class="co">    None</span></span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(sales) <span class="op">-</span> <span class="dv">1</span>):</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> sales[count] <span class="op">&lt;</span> sales[count <span class="op">+</span> <span class="dv">1</span>]:</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>            temp <span class="op">=</span> sales[count]</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>            sales[count] <span class="op">=</span> sales[count <span class="op">+</span> <span class="dv">1</span>]</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>            sales[count <span class="op">+</span> <span class="dv">1</span>] <span class="op">=</span> temp</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Input list:"</span>, sales)</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>sort_high_to_low()</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Output list:"</span>, sales)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Input list: [50, 54, 29, 33, 22, 100, 45, 54, 89, 75]
Output list: [54, 50, 33, 29, 100, 45, 54, 89, 75, 22]</code></pre>
</div>
</div>
<p>after which the test data looks like this</p>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">block-beta
    columns 6

    classDef BG stroke:transparent, fill:transparent

    index["Index"]:1
    class index BG

    block:Indices:5
    columns 10
        0
        1
        2
        3
        4
        5
        6
        7
        8
        9
    end

    value["Value"]:1
    class value BG

    block:Values:5
    columns 10
        54_1["54"]
        50
        33
        29
        100
        45
        54_2["54"]
        89
        75
        22
    end
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<ul>
<li>Notice that the list has been partially sorted
<ul>
<li>Also notice that the <em>smallest</em> value <span class="math inline">\(22\)</span> has been moved to the correct index (the end)</li>
<li>The high numbers effectively bubble left past <em>one</em> of the values smaller than them</li>
</ul></li>
<li>Since we can see that after sorting the <em>smallest</em> value has been moved to the end we expect on the second loop through the <em>second smallest</em> value will have been moved to the correct spot
<ul>
<li>So we want to loop through <code>len(sales)</code> times</li>
</ul></li>
<li>The working bubble sort implemention is then,</li>
</ul>
<div id="abb5764a" class="cell" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example 8.7 Bubble Sort Multiple Pass</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Implements a complete working version of bubble sort</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co"># test data</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>sales <span class="op">=</span> [<span class="dv">50</span>, <span class="dv">54</span>, <span class="dv">29</span>, <span class="dv">33</span>, <span class="dv">22</span>, <span class="dv">100</span>, <span class="dv">45</span>, <span class="dv">54</span>, <span class="dv">89</span>, <span class="dv">75</span>]</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sort_high_to_low():</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co">    Print out a sales list from highest to lowest</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a><span class="co">    None</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> sort_pass <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(sales)):</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(sales) <span class="op">-</span> <span class="dv">1</span>):</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> sales[count] <span class="op">&lt;</span> sales[count <span class="op">+</span> <span class="dv">1</span>]:</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>                temp <span class="op">=</span> sales[count]</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>                sales[count] <span class="op">=</span> sales[count <span class="op">+</span> <span class="dv">1</span>]</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>                sales[count <span class="op">+</span> <span class="dv">1</span>] <span class="op">=</span> temp</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Input list:"</span>, sales)</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>sort_high_to_low()</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Output list:"</span>, sales)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Input list: [50, 54, 29, 33, 22, 100, 45, 54, 89, 75]
Output list: [100, 89, 75, 54, 54, 50, 45, 33, 29, 22]</code></pre>
</div>
</div>
</section>
<section id="code-analysis-improving-performance" class="level5">
<h5 class="anchored" data-anchor-id="code-analysis-improving-performance">Code Analysis: Improving Performance</h5>
<p><em>As seen above, the sorting program now works correctly. Once you have a working implementation its worth investigating if there are changes you can make to improve the efficiency. Work through the following questions to get the idea</em></p>
<ol type="1">
<li><p><em>Is the program making more comparisons than necessary?</em></p>
<ul>
<li><p>Yes, as we mentioned before, after one pass the smallest item will always be at the end of the collection</p></li>
<li><p>This means we don’t need to check any swaps against it any more for the inner loop</p></li>
<li><p>After each pass the size of this sorted section increases by at least one</p></li>
<li><p>An implementation taking this into account is,</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> sort_pass <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(sales)):</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(sales) <span class="op">-</span> <span class="dv">1</span> <span class="op">-</span> sort_pass):</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> sales[count] <span class="op">&lt;</span> sales[count <span class="op">+</span> <span class="dv">1</span>]:</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>              temp <span class="op">=</span> sales[count]</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>              sales[count] <span class="op">=</span> sales[count <span class="op">+</span> <span class="dv">1</span>]</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>              sales[count <span class="op">+</span> <span class="dv">1</span>] <span class="op">=</span> temp</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul></li>
<li><p><em>Is the program performing more passes through the list than nessecary?</em></p>
<ul>
<li>Probably, unless the largest value is at the end of the list all values should be <em>bubbled</em> to their correct spot in less than <code>len(sales)</code> passes</li>
<li>We can stop doing additional passes if we work out the list is already sorted</li>
<li>How?
<ul>
<li>We use a flag to track if any swaps occur in a pass</li>
<li>If none do then the list is already sorted and we can stop</li>
</ul>
<div id="af59b0f6" class="cell" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.8 Efficient Bubble Sort</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># A bubble sort implementation incorporating efficiency savings to the number</span></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># of comparisons and passes through the list</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># test data</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  sales <span class="op">=</span> [<span class="dv">50</span>, <span class="dv">54</span>, <span class="dv">29</span>, <span class="dv">33</span>, <span class="dv">22</span>, <span class="dv">100</span>, <span class="dv">45</span>, <span class="dv">54</span>, <span class="dv">89</span>, <span class="dv">75</span>]</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> sort_high_to_low():</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>      <span class="co">"""</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="co">      Print out a sales list from highest to lowest</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a><span class="co">      Returns</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a><span class="co">      -------</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a><span class="co">      None</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> sort_pass <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(sales)):</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>          done_swap <span class="op">=</span> <span class="va">False</span></span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>          <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(sales) <span class="op">-</span> <span class="dv">1</span> <span class="op">-</span> sort_pass):</span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>              <span class="cf">if</span> sales[count] <span class="op">&lt;</span> sales[count <span class="op">+</span> <span class="dv">1</span>]:</span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>                  temp <span class="op">=</span> sales[count]</span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>                  sales[count] <span class="op">=</span> sales[count <span class="op">+</span> <span class="dv">1</span>]</span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>                  sales[count <span class="op">+</span> <span class="dv">1</span>] <span class="op">=</span> temp</span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>                  done_swap <span class="op">=</span> <span class="va">True</span></span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> <span class="kw">not</span> done_swap:</span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>              <span class="cf">break</span></span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Input list:"</span>, sales)</span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a>  sort_high_to_low()</span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Output list:"</span>, sales)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Input list: [50, 54, 29, 33, 22, 100, 45, 54, 89, 75]
Output list: [100, 89, 75, 54, 54, 50, 45, 33, 29, 22]</code></pre>
</div>
</div></li>
</ul></li>
</ol>
</section>
<section id="make-something-happen-sort-alphabetically" class="level5">
<h5 class="anchored" data-anchor-id="make-something-happen-sort-alphabetically">Make Something Happen: Sort Alphabetically</h5>
<p><em>Bubble sort works for strings as well as integers. We saw that in <a href="../../01_ProgrammingFundamentals/05_MakingDecisions/Chapter_05.html#comparison-operators">Chapter 5</a> the python relational operators also work for strings. See if you can modify the <a href="#make-something-happen-read-the-names-of-guests-for-a-party">Party Guest Program</a> to display the names in alphabetical order</em></p>
<p>We can basically just reuse our sort code, but renamed for the guest program.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sort_alphabetical():</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Sorts a list alphabetically</span></span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a><span class="co">    None</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> sort_pass <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(guests)):</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>        done_swap <span class="op">=</span> <span class="va">False</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(guests) <span class="op">-</span> <span class="dv">1</span> <span class="op">-</span> sort_pass):</span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> guests[count] <span class="op">&gt;</span> guests[count <span class="op">+</span> <span class="dv">1</span>]:</span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>                temp <span class="op">=</span> guests[count]</span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>                guests[count] <span class="op">=</span> guests[count <span class="op">+</span> <span class="dv">1</span>]</span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>                guests[count <span class="op">+</span> <span class="dv">1</span>] <span class="op">=</span> temp</span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>                done_swap <span class="op">=</span> <span class="va">True</span></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">not</span> done_swap:</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>There is a second modification above, which is changing the sign of the relational operator, e.g.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>guests[count] <span class="op">&lt;</span> guests[count <span class="op">+</span> <span class="dv">1</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>has been changed to,</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>guests[count] <span class="op">&gt;</span> guests[count <span class="op">+</span> <span class="dv">1</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>This is because as written the program tries to put the <em>smallest</em> strings last, but for strings; where the relational operator is alphabetically ordered this puts strings starting with <em>a</em> for example, after those starting with <em>z</em> etc. So we need to swap the sign so that the list is printed <em>a, b, … , z</em> etc.</p>
<p>Why don’t we have to make more modifications? Well the code as written only requires that the items being sorted are stored in a list, and that the items in the list can be compared with a relational operator. Both of these properties are satisfied by a collection of strings so the code effectively works out of the box</p>
<p>The complete code, including the integration with reading and printing the guest list is given in <a href="./Exercises/02_SortAlphabetically/SortAlphabetically.py">SortAlphabetically.py</a></p>
</section>
</section>
<section id="sort-a-list-from-low-to-high" class="level4">
<h4 class="anchored" data-anchor-id="sort-a-list-from-low-to-high">Sort a List from Low to High</h4>
<ul>
<li>To flip the direction of the sort, we just need the condition that determines what is out of order or not
<ul>
<li><p>We do this by changing <span class="math inline">\(&lt;\)</span> to <span class="math inline">\(&gt;\)</span>, i.e.</p>
<div id="e4b6cfb9" class="cell" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.9 Bubble Sort Low to High</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Implementation of Bubble Sort that sorts from low to high</span></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># test data</span></span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>  sales <span class="op">=</span> [<span class="dv">50</span>, <span class="dv">54</span>, <span class="dv">29</span>, <span class="dv">33</span>, <span class="dv">22</span>, <span class="dv">100</span>, <span class="dv">45</span>, <span class="dv">54</span>, <span class="dv">89</span>, <span class="dv">75</span>]</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> sort_low_to_high():</span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>      <span class="co">"""</span></span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a><span class="co">      Print out a sales list from highest to lowest</span></span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a><span class="co">      Returns</span></span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a><span class="co">      -------</span></span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a><span class="co">      None</span></span>
<span id="cb39-16"><a href="#cb39-16" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb39-17"><a href="#cb39-17" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> sort_pass <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(sales)):</span>
<span id="cb39-18"><a href="#cb39-18" aria-hidden="true" tabindex="-1"></a>          done_swap <span class="op">=</span> <span class="va">False</span></span>
<span id="cb39-19"><a href="#cb39-19" aria-hidden="true" tabindex="-1"></a>          <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(sales) <span class="op">-</span> <span class="dv">1</span> <span class="op">-</span> sort_pass):</span>
<span id="cb39-20"><a href="#cb39-20" aria-hidden="true" tabindex="-1"></a>              <span class="cf">if</span> sales[count] <span class="op">&gt;</span> sales[count <span class="op">+</span> <span class="dv">1</span>]:</span>
<span id="cb39-21"><a href="#cb39-21" aria-hidden="true" tabindex="-1"></a>                  temp <span class="op">=</span> sales[count]</span>
<span id="cb39-22"><a href="#cb39-22" aria-hidden="true" tabindex="-1"></a>                  sales[count] <span class="op">=</span> sales[count <span class="op">+</span> <span class="dv">1</span>]</span>
<span id="cb39-23"><a href="#cb39-23" aria-hidden="true" tabindex="-1"></a>                  sales[count <span class="op">+</span> <span class="dv">1</span>] <span class="op">=</span> temp</span>
<span id="cb39-24"><a href="#cb39-24" aria-hidden="true" tabindex="-1"></a>                  done_swap <span class="op">=</span> <span class="va">True</span></span>
<span id="cb39-25"><a href="#cb39-25" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> <span class="kw">not</span> done_swap:</span>
<span id="cb39-26"><a href="#cb39-26" aria-hidden="true" tabindex="-1"></a>              <span class="cf">break</span></span>
<span id="cb39-27"><a href="#cb39-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-28"><a href="#cb39-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-29"><a href="#cb39-29" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Input list:"</span>, sales)</span>
<span id="cb39-30"><a href="#cb39-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-31"><a href="#cb39-31" aria-hidden="true" tabindex="-1"></a>  sort_low_to_high()</span>
<span id="cb39-32"><a href="#cb39-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-33"><a href="#cb39-33" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Output list:"</span>, sales)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Input list: [50, 54, 29, 33, 22, 100, 45, 54, 89, 75]
Output list: [22, 29, 33, 45, 50, 54, 54, 75, 89, 100]</code></pre>
</div>
</div></li>
</ul></li>
<li>The code above is given in <a href="./Examples/09_BubbleSortLowToHigh/BubbleSortLowToHigh.py">BubbleSortLowToHigh.py</a></li>
</ul>
</section>
<section id="find-the-highest-and-lowest-sales-values" class="level4">
<h4 class="anchored" data-anchor-id="find-the-highest-and-lowest-sales-values">Find the Highest and Lowest Sales Values</h4>
<ul>
<li><p>In comparison to sorting, <em>finding</em> a value is much easier</p></li>
<li><p>The basic outline for finding the highest is,</p>
<pre class="text"><code>  for values in collection
      if(new value &gt; highest seen so far)
          highest = new value</code></pre></li>
<li><p>We can write the code for the highest and lowest in python then as,</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>  highest <span class="op">=</span> sales[<span class="dv">0</span>]</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> sales_value <span class="kw">in</span> sales:</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> sales_value <span class="op">&gt;</span> highest:</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>          highest <span class="op">=</span> sales_value</span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  lowest <span class="op">=</span> sales[<span class="dv">0</span>]</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> sales_value <span class="kw">in</span> sales:</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> sales_value <span class="op">&lt;</span> lowest:</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>          lowest <span class="op">=</span> sales_value</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>If we want to find both at the same time, then we can combine the code above, which means we only have to do one pass through the collection</p>
<div id="2010eb7b" class="cell" data-execution_count="14">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.10 Highest and Lowest</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Function that finds the highest and lowest value in a collection</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.9 Bubble Sort Low to High</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Implementation of Bubble Sort that sorts from low to high</span></span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># test data</span></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a>  sales <span class="op">=</span> [<span class="dv">50</span>, <span class="dv">54</span>, <span class="dv">29</span>, <span class="dv">33</span>, <span class="dv">22</span>, <span class="dv">100</span>, <span class="dv">45</span>, <span class="dv">54</span>, <span class="dv">89</span>, <span class="dv">75</span>]</span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> highest_and_lowest():</span>
<span id="cb43-14"><a href="#cb43-14" aria-hidden="true" tabindex="-1"></a>      <span class="co">"""</span></span>
<span id="cb43-15"><a href="#cb43-15" aria-hidden="true" tabindex="-1"></a><span class="co">      Print out the highest and lowest elements of a sales list</span></span>
<span id="cb43-16"><a href="#cb43-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-17"><a href="#cb43-17" aria-hidden="true" tabindex="-1"></a><span class="co">      Returns</span></span>
<span id="cb43-18"><a href="#cb43-18" aria-hidden="true" tabindex="-1"></a><span class="co">      -------</span></span>
<span id="cb43-19"><a href="#cb43-19" aria-hidden="true" tabindex="-1"></a><span class="co">      None</span></span>
<span id="cb43-20"><a href="#cb43-20" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb43-21"><a href="#cb43-21" aria-hidden="true" tabindex="-1"></a>      highest <span class="op">=</span> sales[<span class="dv">0</span>]</span>
<span id="cb43-22"><a href="#cb43-22" aria-hidden="true" tabindex="-1"></a>      lowest <span class="op">=</span> sales[<span class="dv">0</span>]</span>
<span id="cb43-23"><a href="#cb43-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-24"><a href="#cb43-24" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> sales_value <span class="kw">in</span> sales:</span>
<span id="cb43-25"><a href="#cb43-25" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> sales_value <span class="op">&gt;</span> highest:</span>
<span id="cb43-26"><a href="#cb43-26" aria-hidden="true" tabindex="-1"></a>              highest <span class="op">=</span> sales_value</span>
<span id="cb43-27"><a href="#cb43-27" aria-hidden="true" tabindex="-1"></a>          <span class="cf">elif</span> sales_value <span class="op">&lt;</span> lowest:</span>
<span id="cb43-28"><a href="#cb43-28" aria-hidden="true" tabindex="-1"></a>              lowest <span class="op">=</span> sales_value</span>
<span id="cb43-29"><a href="#cb43-29" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"The highest is:"</span>, highest)</span>
<span id="cb43-30"><a href="#cb43-30" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"The lowest is"</span>, lowest)</span>
<span id="cb43-31"><a href="#cb43-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-32"><a href="#cb43-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-33"><a href="#cb43-33" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Input list:"</span>, sales)</span>
<span id="cb43-34"><a href="#cb43-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-35"><a href="#cb43-35" aria-hidden="true" tabindex="-1"></a>  highest_and_lowest()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Input list: [50, 54, 29, 33, 22, 100, 45, 54, 89, 75]
The highest is: 100
The lowest is 22</code></pre>
</div>
</div>
<ul>
<li>The code above is given in <a href="./Examples/10_FindHighestAndLowest/HighestAndLowest.py">HighestAndLowest.py</a></li>
</ul></li>
</ul>
</section>
<section id="evaluate-total-and-average-sales" class="level4">
<h4 class="anchored" data-anchor-id="evaluate-total-and-average-sales">Evaluate Total and Average Sales</h4>
<ul>
<li><p>To evaluate the total we have to sum the contents of a list, simple using the <code>for</code> loops we’ve looked at, (implementation in <a href="./Examples/11_TotalSales/TotalSales.py">TotalSales.py</a>)</p>
<div id="4d5051f3" class="cell" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.11 Total Sales</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate the Total Sales</span></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># test data</span></span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>  sales <span class="op">=</span> [<span class="dv">50</span>, <span class="dv">54</span>, <span class="dv">29</span>, <span class="dv">33</span>, <span class="dv">22</span>, <span class="dv">100</span>, <span class="dv">45</span>, <span class="dv">54</span>, <span class="dv">89</span>, <span class="dv">75</span>]</span>
<span id="cb45-7"><a href="#cb45-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-8"><a href="#cb45-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-9"><a href="#cb45-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> total_sales():</span>
<span id="cb45-10"><a href="#cb45-10" aria-hidden="true" tabindex="-1"></a>      <span class="co">"""</span></span>
<span id="cb45-11"><a href="#cb45-11" aria-hidden="true" tabindex="-1"></a><span class="co">      Print out the total sales of a sales list</span></span>
<span id="cb45-12"><a href="#cb45-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-13"><a href="#cb45-13" aria-hidden="true" tabindex="-1"></a><span class="co">      Returns</span></span>
<span id="cb45-14"><a href="#cb45-14" aria-hidden="true" tabindex="-1"></a><span class="co">      -------</span></span>
<span id="cb45-15"><a href="#cb45-15" aria-hidden="true" tabindex="-1"></a><span class="co">      None</span></span>
<span id="cb45-16"><a href="#cb45-16" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb45-17"><a href="#cb45-17" aria-hidden="true" tabindex="-1"></a>      total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb45-18"><a href="#cb45-18" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> sales_value <span class="kw">in</span> sales:</span>
<span id="cb45-19"><a href="#cb45-19" aria-hidden="true" tabindex="-1"></a>          total <span class="op">=</span> total <span class="op">+</span> sales_value</span>
<span id="cb45-20"><a href="#cb45-20" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Total sales are:"</span>, total)</span>
<span id="cb45-21"><a href="#cb45-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-22"><a href="#cb45-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-23"><a href="#cb45-23" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Input list:"</span>, sales)</span>
<span id="cb45-24"><a href="#cb45-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-25"><a href="#cb45-25" aria-hidden="true" tabindex="-1"></a>  total_sales()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Input list: [50, 54, 29, 33, 22, 100, 45, 54, 89, 75]
Total sales are: 551</code></pre>
</div>
</div></li>
<li><p>It is a simple extra step to them calculate the average, (divide the total by the number of elements in the collection)</p>
<div id="7ba7e189" class="cell" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.12 Average Sales</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate the Average Sales</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># test data</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>  sales <span class="op">=</span> [<span class="dv">50</span>, <span class="dv">54</span>, <span class="dv">29</span>, <span class="dv">33</span>, <span class="dv">22</span>, <span class="dv">100</span>, <span class="dv">45</span>, <span class="dv">54</span>, <span class="dv">89</span>, <span class="dv">75</span>]</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> average_sales():</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>      <span class="co">"""</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a><span class="co">      Print out the average sales of a sales list</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a><span class="co">      Returns</span></span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a><span class="co">      -------</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a><span class="co">      None</span></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>      total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> sales_value <span class="kw">in</span> sales:</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>          total <span class="op">=</span> total <span class="op">+</span> sales_value</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>      average_sales <span class="op">=</span> total <span class="op">/</span> <span class="bu">len</span>(sales)</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Average sales are:"</span>, average_sales)</span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Input list:"</span>, sales)</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>  average_sales()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Input list: [50, 54, 29, 33, 22, 100, 45, 54, 89, 75]
Average sales are: 55.1</code></pre>
</div>
</div></li>
</ul>
</section>
<section id="complete-the-program" class="level4">
<h4 class="anchored" data-anchor-id="complete-the-program">Complete the Program</h4>
<ul>
<li>The previous Exercises have given us all the parts, now we want to put it together</li>
<li>The crux of our program should be a loop around <a href="#create-a-user-menu">the menu</a> through which the user selects different functions</li>
<li>We first however need to read in the data from the user</li>
<li>For useability we should add the ability to quit the program</li>
<li>The <a href="./Examples/13_CompleteProgram/CompleteProgram.py">final program</a> implements this</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example 8.13 Complete Program</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a><span class="co"># A Complete implementation of the Sales Program combining all the individual</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a><span class="co"># programs that we have implemented</span></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> BTCInput</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>sales <span class="op">=</span> []</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> read_sales(number_of_sales):</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a><span class="co">    Reads in the sales values and stores them in the sales list</span></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters</span></span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a><span class="co">    ----------</span></span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a><span class="co">    number_of_sales : int</span></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a><span class="co">        Number of Stores to record sales values for</span></span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a><span class="co">    None</span></span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a><span class="co">        Results are read into the sales list</span></span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a>    sales.clear()  <span class="co"># remove existing sales values</span></span>
<span id="cb49-26"><a href="#cb49-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, number_of_sales <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb49-27"><a href="#cb49-27" aria-hidden="true" tabindex="-1"></a>        prompt <span class="op">=</span> <span class="st">"Enter the sales for stand "</span> <span class="op">+</span> <span class="bu">str</span>(count) <span class="op">+</span> <span class="st">": "</span></span>
<span id="cb49-28"><a href="#cb49-28" aria-hidden="true" tabindex="-1"></a>        sales.append(BTCInput.read_int(prompt))</span>
<span id="cb49-29"><a href="#cb49-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-30"><a href="#cb49-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-31"><a href="#cb49-31" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> print_sales():</span>
<span id="cb49-32"><a href="#cb49-32" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb49-33"><a href="#cb49-33" aria-hidden="true" tabindex="-1"></a><span class="co">    Prints the sales figures on the screen with a heading. Each figure is</span></span>
<span id="cb49-34"><a href="#cb49-34" aria-hidden="true" tabindex="-1"></a><span class="co">    numbered in sequence</span></span>
<span id="cb49-35"><a href="#cb49-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-36"><a href="#cb49-36" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb49-37"><a href="#cb49-37" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb49-38"><a href="#cb49-38" aria-hidden="true" tabindex="-1"></a><span class="co">    None</span></span>
<span id="cb49-39"><a href="#cb49-39" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb49-40"><a href="#cb49-40" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Sales Figures"</span>)</span>
<span id="cb49-41"><a href="#cb49-41" aria-hidden="true" tabindex="-1"></a>    count <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb49-42"><a href="#cb49-42" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> sales_value <span class="kw">in</span> sales:</span>
<span id="cb49-43"><a href="#cb49-43" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Sales for stand"</span>, count, <span class="st">"are"</span>, sales_value)</span>
<span id="cb49-44"><a href="#cb49-44" aria-hidden="true" tabindex="-1"></a>        count <span class="op">=</span> count <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb49-45"><a href="#cb49-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-46"><a href="#cb49-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-47"><a href="#cb49-47" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sort_high_to_low():</span>
<span id="cb49-48"><a href="#cb49-48" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb49-49"><a href="#cb49-49" aria-hidden="true" tabindex="-1"></a><span class="co">    Print out a sales list from highest to lowest</span></span>
<span id="cb49-50"><a href="#cb49-50" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-51"><a href="#cb49-51" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb49-52"><a href="#cb49-52" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb49-53"><a href="#cb49-53" aria-hidden="true" tabindex="-1"></a><span class="co">    None</span></span>
<span id="cb49-54"><a href="#cb49-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-55"><a href="#cb49-55" aria-hidden="true" tabindex="-1"></a><span class="co">    See Also</span></span>
<span id="cb49-56"><a href="#cb49-56" aria-hidden="true" tabindex="-1"></a><span class="co">    --------</span></span>
<span id="cb49-57"><a href="#cb49-57" aria-hidden="true" tabindex="-1"></a><span class="co">    sort_low_to_high : sorts from lowest to highest</span></span>
<span id="cb49-58"><a href="#cb49-58" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb49-59"><a href="#cb49-59" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> sort_pass <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(sales)):</span>
<span id="cb49-60"><a href="#cb49-60" aria-hidden="true" tabindex="-1"></a>        done_swap <span class="op">=</span> <span class="va">False</span></span>
<span id="cb49-61"><a href="#cb49-61" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(sales) <span class="op">-</span> <span class="dv">1</span> <span class="op">-</span> sort_pass):</span>
<span id="cb49-62"><a href="#cb49-62" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> sales[count] <span class="op">&lt;</span> sales[count <span class="op">+</span> <span class="dv">1</span>]:</span>
<span id="cb49-63"><a href="#cb49-63" aria-hidden="true" tabindex="-1"></a>                temp <span class="op">=</span> sales[count]</span>
<span id="cb49-64"><a href="#cb49-64" aria-hidden="true" tabindex="-1"></a>                sales[count] <span class="op">=</span> sales[count <span class="op">+</span> <span class="dv">1</span>]</span>
<span id="cb49-65"><a href="#cb49-65" aria-hidden="true" tabindex="-1"></a>                sales[count <span class="op">+</span> <span class="dv">1</span>] <span class="op">=</span> temp</span>
<span id="cb49-66"><a href="#cb49-66" aria-hidden="true" tabindex="-1"></a>                done_swap <span class="op">=</span> <span class="va">True</span></span>
<span id="cb49-67"><a href="#cb49-67" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">not</span> done_swap:</span>
<span id="cb49-68"><a href="#cb49-68" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb49-69"><a href="#cb49-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-70"><a href="#cb49-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-71"><a href="#cb49-71" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> sort_low_to_high():</span>
<span id="cb49-72"><a href="#cb49-72" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb49-73"><a href="#cb49-73" aria-hidden="true" tabindex="-1"></a><span class="co">    Print out a sales list from lowest to highest</span></span>
<span id="cb49-74"><a href="#cb49-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-75"><a href="#cb49-75" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb49-76"><a href="#cb49-76" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb49-77"><a href="#cb49-77" aria-hidden="true" tabindex="-1"></a><span class="co">    None</span></span>
<span id="cb49-78"><a href="#cb49-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-79"><a href="#cb49-79" aria-hidden="true" tabindex="-1"></a><span class="co">    See Also</span></span>
<span id="cb49-80"><a href="#cb49-80" aria-hidden="true" tabindex="-1"></a><span class="co">    --------</span></span>
<span id="cb49-81"><a href="#cb49-81" aria-hidden="true" tabindex="-1"></a><span class="co">    sort_high_to_low : sorts from highest to lowest</span></span>
<span id="cb49-82"><a href="#cb49-82" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb49-83"><a href="#cb49-83" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> sort_pass <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(sales)):</span>
<span id="cb49-84"><a href="#cb49-84" aria-hidden="true" tabindex="-1"></a>        done_swap <span class="op">=</span> <span class="va">False</span></span>
<span id="cb49-85"><a href="#cb49-85" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> count <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">0</span>, <span class="bu">len</span>(sales) <span class="op">-</span> <span class="dv">1</span> <span class="op">-</span> sort_pass):</span>
<span id="cb49-86"><a href="#cb49-86" aria-hidden="true" tabindex="-1"></a>            <span class="cf">if</span> sales[count] <span class="op">&gt;</span> sales[count <span class="op">+</span> <span class="dv">1</span>]:</span>
<span id="cb49-87"><a href="#cb49-87" aria-hidden="true" tabindex="-1"></a>                temp <span class="op">=</span> sales[count]</span>
<span id="cb49-88"><a href="#cb49-88" aria-hidden="true" tabindex="-1"></a>                sales[count] <span class="op">=</span> sales[count <span class="op">+</span> <span class="dv">1</span>]</span>
<span id="cb49-89"><a href="#cb49-89" aria-hidden="true" tabindex="-1"></a>                sales[count <span class="op">+</span> <span class="dv">1</span>] <span class="op">=</span> temp</span>
<span id="cb49-90"><a href="#cb49-90" aria-hidden="true" tabindex="-1"></a>                done_swap <span class="op">=</span> <span class="va">True</span></span>
<span id="cb49-91"><a href="#cb49-91" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> <span class="kw">not</span> done_swap:</span>
<span id="cb49-92"><a href="#cb49-92" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb49-93"><a href="#cb49-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-94"><a href="#cb49-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-95"><a href="#cb49-95" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> highest_and_lowest():</span>
<span id="cb49-96"><a href="#cb49-96" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb49-97"><a href="#cb49-97" aria-hidden="true" tabindex="-1"></a><span class="co">    Print out the highest and lowest elements of a sales list</span></span>
<span id="cb49-98"><a href="#cb49-98" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-99"><a href="#cb49-99" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb49-100"><a href="#cb49-100" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb49-101"><a href="#cb49-101" aria-hidden="true" tabindex="-1"></a><span class="co">    None</span></span>
<span id="cb49-102"><a href="#cb49-102" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb49-103"><a href="#cb49-103" aria-hidden="true" tabindex="-1"></a>    highest <span class="op">=</span> sales[<span class="dv">0</span>]</span>
<span id="cb49-104"><a href="#cb49-104" aria-hidden="true" tabindex="-1"></a>    lowest <span class="op">=</span> sales[<span class="dv">0</span>]</span>
<span id="cb49-105"><a href="#cb49-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-106"><a href="#cb49-106" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> sales_value <span class="kw">in</span> sales:</span>
<span id="cb49-107"><a href="#cb49-107" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> sales_value <span class="op">&gt;</span> highest:</span>
<span id="cb49-108"><a href="#cb49-108" aria-hidden="true" tabindex="-1"></a>            highest <span class="op">=</span> sales_value</span>
<span id="cb49-109"><a href="#cb49-109" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> sales_value <span class="op">&lt;</span> lowest:</span>
<span id="cb49-110"><a href="#cb49-110" aria-hidden="true" tabindex="-1"></a>            lowest <span class="op">=</span> sales_value</span>
<span id="cb49-111"><a href="#cb49-111" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"The highest is:"</span>, highest)</span>
<span id="cb49-112"><a href="#cb49-112" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"The lowest is"</span>, lowest)</span>
<span id="cb49-113"><a href="#cb49-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-114"><a href="#cb49-114" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-115"><a href="#cb49-115" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> total_sales():</span>
<span id="cb49-116"><a href="#cb49-116" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb49-117"><a href="#cb49-117" aria-hidden="true" tabindex="-1"></a><span class="co">    Print out the total sales of a sales list</span></span>
<span id="cb49-118"><a href="#cb49-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-119"><a href="#cb49-119" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb49-120"><a href="#cb49-120" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb49-121"><a href="#cb49-121" aria-hidden="true" tabindex="-1"></a><span class="co">    None</span></span>
<span id="cb49-122"><a href="#cb49-122" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb49-123"><a href="#cb49-123" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb49-124"><a href="#cb49-124" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> sales_value <span class="kw">in</span> sales:</span>
<span id="cb49-125"><a href="#cb49-125" aria-hidden="true" tabindex="-1"></a>        total <span class="op">=</span> total <span class="op">+</span> sales_value</span>
<span id="cb49-126"><a href="#cb49-126" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Total sales are:"</span>, total)</span>
<span id="cb49-127"><a href="#cb49-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-128"><a href="#cb49-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-129"><a href="#cb49-129" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> average_sales():</span>
<span id="cb49-130"><a href="#cb49-130" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb49-131"><a href="#cb49-131" aria-hidden="true" tabindex="-1"></a><span class="co">    Print out the average sales of a sales list</span></span>
<span id="cb49-132"><a href="#cb49-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-133"><a href="#cb49-133" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb49-134"><a href="#cb49-134" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb49-135"><a href="#cb49-135" aria-hidden="true" tabindex="-1"></a><span class="co">    None</span></span>
<span id="cb49-136"><a href="#cb49-136" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb49-137"><a href="#cb49-137" aria-hidden="true" tabindex="-1"></a>    total <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb49-138"><a href="#cb49-138" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> sales_value <span class="kw">in</span> sales:</span>
<span id="cb49-139"><a href="#cb49-139" aria-hidden="true" tabindex="-1"></a>        total <span class="op">=</span> total <span class="op">+</span> sales_value</span>
<span id="cb49-140"><a href="#cb49-140" aria-hidden="true" tabindex="-1"></a>    average_sales <span class="op">=</span> total <span class="op">/</span> <span class="bu">len</span>(sales)</span>
<span id="cb49-141"><a href="#cb49-141" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Average sales are:"</span>, average_sales)</span>
<span id="cb49-142"><a href="#cb49-142" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-143"><a href="#cb49-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-144"><a href="#cb49-144" aria-hidden="true" tabindex="-1"></a><span class="co"># Get initial sales list</span></span>
<span id="cb49-145"><a href="#cb49-145" aria-hidden="true" tabindex="-1"></a>read_sales(<span class="dv">10</span>)</span>
<span id="cb49-146"><a href="#cb49-146" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-147"><a href="#cb49-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-148"><a href="#cb49-148" aria-hidden="true" tabindex="-1"></a>menu <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb49-149"><a href="#cb49-149" aria-hidden="true" tabindex="-1"></a><span class="st">Ice Cream Sales</span></span>
<span id="cb49-150"><a href="#cb49-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-151"><a href="#cb49-151" aria-hidden="true" tabindex="-1"></a><span class="st">0. Quit the Program</span></span>
<span id="cb49-152"><a href="#cb49-152" aria-hidden="true" tabindex="-1"></a><span class="st">1. Print the Sales</span></span>
<span id="cb49-153"><a href="#cb49-153" aria-hidden="true" tabindex="-1"></a><span class="st">2. Sort High to Low</span></span>
<span id="cb49-154"><a href="#cb49-154" aria-hidden="true" tabindex="-1"></a><span class="st">3. Sort Low to High</span></span>
<span id="cb49-155"><a href="#cb49-155" aria-hidden="true" tabindex="-1"></a><span class="st">4. Highest and Lowest</span></span>
<span id="cb49-156"><a href="#cb49-156" aria-hidden="true" tabindex="-1"></a><span class="st">5. Total Sales</span></span>
<span id="cb49-157"><a href="#cb49-157" aria-hidden="true" tabindex="-1"></a><span class="st">6. Average Sales</span></span>
<span id="cb49-158"><a href="#cb49-158" aria-hidden="true" tabindex="-1"></a><span class="st">7. Enter Figures</span></span>
<span id="cb49-159"><a href="#cb49-159" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-160"><a href="#cb49-160" aria-hidden="true" tabindex="-1"></a><span class="st">Enter your command: """</span></span>
<span id="cb49-161"><a href="#cb49-161" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-162"><a href="#cb49-162" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb49-163"><a href="#cb49-163" aria-hidden="true" tabindex="-1"></a>    command <span class="op">=</span> BTCInput.read_int_ranged(menu, <span class="dv">0</span>, <span class="dv">7</span>)</span>
<span id="cb49-164"><a href="#cb49-164" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> command <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb49-165"><a href="#cb49-165" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span></span>
<span id="cb49-166"><a href="#cb49-166" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> command <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb49-167"><a href="#cb49-167" aria-hidden="true" tabindex="-1"></a>        print_sales()</span>
<span id="cb49-168"><a href="#cb49-168" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">2</span>:</span>
<span id="cb49-169"><a href="#cb49-169" aria-hidden="true" tabindex="-1"></a>        sort_high_to_low()</span>
<span id="cb49-170"><a href="#cb49-170" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">3</span>:</span>
<span id="cb49-171"><a href="#cb49-171" aria-hidden="true" tabindex="-1"></a>        sort_low_to_high()</span>
<span id="cb49-172"><a href="#cb49-172" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">4</span>:</span>
<span id="cb49-173"><a href="#cb49-173" aria-hidden="true" tabindex="-1"></a>        highest_and_lowest()</span>
<span id="cb49-174"><a href="#cb49-174" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">5</span>:</span>
<span id="cb49-175"><a href="#cb49-175" aria-hidden="true" tabindex="-1"></a>        total_sales()</span>
<span id="cb49-176"><a href="#cb49-176" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">6</span>:</span>
<span id="cb49-177"><a href="#cb49-177" aria-hidden="true" tabindex="-1"></a>        average_sales()</span>
<span id="cb49-178"><a href="#cb49-178" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">7</span>:</span>
<span id="cb49-179"><a href="#cb49-179" aria-hidden="true" tabindex="-1"></a>        read_sales(<span class="dv">10</span>)</span>
<span id="cb49-180"><a href="#cb49-180" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb49-181"><a href="#cb49-181" aria-hidden="true" tabindex="-1"></a>        <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Unexpected value "</span> <span class="op">+</span> <span class="bu">str</span>(command) <span class="op">+</span> <span class="st">" found"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Keeping Information Synchronised when Sorting</strong></p>
<p>Playing around with the program you might notice one thing. The stands are numbered in the order that they are printed. This works great for printing the original list out, but once we start sorting these numbers don’t match their original value. This is fine if we only care about the sales figures, but if we want to maintain a relationship between a stand and its sales this is something that would have to be modified.</p>
<p>This is something you would discuss with the client</p>
</div>
</div>
</section>
</section>
<section id="store-data-in-a-file" class="level3">
<h3 class="anchored" data-anchor-id="store-data-in-a-file">Store Data in a File</h3>
<ul>
<li><p>A natural extension to the program would be the ability to read or store the sales data to a file</p></li>
<li><p>Files allow for persisting the data between sessions</p></li>
<li><p>To do this we’ll add two new options, <code>8. Save Sales</code> and <code>9. Load Sales</code></p></li>
<li><p>Let us start by stubbing out our functions (the complete integration is found in <a href="./Examples/14_LoadAndSave/LoadAndSave.py">LoadAndSave.py</a>),</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> save_sales(file_path):</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>      <span class="co">"""</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a><span class="co">      Saves the contents of the sales list to a file</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a><span class="co">      Parameters</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a><span class="co">      ----------</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a><span class="co">      file_path : str</span></span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a><span class="co">          string giving the file path to save to</span></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a><span class="co">      Returns</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a><span class="co">      -------</span></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a><span class="co">      None</span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a><span class="co">      Raises</span></span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a><span class="co">      ------</span></span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a><span class="co">      FileException</span></span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a><span class="co">          Raised if the save fails</span></span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a><span class="co">      See Also</span></span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a><span class="co">      --------</span></span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a><span class="co">      load_sales : load sales from a sales list file</span></span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Save the sales in:"</span>, file_path)</span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> load_sales(file_path):</span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a>      <span class="co">"""</span></span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a><span class="co">      loads the contents of a file into the sales list</span></span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-31"><a href="#cb50-31" aria-hidden="true" tabindex="-1"></a><span class="co">      Parameters</span></span>
<span id="cb50-32"><a href="#cb50-32" aria-hidden="true" tabindex="-1"></a><span class="co">      ----------</span></span>
<span id="cb50-33"><a href="#cb50-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-34"><a href="#cb50-34" aria-hidden="true" tabindex="-1"></a><span class="co">      file_path : str</span></span>
<span id="cb50-35"><a href="#cb50-35" aria-hidden="true" tabindex="-1"></a><span class="co">          string giving the file path to load from</span></span>
<span id="cb50-36"><a href="#cb50-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-37"><a href="#cb50-37" aria-hidden="true" tabindex="-1"></a><span class="co">      Returns</span></span>
<span id="cb50-38"><a href="#cb50-38" aria-hidden="true" tabindex="-1"></a><span class="co">      -------</span></span>
<span id="cb50-39"><a href="#cb50-39" aria-hidden="true" tabindex="-1"></a><span class="co">      None</span></span>
<span id="cb50-40"><a href="#cb50-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-41"><a href="#cb50-41" aria-hidden="true" tabindex="-1"></a><span class="co">      Raises</span></span>
<span id="cb50-42"><a href="#cb50-42" aria-hidden="true" tabindex="-1"></a><span class="co">      ------</span></span>
<span id="cb50-43"><a href="#cb50-43" aria-hidden="true" tabindex="-1"></a><span class="co">      FileException</span></span>
<span id="cb50-44"><a href="#cb50-44" aria-hidden="true" tabindex="-1"></a><span class="co">          Raised if the load fails</span></span>
<span id="cb50-45"><a href="#cb50-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-46"><a href="#cb50-46" aria-hidden="true" tabindex="-1"></a><span class="co">      See Also</span></span>
<span id="cb50-47"><a href="#cb50-47" aria-hidden="true" tabindex="-1"></a><span class="co">      --------</span></span>
<span id="cb50-48"><a href="#cb50-48" aria-hidden="true" tabindex="-1"></a><span class="co">      save_sales : save the sales list into a file</span></span>
<span id="cb50-49"><a href="#cb50-49" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb50-50"><a href="#cb50-50" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Load the sales in:"</span>, file_path)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>We also add a basic integration to the user menu, where we use <code>BTCInput.read_text</code> to get a file name, then call the function</p></li>
<li><p>Observe that by adding the complete docstring’s we’re also starting to document the requirements for these functions in-code</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb51"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">7</span>:</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>      read_sales(<span class="dv">10</span>)</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">8</span>:</span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>      file_to_save_to <span class="op">=</span> BTCInput.read_text(<span class="st">"Enter file to save to: "</span>)</span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>      save_sales(file_to_save_to)</span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> command <span class="op">==</span> <span class="dv">9</span>:</span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>      file_to_load_from <span class="op">=</span> BTCInput.read_text(<span class="st">"Enter file to load: "</span>)</span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>      load_sales(file_to_load_from)</span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>:</span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a>      <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Unexpected value "</span> <span class="op">+</span> <span class="bu">str</span>(command) <span class="op">+</span> <span class="st">" found"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
<section id="write-into-a-file" class="level4">
<h4 class="anchored" data-anchor-id="write-into-a-file">Write into a File</h4>
<ul>
<li><p>When interacting with a file, python represents it as a memory object</p>
<ul>
<li>Technically representing the connection</li>
</ul></li>
<li><p><code>open</code> creates a connection to a file, the below, opens a file, <code>test.txt</code>, in write mode <code>w</code> and stores it in the variable <code>output_file</code></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>  output_file <span class="op">=</span> <span class="bu">open</span>(<span class="st">'test.txt'</span>, <span class="st">'w'</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>The two arguments are called the <code>file_path</code> and the <code>mode</code>
<ul>
<li><code>file_path</code> is the file you want to open</li>
<li><code>mode</code> is what you want to do with it</li>
</ul></li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Caution
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>It’s very easy to overwrite an existing file</strong></p>
<p>The <code>open</code> function will not prevent you from modifying important files. For example files opened for write will first wipe the contents of any existing file that matches the path then write the new contents.</p>
<p>Python provides the <code>os</code> module which has some extra functionality for handling files and directories, e.g.&nbsp;you can check that a file exists before you open it if you then want check if the user wants to overwrite it <em>before</em> opening it</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> os.path</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> os.path.isfile(<span class="st">"text.txt"</span>):</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"The file exists"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
<ul>
<li><p>If we’ve opened a file in write mode, we can use the <code>write</code> method on the file object to write to the file</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>  output_file.write(<span class="st">"First line</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  output_file.write(<span class="st">"Second line</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  output_file.close()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>Once you’re done with a file you need to call <code>close</code></p>
<ul>
<li>Completes any unfinished writes (ensures data integrity)</li>
<li>Releases the file so other programs or processes can use it
<ul>
<li>Files open for writing are locked for editing by that process, nothing else can use them</li>
</ul></li>
</ul></li>
<li><p>Putting everything together our simple <a href="./Examples/15_FileOutput/FileOutput.py">file writing program</a> is,</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Exercise 8.15 File Output</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># A simple program to demonstrate opening and writing to a file</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>  output_file <span class="op">=</span> <span class="bu">open</span>(<span class="st">"test.txt"</span>, <span class="st">"w"</span>)</span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>  output_file.write(<span class="st">"line 1</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>  output_file.write(<span class="st">"line 2</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>  output_file.close()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
<section id="code-analysis-file-writing" class="level5">
<h5 class="anchored" data-anchor-id="code-analysis-file-writing">Code Analysis: File Writing</h5>
<p><em>Consider the following questions about file writing</em></p>
<ol type="1">
<li><p><em>Why have you called the</em> <code>write</code> <em>function a method? Isn’t it a function?</em></p>
<ul>
<li>As discussed earlier, methods are functions associated with a specific object</li>
<li>Typically when we say functionw we refer to a function that is defined outside of an object</li>
<li><code>write</code> is a method on the file object
<ul>
<li>It is impossible to use <code>write</code> without there being a file object to use</li>
<li>Methods allow us to work with multiple file objects without having to worry about making sure we pass the correct one to the function</li>
</ul></li>
</ul></li>
<li><p><em>What does the</em> <code>\n</code> <em>mean at the end of the strings?</em></p>
<ul>
<li>It’s the new line symbol <code>write</code> doesn’t automatically end the line after we call it</li>
<li>We have to manually pass the new line</li>
</ul></li>
<li><p><em>Where is the file</em> <code>text.txt</code> <em>actually created?</em></p>
<ul>
<li><p>The file_path is relative to the current running python program</p></li>
<li><p>Hence the file is written to the same directory</p>
<ul>
<li>E.g. if we had a folder called “My Programs” with a python program “MakeFiles.py”, when we run “MakeFiles.py” the files it makes are stored in “My Programs”</li>
</ul></li>
<li><p>You can use more complicated file_paths</p>
<ol type="1">
<li><code>path = "./data/test.txt"</code> would look for test.txt in the data subdirectory of the current python program (relative path)</li>
<li><code>path = "c:/data/test.txt"</code> would look for test.txt in the data subdirectory of the c drive (absolute path)</li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Denoting a Directory Seperator</strong></p>
<p>On Windows <code>\</code> is used to seperate directories, but in python you always use <code>/</code></p>
</div>
</div></li>
</ul></li>
<li><p><em>Can any program use a file written from a Python program?</em></p>
<ul>
<li>Yes, python uses the underlying operating systems file handling services</li>
<li>Any other program on the operating system can access files created or modified by python</li>
</ul></li>
<li><p><em>Can I add lines at the end of a python file?</em></p>
<ul>
<li>Yes, rather than open the file in write <code>w</code>, you open the file in append (<code>a</code>).</li>
<li>Any writes will then be appended to the end of the file.</li>
<li>A non-existent file will be created the same way as for write mode</li>
</ul></li>
</ol>
</section>
<section id="write-the-sales-figures" class="level5">
<h5 class="anchored" data-anchor-id="write-the-sales-figures">Write the Sales Figures</h5>
<ul>
<li><p>Using the above discussion we can implement the <code>write_sales</code> function</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.16 Write Sales</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Implements the Write Sales function</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># test data</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a>  sales <span class="op">=</span> [<span class="dv">50</span>, <span class="dv">54</span>, <span class="dv">29</span>, <span class="dv">33</span>, <span class="dv">22</span>, <span class="dv">100</span>, <span class="dv">45</span>, <span class="dv">54</span>, <span class="dv">89</span>, <span class="dv">75</span>]</span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> save_sales(file_path):</span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a>      <span class="co">"""</span></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a><span class="co">      Saves the contents of the sales list to a file</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a><span class="co">      Parameters</span></span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a><span class="co">      ----------</span></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a><span class="co">      file_path : str</span></span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a><span class="co">          string giving the file path to save to</span></span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a><span class="co">      Returns</span></span>
<span id="cb56-20"><a href="#cb56-20" aria-hidden="true" tabindex="-1"></a><span class="co">      -------</span></span>
<span id="cb56-21"><a href="#cb56-21" aria-hidden="true" tabindex="-1"></a><span class="co">      None</span></span>
<span id="cb56-22"><a href="#cb56-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-23"><a href="#cb56-23" aria-hidden="true" tabindex="-1"></a><span class="co">      Raises</span></span>
<span id="cb56-24"><a href="#cb56-24" aria-hidden="true" tabindex="-1"></a><span class="co">      ------</span></span>
<span id="cb56-25"><a href="#cb56-25" aria-hidden="true" tabindex="-1"></a><span class="co">      FileException</span></span>
<span id="cb56-26"><a href="#cb56-26" aria-hidden="true" tabindex="-1"></a><span class="co">          Raised if the save fails</span></span>
<span id="cb56-27"><a href="#cb56-27" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb56-28"><a href="#cb56-28" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Save the sales in: "</span>, file_path)</span>
<span id="cb56-29"><a href="#cb56-29" aria-hidden="true" tabindex="-1"></a>      output_file <span class="op">=</span> <span class="bu">open</span>(file_path, <span class="st">"w"</span>)</span>
<span id="cb56-30"><a href="#cb56-30" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> sale <span class="kw">in</span> sales:</span>
<span id="cb56-31"><a href="#cb56-31" aria-hidden="true" tabindex="-1"></a>          output_file.write(<span class="bu">str</span>(sale) <span class="op">+</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb56-32"><a href="#cb56-32" aria-hidden="true" tabindex="-1"></a>      output_file.close()</span>
<span id="cb56-33"><a href="#cb56-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-34"><a href="#cb56-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-35"><a href="#cb56-35" aria-hidden="true" tabindex="-1"></a>  save_sales(<span class="st">"test_output.txt"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
</section>
<section id="code-analysis-the-save_sales-function" class="level5">
<h5 class="anchored" data-anchor-id="code-analysis-the-save_sales-function">Code Analysis: The <code>save_sales</code> Function</h5>
<p><em>The</em> <code>save_sales</code> <em>function combines several behaviours and is worth examining in detail. What is the purpose of the function? To take a list of sales figures and write those figures to a file (preferably in a format that is easy for a human to read and to load back into the program.) Consider the following questions</em></p>
<ol type="1">
<li><p><em>What does the</em> <code>str</code> <em>function do? Why are we using it?</em></p>
<ul>
<li>The <code>str</code> function converts the sales number to a string</li>
<li>While <code>print</code> can handle non-string inputs, <code>write</code> can only take a string</li>
</ul></li>
<li><p><em>Why can’t we just write out the sales list as one object?</em></p>
<ul>
<li>A <code>list</code> does not provide any built-in methods for writing an object out to a file</li>
<li>We could try and print out it’s string representation (i.e.&nbsp;call <code>str</code> and output that)</li>
<li>Doesn’t give us great ability to control the way the data is output</li>
</ul></li>
</ol>
</section>
</section>
<section id="read-from-a-file" class="level4">
<h4 class="anchored" data-anchor-id="read-from-a-file">Read from a File</h4>
<ul>
<li><p>We an also use <code>open</code> to read from a file, we just use the read mode (<code>r</code>)</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>  input_file <span class="op">=</span> <span class="bu">open</span>(<span class="st">"test.txt"</span>, <span class="st">"r"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>We can then loop over the lines in a file using a <code>for</code> loop</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> line <span class="kw">in</span> input_file:</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(line)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>We should still use <code>close()</code> when we’re done reading</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>  input_file.close()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>The complete sample program looks like,</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.17 File Input</span></span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Demonstrates reading input from a file</span></span>
<span id="cb60-4"><a href="#cb60-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-5"><a href="#cb60-5" aria-hidden="true" tabindex="-1"></a>  input_file <span class="op">=</span> <span class="bu">open</span>(<span class="st">"test.txt"</span>, <span class="st">"r"</span>)</span>
<span id="cb60-6"><a href="#cb60-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> line <span class="kw">in</span> input_file:</span>
<span id="cb60-7"><a href="#cb60-7" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(line)</span>
<span id="cb60-8"><a href="#cb60-8" aria-hidden="true" tabindex="-1"></a>  input_file.close()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
<section id="code-analysis-reading-from-files" class="level5">
<h5 class="anchored" data-anchor-id="code-analysis-reading-from-files">Code Analysis: Reading from Files</h5>
<p><em>Work through the following questions to understand how reading from files works</em></p>
<ol type="1">
<li><p><em>If you look at the following output, you’ll notice there are empty lines after each line of text. Why is that?</em></p>
<pre class="text"><code> line 1

 line 2
</code></pre>
<ul>
<li><p>Every time we read a line from a file, we read the terminating new line</p></li>
<li><p>This is included in the string stored in <code>line</code> so when we call print we get that new line <em>and</em> the new line added by <code>print</code></p></li>
<li><p>We could fix this by modifying our <code>print</code> call, to remove the new line</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(line, end<span class="op">=</span><span class="st">''</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>A more natural way to fix this is to remove the newline when we first read in the string</p></li>
<li><p>The <code>strip</code> method when called without arguments returns a copy of the string with all leading and trailing whitespace removed from the string</p></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>  line <span class="op">=</span> line.strip()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>This is an example of <em>conditioning input</em></li>
<li>Process of making sure that an input does not contain any unexpected values</li>
<li>E.g. we might also want to use <code>strip</code> to remove non-printable characters
<ul>
<li><code>lstrip</code> and <code>rstrip</code> are variants of <code>strip</code> that only work on the lead or end of the string respectively</li>
</ul></li>
</ul></li>
<li><p><em>Why do we have to close the file we’re reading?</em></p>
<ul>
<li>For reading a file forgetting to close it won’t cause issues with other programs or processes that also try to read from the file</li>
<li>However, lets other programs now write to that file</li>
<li>Releases the memory associated with holding the connection</li>
<li>Your computer might not let you shut down if it thinks there are still unclosed files</li>
</ul></li>
<li><p><em>What would happen if you tried to write to a file that had been opened for reading?</em></p>
<ul>
<li>An exception will be raised</li>
<li><code>r+</code> is a mode that lets you read and write to a file</li>
<li>You typically don’t want to read and write to a file at the same time
<ul>
<li>Hard to ensure the integrity of the data and avoid corrupting it</li>
<li>Such as by writing a line longer than the one previously written
<ul>
<li>this may corrupt the next line</li>
</ul></li>
</ul></li>
<li>A better pattern is to load data, update the data then write that back into the file
<ul>
<li>A temporary file (often abreviated as a <em>tmp</em> file) can be used if we need an intermediate file to write to</li>
</ul></li>
</ul></li>
<li><p><em>Can a program read an entire file at once?</em></p>
<ul>
<li>Yes, the* <code>read</code> method by default will try to read an entire file</li>
<li>line endings are preserved</li>
<li>Be careful with large files, as this may overwhelm your computers memory…</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a> <span class="co"># Example 8.18 File Read</span></span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a> <span class="co">#</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a> <span class="co"># Demonstrates the use of file_object.read to read</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a> <span class="co"># the contents of a file in one go</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a> input_file <span class="op">=</span> <span class="bu">open</span>(<span class="st">"test.txt"</span>, <span class="st">"r"</span>)</span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a> total_file <span class="op">=</span> input_file.read()</span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a> <span class="bu">print</span>(total_file)</span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a> input_file.close()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ol>
</section>
<section id="read-the-sales-figures" class="level5">
<h5 class="anchored" data-anchor-id="read-the-sales-figures">Read the Sales Figures</h5>
<ul>
<li><p>Let’s now implement <code>load_sales</code></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.19 Load Sales</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Implements the Load Sales function</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  sales <span class="op">=</span> []</span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> load_sales(file_path):</span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>      <span class="co">"""</span></span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a><span class="co">      loads the contents of a file into the sales list</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a><span class="co">      Parameters</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a><span class="co">      ----------</span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a><span class="co">      file_path : str</span></span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a><span class="co">          string giving the file path to load from</span></span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a><span class="co">      Returns</span></span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a><span class="co">      -------</span></span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a><span class="co">      None</span></span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a><span class="co">      Raises</span></span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a><span class="co">      ------</span></span>
<span id="cb65-24"><a href="#cb65-24" aria-hidden="true" tabindex="-1"></a><span class="co">      FileException</span></span>
<span id="cb65-25"><a href="#cb65-25" aria-hidden="true" tabindex="-1"></a><span class="co">          Raised if the load fails</span></span>
<span id="cb65-26"><a href="#cb65-26" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb65-27"><a href="#cb65-27" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Load the sales in:"</span>, file_path)</span>
<span id="cb65-28"><a href="#cb65-28" aria-hidden="true" tabindex="-1"></a>      sales.clear()</span>
<span id="cb65-29"><a href="#cb65-29" aria-hidden="true" tabindex="-1"></a>      input_file <span class="op">=</span> <span class="bu">open</span>(file_path, <span class="st">"r"</span>)</span>
<span id="cb65-30"><a href="#cb65-30" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> line <span class="kw">in</span> input_file:</span>
<span id="cb65-31"><a href="#cb65-31" aria-hidden="true" tabindex="-1"></a>          line <span class="op">=</span> line.strip()</span>
<span id="cb65-32"><a href="#cb65-32" aria-hidden="true" tabindex="-1"></a>          sales.append(<span class="bu">int</span>(line))</span>
<span id="cb65-33"><a href="#cb65-33" aria-hidden="true" tabindex="-1"></a>      input_file.close()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
<section id="code-analysis-the-load_sales-function" class="level6">
<h6 class="anchored" data-anchor-id="code-analysis-the-load_sales-function">Code Analysis: The <code>load_sales</code> Function</h6>
<p><code>load_sales</code> <em>works as the opposite of</em> <code>save_sales</code> <em>instead of taking a sales list and putting it into a text file, we pull the figures from a file and load them into the sales list. Consider the following questions</em></p>
<ol type="1">
<li><p><em>What does the</em> <code>int</code> <em>function do?</em></p>
<ul>
<li>The numbers pulled out of the file are initially stored as a string</li>
<li>We need to convert them to a number, so we call <code>int</code></li>
</ul></li>
<li><p><em>What happens if the input file was empty?</em></p>
<ul>
<li>The function works as one would hope</li>
<li>The loop doesn’t iterate and we get an empty sales list</li>
</ul></li>
</ol>
</section>
</section>
</section>
<section id="deal-with-file-errors" class="level4">
<h4 class="anchored" data-anchor-id="deal-with-file-errors">Deal with File Errors</h4>
<ul>
<li>Dealing with files, also means dealing with the errors they can introduce
<ul>
<li>e.g.&nbsp;A file might have been deleted, a USB removed, or simply the user might pass the wrong name</li>
</ul></li>
<li>When an error occurs we want to ensure two things:
<ol type="1">
<li>No files are left open</li>
<li>The user is aware that the error has occured</li>
</ol></li>
<li>File objects typically raise exceptions when their methods
<ul>
<li>Enables us to handle and report on their errors</li>
<li>Use the <code>try ... except</code> syntax we’ve seen before</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">try</span>:</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>      output_file <span class="op">=</span> <span class="bu">open</span>(file_path, <span class="st">"w"</span>)</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> sale <span class="kw">in</span> sales:</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>          output_file.write(<span class="bu">str</span>(sale) <span class="op">+</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>      output_file.close()</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"File Written Successfully"</span>)</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>  <span class="cf">except</span>:</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Something went wrong with the file"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
<section id="code-analysis-dealing-with-file-handling-exceptions" class="level5">
<h5 class="anchored" data-anchor-id="code-analysis-dealing-with-file-handling-exceptions">Code Analysis: Dealing with File Handling Exceptions</h5>
<p><em>The code performing the file write is wrapped in a</em> <code>try...except</code> <em>block. If</em> <code>write</code>, <code>open</code> <em>or</em> <code>close</code> <em>causes an exception it will be caught and handled by the</em> <code>except</code> <em>clause. Let’s work through the following questions to see if this solves the ensures that the file is closed and the user is informed</em></p>
<ol type="1">
<li><p><em>In what circumstances will the code in the</em> <code>except</code> <em>part be executed?</em></p>
<ul>
<li>If any of the file functions, <code>write</code>, <code>open</code>, or <code>close</code> raise an exception, the code in the <code>except</code> part will be executed</li>
<li>An error message is thus only printed when an error occurs</li>
</ul></li>
<li><p><em>In what circumstances will the “File written successfully?” message be printed?</em></p>
<ul>
<li>This is only printed if every step in the file writing process is completed successfully</li>
</ul></li>
<li><p><em>An error message is always printed if an error is thrown, but will the file always be closed?</em></p>
<ul>
<li>No, this is a problem, as we said that all files needed to be closed even when an error occurs!</li>
<li>We could put the <code>close</code> statement in the exception handling section to, but a more general solution to this problem is to use a <code>finally</code> block
<ul>
<li>A <code>finally</code> block contains code that is always executed after all of the <code>try</code> and/or <code>except</code> code has executed</li>
<li>Good for code that we naturally want to run after the block no matter if the process succeeds or fail (such as clean-up)</li>
</ul></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a> <span class="cf">try</span>:</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>     output_file <span class="op">=</span> <span class="bu">open</span>(filename, <span class="st">"w"</span>)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>     <span class="cf">for</span> sale <span class="kw">in</span> sales:</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>         output_file.write(<span class="bu">str</span>(sale) <span class="op">+</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a> <span class="cf">except</span>:</span>
<span id="cb67-6"><a href="#cb67-6" aria-hidden="true" tabindex="-1"></a>     <span class="bu">print</span>(<span class="st">"Something went wrong with writing to the file"</span>)</span>
<span id="cb67-7"><a href="#cb67-7" aria-hidden="true" tabindex="-1"></a> <span class="cf">finally</span>:</span>
<span id="cb67-8"><a href="#cb67-8" aria-hidden="true" tabindex="-1"></a>     output_file.close()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ol>
</section>
</section>
<section id="use-the-with-construction-to-tidy-up-file-access" class="level4">
<h4 class="anchored" data-anchor-id="use-the-with-construction-to-tidy-up-file-access">Use the <code>with</code> Construction to Tidy up File Access</h4>
<ul>
<li>It would be great if we didn’t have to remember to manually ensure a file gets closed
<ul>
<li>Failing to properly close a file can lead to hard to pin down behaviour</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Intermittent Faults are the Worst Kind to Fix</strong></p>
<p>A piece of code that is broken all the time is annoying, but at least you can typically easily identify what is not working. If a program fails only some of the time this can be much harder to solve. Often you require precise directions as to the steps taken up to the point of failure in order to be able to attempt to replicate the problem. This adds significant overhead to fixing the problem</p>
</div>
</div>
<ul>
<li>The <code>with</code> construct allows the programmer to automatically manage the acquisition and release of resources
<ul>
<li>More generic than just file access</li>
<li>You can write your own services to work with <code>with</code>
<ul>
<li>Advanced topic we can ignore for now</li>
</ul></li>
</ul></li>
</ul>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">block-beta
    columns 6

    classDef BG stroke:transparent, fill:transparent


    space
    title["Breakdown of a with statement"]:4
    space

    class title BG

    block:With
    columns 1
        with["with"]
        withDescr["(start of a with block)"]
    end

    class with BG
    class withDescr BG


    block:Expression
    columns 1
        expression["expression"]
        expressionDescr["(expression generating resource to use)"]
    end

    class expression BG
    class expressionDescr BG

    block:As
    columns 1
        as["as"]
        space
    end

    class as BG

    block:Name
    columns 1
        name["name"]
        nameDescr["(name to represent the resource)"]
    end

    class name BG
    class nameDescr BG

    block:Colon
    columns 1
        colon[":"]
        space
    end

    class colon BG

    block:Suite
    columns 1
        suite["Statement block"]
        suiteDescr["(statements)"]
    end

    class suite BG
    class suiteDescr BG
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<ul>
<li><p><code>with</code> is used to provide an object that provides a service</p></li>
<li><p><code>as</code> is used to assign a semantically meaningful name to the resource</p></li>
<li><p><code>with</code> activates an “enter” behaviour on its object</p>
<ul>
<li>For files this is <code>open</code></li>
</ul></li>
<li><p>When the block is finished, <code>with</code> calls some exit behaviour on the object</p>
<ul>
<li>For files this causes the file to be closed</li>
</ul></li>
<li><p><code>with</code> allows us to ensure a few things</p>
<ol type="1">
<li>The file is always closed</li>
<li>The reference to the file only exists as long as we are using it</li>
</ol>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.20 Using with to Access Files</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rewrites read_sales and load_sales to use the with functionality</span></span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># implemented in python</span></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># test data</span></span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>  sales <span class="op">=</span> [<span class="dv">50</span>, <span class="dv">54</span>, <span class="dv">29</span>, <span class="dv">33</span>, <span class="dv">22</span>, <span class="dv">100</span>, <span class="dv">45</span>, <span class="dv">54</span>, <span class="dv">89</span>, <span class="dv">75</span>]</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> save_sales(file_path):</span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>      <span class="co">"""</span></span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a><span class="co">      Saves the contents of the sales list to a file</span></span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a><span class="co">      Parameters</span></span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a><span class="co">      ----------</span></span>
<span id="cb68-16"><a href="#cb68-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-17"><a href="#cb68-17" aria-hidden="true" tabindex="-1"></a><span class="co">      file_path : str</span></span>
<span id="cb68-18"><a href="#cb68-18" aria-hidden="true" tabindex="-1"></a><span class="co">          string giving the file path to save to</span></span>
<span id="cb68-19"><a href="#cb68-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-20"><a href="#cb68-20" aria-hidden="true" tabindex="-1"></a><span class="co">      Returns</span></span>
<span id="cb68-21"><a href="#cb68-21" aria-hidden="true" tabindex="-1"></a><span class="co">      -------</span></span>
<span id="cb68-22"><a href="#cb68-22" aria-hidden="true" tabindex="-1"></a><span class="co">      None</span></span>
<span id="cb68-23"><a href="#cb68-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-24"><a href="#cb68-24" aria-hidden="true" tabindex="-1"></a><span class="co">      Raises</span></span>
<span id="cb68-25"><a href="#cb68-25" aria-hidden="true" tabindex="-1"></a><span class="co">      ------</span></span>
<span id="cb68-26"><a href="#cb68-26" aria-hidden="true" tabindex="-1"></a><span class="co">      FileException</span></span>
<span id="cb68-27"><a href="#cb68-27" aria-hidden="true" tabindex="-1"></a><span class="co">          Raised if the save fails</span></span>
<span id="cb68-28"><a href="#cb68-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-29"><a href="#cb68-29" aria-hidden="true" tabindex="-1"></a><span class="co">      See Also</span></span>
<span id="cb68-30"><a href="#cb68-30" aria-hidden="true" tabindex="-1"></a><span class="co">      --------</span></span>
<span id="cb68-31"><a href="#cb68-31" aria-hidden="true" tabindex="-1"></a><span class="co">      load_sales : load sales from a given file</span></span>
<span id="cb68-32"><a href="#cb68-32" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb68-33"><a href="#cb68-33" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Save the sales in:"</span>, file_path)</span>
<span id="cb68-34"><a href="#cb68-34" aria-hidden="true" tabindex="-1"></a>      <span class="cf">try</span>:</span>
<span id="cb68-35"><a href="#cb68-35" aria-hidden="true" tabindex="-1"></a>          <span class="cf">with</span> <span class="bu">open</span>(file_path, <span class="st">"w"</span>) <span class="im">as</span> output_file:</span>
<span id="cb68-36"><a href="#cb68-36" aria-hidden="true" tabindex="-1"></a>              <span class="cf">for</span> sale <span class="kw">in</span> sales:</span>
<span id="cb68-37"><a href="#cb68-37" aria-hidden="true" tabindex="-1"></a>                  output_file.write(<span class="bu">str</span>(sale) <span class="op">+</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb68-38"><a href="#cb68-38" aria-hidden="true" tabindex="-1"></a>      <span class="cf">except</span>:  <span class="co"># noqa: E722</span></span>
<span id="cb68-39"><a href="#cb68-39" aria-hidden="true" tabindex="-1"></a>          <span class="bu">print</span>(<span class="st">"Something went wrong with the file"</span>)</span>
<span id="cb68-40"><a href="#cb68-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-41"><a href="#cb68-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-42"><a href="#cb68-42" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> load_sales(file_path):</span>
<span id="cb68-43"><a href="#cb68-43" aria-hidden="true" tabindex="-1"></a>      <span class="co">"""</span></span>
<span id="cb68-44"><a href="#cb68-44" aria-hidden="true" tabindex="-1"></a><span class="co">      loads the contents of a file into the sales list</span></span>
<span id="cb68-45"><a href="#cb68-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-46"><a href="#cb68-46" aria-hidden="true" tabindex="-1"></a><span class="co">      Parameters</span></span>
<span id="cb68-47"><a href="#cb68-47" aria-hidden="true" tabindex="-1"></a><span class="co">      ----------</span></span>
<span id="cb68-48"><a href="#cb68-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-49"><a href="#cb68-49" aria-hidden="true" tabindex="-1"></a><span class="co">      file_path : str</span></span>
<span id="cb68-50"><a href="#cb68-50" aria-hidden="true" tabindex="-1"></a><span class="co">          string giving the file path to load from</span></span>
<span id="cb68-51"><a href="#cb68-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-52"><a href="#cb68-52" aria-hidden="true" tabindex="-1"></a><span class="co">      Returns</span></span>
<span id="cb68-53"><a href="#cb68-53" aria-hidden="true" tabindex="-1"></a><span class="co">      -------</span></span>
<span id="cb68-54"><a href="#cb68-54" aria-hidden="true" tabindex="-1"></a><span class="co">      None</span></span>
<span id="cb68-55"><a href="#cb68-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-56"><a href="#cb68-56" aria-hidden="true" tabindex="-1"></a><span class="co">      Raises</span></span>
<span id="cb68-57"><a href="#cb68-57" aria-hidden="true" tabindex="-1"></a><span class="co">      ------</span></span>
<span id="cb68-58"><a href="#cb68-58" aria-hidden="true" tabindex="-1"></a><span class="co">      FileException</span></span>
<span id="cb68-59"><a href="#cb68-59" aria-hidden="true" tabindex="-1"></a><span class="co">          Raised if the load fails</span></span>
<span id="cb68-60"><a href="#cb68-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-61"><a href="#cb68-61" aria-hidden="true" tabindex="-1"></a><span class="co">      See Also</span></span>
<span id="cb68-62"><a href="#cb68-62" aria-hidden="true" tabindex="-1"></a><span class="co">      --------</span></span>
<span id="cb68-63"><a href="#cb68-63" aria-hidden="true" tabindex="-1"></a><span class="co">      save_sales : save sales to a file</span></span>
<span id="cb68-64"><a href="#cb68-64" aria-hidden="true" tabindex="-1"></a><span class="co">      """</span></span>
<span id="cb68-65"><a href="#cb68-65" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Load the sales in:"</span>, file_path)</span>
<span id="cb68-66"><a href="#cb68-66" aria-hidden="true" tabindex="-1"></a>      sales.clear()</span>
<span id="cb68-67"><a href="#cb68-67" aria-hidden="true" tabindex="-1"></a>      <span class="cf">try</span>:</span>
<span id="cb68-68"><a href="#cb68-68" aria-hidden="true" tabindex="-1"></a>          <span class="cf">with</span> <span class="bu">open</span>(file_path, <span class="st">"r"</span>) <span class="im">as</span> input_file:</span>
<span id="cb68-69"><a href="#cb68-69" aria-hidden="true" tabindex="-1"></a>              <span class="cf">for</span> line <span class="kw">in</span> input_file:</span>
<span id="cb68-70"><a href="#cb68-70" aria-hidden="true" tabindex="-1"></a>                  line <span class="op">=</span> line.strip()</span>
<span id="cb68-71"><a href="#cb68-71" aria-hidden="true" tabindex="-1"></a>                  sales.append(<span class="bu">int</span>(line))</span>
<span id="cb68-72"><a href="#cb68-72" aria-hidden="true" tabindex="-1"></a>      <span class="cf">except</span>:  <span class="co"># noqa: E722</span></span>
<span id="cb68-73"><a href="#cb68-73" aria-hidden="true" tabindex="-1"></a>          <span class="bu">print</span>(<span class="st">"Something went wrong with the file"</span>)</span>
<span id="cb68-74"><a href="#cb68-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-75"><a href="#cb68-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-76"><a href="#cb68-76" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Sales before save and load:"</span>, sales)</span>
<span id="cb68-77"><a href="#cb68-77" aria-hidden="true" tabindex="-1"></a>  save_sales(<span class="st">"test.txt"</span>)</span>
<span id="cb68-78"><a href="#cb68-78" aria-hidden="true" tabindex="-1"></a>  load_sales(<span class="st">"test.txt"</span>)</span>
<span id="cb68-79"><a href="#cb68-79" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Sales after save and load:"</span>, sales)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>Observe that we no longer have to explicitly include the <code>close</code> call</p></li>
<li><p><code>with</code> does not handle exceptions however, so we still have to include a <code>try...except</code> block</p></li>
<li><p>When an exception occurs the <code>with</code> first releases the resource with its exit behaviour</p>
<ul>
<li>e.g.&nbsp;closes the file</li>
<li><em>Then</em> the excecution moves to the <code>except</code> block</li>
</ul></li>
<li><p>If we wanted to handle exceptions without releasing the resource, we would have to swap the order to,</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>  <span class="cf">with</span> <span class="bu">open</span>(<span class="st">"file"</span>, <span class="st">"mode"</span>):</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>      <span class="cf">try</span>:</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>          <span class="co">#do standard thing here</span></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>      <span class="cf">except</span>:</span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a>          <span class="co"># handle exception without releasing resource</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a>      <span class="cf">finally</span>:</span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>          <span class="co"># do something regardless of success or fail without releasing resource</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
</section>
<section id="make-something-happen-record-a-list-with-a-save-function" class="level4">
<h4 class="anchored" data-anchor-id="make-something-happen-record-a-list-with-a-save-function">Make Something Happen: Record a List with a <code>save</code> Function</h4>
<p><em>Add a</em> <code>save</code> <em>function to your party guest program so that you can record a list of people who attended your party</em></p>
<p>We build off our version that generates a <a href="#make-something-happen-sort-alphabetically">sorted list</a>. We can basically copy the <code>save_sales</code> function making changes to the refer to the <code>guests</code> list instead of <code>sales</code> and giving a more appropriate name to the loop variable.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> save(file_path):</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Saves the guest list to a file</span></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Parameters</span></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a><span class="co">    ----------</span></span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-8"><a href="#cb70-8" aria-hidden="true" tabindex="-1"></a><span class="co">    file_path : str</span></span>
<span id="cb70-9"><a href="#cb70-9" aria-hidden="true" tabindex="-1"></a><span class="co">        string giving the file path to save to</span></span>
<span id="cb70-10"><a href="#cb70-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-11"><a href="#cb70-11" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb70-12"><a href="#cb70-12" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb70-13"><a href="#cb70-13" aria-hidden="true" tabindex="-1"></a><span class="co">    None</span></span>
<span id="cb70-14"><a href="#cb70-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-15"><a href="#cb70-15" aria-hidden="true" tabindex="-1"></a><span class="co">    Raises</span></span>
<span id="cb70-16"><a href="#cb70-16" aria-hidden="true" tabindex="-1"></a><span class="co">    ------</span></span>
<span id="cb70-17"><a href="#cb70-17" aria-hidden="true" tabindex="-1"></a><span class="co">    FileException</span></span>
<span id="cb70-18"><a href="#cb70-18" aria-hidden="true" tabindex="-1"></a><span class="co">        Raised if the save fails</span></span>
<span id="cb70-19"><a href="#cb70-19" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb70-20"><a href="#cb70-20" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"Save the guest list in:"</span>, file_path)</span>
<span id="cb70-21"><a href="#cb70-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span>:</span>
<span id="cb70-22"><a href="#cb70-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">with</span> <span class="bu">open</span>(file_path, <span class="st">"w"</span>) <span class="im">as</span> output_file:</span>
<span id="cb70-23"><a href="#cb70-23" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> guest <span class="kw">in</span> guests:</span>
<span id="cb70-24"><a href="#cb70-24" aria-hidden="true" tabindex="-1"></a>                output_file.write(<span class="bu">str</span>(guest) <span class="op">+</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</span>
<span id="cb70-25"><a href="#cb70-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">except</span>:  <span class="co"># noqa: E722</span></span>
<span id="cb70-26"><a href="#cb70-26" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"Something went wrong with the file"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>We then run the program as normal</p>
<ol type="1">
<li>Ask for the number of guests</li>
<li>Read in the guests</li>
<li>Sort the guest list</li>
<li>Display the guest list</li>
</ol>
<p>We then ask the user if they want to save the guest list. For simplicity we use <code>BTCInput.read_input_ranged</code> to ask for a <span class="math inline">\(0\)</span> or a <span class="math inline">\(1\)</span> where a <span class="math inline">\(1\)</span> indicates the user wishes to save, while <span class="math inline">\(0\)</span> indicates they dont. If the user wishes to save we then prompt them using <code>BTCInput.read_text</code> for a file name and then call save on the given file path</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>user_wants_to_save <span class="op">=</span> BTCInput.read_int_ranged(</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Would you like save the list? (1 for yes, 0 for no): "</span>, min_value<span class="op">=</span><span class="dv">0</span>, max_value<span class="op">=</span><span class="dv">1</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> user_wants_to_save:</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a>    save_file_name <span class="op">=</span> BTCInput.read_text(<span class="st">"Enter file name to save as: "</span>)</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a>    save(save_file_name)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>The complete integrated code is given in <a href="./Exercises/03_ListWithSave/GuestListWithSave.py">GuestListWithSave.py</a></li>
</ul>
</section>
</section>
<section id="store-tables-of-data" class="level3">
<h3 class="anchored" data-anchor-id="store-tables-of-data">Store Tables of Data</h3>
<ul>
<li>A list holds data in one dimension, i.e.&nbsp;its length</li>
<li>Often data is multi-dimensional</li>
<li>e.g.&nbsp;Our Ice Cream Sales client might now ask for the ability to track sales, by store <em>and</em> by day of the week</li>
</ul>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">block-beta
    columns 5

    classDef Header fill:#bbf,stroke:#333,stroke-width:4px;
    classDef BG stroke:transparent, fill:transparent

    space:2
    title["Data Table"]:2
    space:1

    class title BG

    space
    block:fields:4
    columns 4
        monday["Monday"]
        tuesday["Tuesday"]
        wednesday["Wednesday"]
        stop["..."]
    end

    class fields Header

    Stand1["Stand 1"]
    50
    80
    10
    Blank1["..."]

    class Stand1 BG

    Stand2["Stand 2"]
    54
    98
    7
    Blank2["..."]

    class Stand2 BG

    Stand3["Stand 3"]
    29
    40
    80_2["80"]
    Blank3["..."]

    class Stand3 BG

    Stand4["..."]
    stand4_1[" "]
    stand4_2[" "]
    stand4_3[" "]
    stand4_4[" "]

    class Stand4 BG

</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<ul>
<li><p>Our current implementation is effectively a vertical slice for one of the days</p></li>
<li><p>Can implement multiple lists, one per day of the week</p>
<ul>
<li>Effectively repeats the problem we had before of a distinct named variable for each item</li>
</ul></li>
<li><p>We want a <em>list of lists</em></p>
<div id="d6909e35" class="cell" data-execution_count="17">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a>  mon_sales <span class="op">=</span> [<span class="dv">50</span>, <span class="dv">54</span>, <span class="dv">29</span>, <span class="dv">33</span>,  <span class="dv">22</span>, <span class="dv">100</span>, <span class="dv">45</span>, <span class="dv">54</span>, <span class="dv">89</span>, <span class="dv">75</span>]</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a>  tue_sales <span class="op">=</span> [<span class="dv">80</span>, <span class="dv">98</span>, <span class="dv">40</span>, <span class="dv">43</span>, <span class="dv">43</span>, <span class="dv">80</span>, <span class="dv">50</span>, <span class="dv">60</span>, <span class="dv">79</span>, <span class="dv">30</span>]</span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>  wed_sales <span class="op">=</span> [<span class="dv">10</span>, <span class="dv">7</span>, <span class="dv">80</span>, <span class="dv">43</span>, <span class="dv">48</span>, <span class="dv">82</span>, <span class="dv">33</span>, <span class="dv">55</span>, <span class="dv">83</span>, <span class="dv">80</span>]</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>  thu_sales <span class="op">=</span> [<span class="dv">15</span>, <span class="dv">20</span>, <span class="dv">38</span>, <span class="dv">10</span>, <span class="dv">36</span>, <span class="dv">50</span>, <span class="dv">20</span>, <span class="dv">26</span>, <span class="dv">45</span>, <span class="dv">20</span>]</span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a>  fri_sales <span class="op">=</span> [<span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">47</span>, <span class="dv">18</span>, <span class="dv">56</span>, <span class="dv">70</span>, <span class="dv">30</span>, <span class="dv">36</span>, <span class="dv">65</span>, <span class="dv">28</span>]</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a>  sat_sales <span class="op">=</span> [<span class="dv">122</span>, <span class="dv">140</span>, <span class="dv">245</span>, <span class="dv">128</span>, <span class="dv">156</span>, <span class="dv">163</span>, <span class="dv">90</span>, <span class="dv">140</span>, <span class="dv">150</span>, <span class="dv">128</span>]</span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a>  sun_sales <span class="op">=</span> [<span class="dv">100</span>, <span class="dv">130</span>, <span class="dv">234</span>, <span class="dv">114</span>, <span class="dv">138</span>, <span class="dv">156</span>, <span class="dv">107</span>, <span class="dv">132</span>, <span class="dv">134</span>, <span class="dv">148</span>]</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a>  week_sales <span class="op">=</span> [mon_sales, tue_sales, wed_sales, thu_sales, fri_sales, sat_sales, sun_sales]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div></li>
<li><p>Think of lists of lists as a collection of rows and columns</p>
<ul>
<li><p>We first specify the row we want say <code>tue_sales</code></p></li>
<li><p>Then the column, say Stand 1</p>
<div id="0dce2247" class="cell" data-execution_count="18">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(week_sales[<span class="dv">1</span>][<span class="dv">0</span>])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>80</code></pre>
</div>
</div></li>
</ul></li>
</ul>
<section id="code-analysis-inadequate-index-values" class="level4">
<h4 class="anchored" data-anchor-id="code-analysis-inadequate-index-values">Code Analysis: Inadequate Index Values</h4>
<p><em>It can be difficult to get the hang of working with multiple indices. Which of the following indices would fail when the program runs?</em></p>
<pre class="text"><code>Statement 1: week_sales[0][0] = 50
Statement 2: week_sales[8][7] = 88
Statement 3: week_sales[7][10] = 100</code></pre>
<ol type="1">
<li>Statement 1 is <strong>valid</strong></li>
<li>Statement 2 is <strong>invalid</strong> because the first index <span class="math inline">\(8\)</span> corresponds to the day of the week
<ul>
<li>The valid indices here are <span class="math inline">\(0\)</span> to <span class="math inline">\(6\)</span></li>
</ul></li>
<li>Statement 3 is also <strong>invalid</strong> for the same reason
<ul>
<li>Even though there are seven days of the week</li>
<li>The list is zero indexed</li>
</ul></li>
</ol>
<p><em>Let’s see this in action</em></p>
<ul>
<li>Statement 1:</li>
</ul>
<div id="325fb965" class="cell" data-execution_count="19">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>week_sales[<span class="dv">0</span>][<span class="dv">0</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="19">
<pre><code>50</code></pre>
</div>
</div>
<ul>
<li>Statement 2:</li>
</ul>
<div id="1eeb914d" class="cell" data-execution_count="20">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a>week_sales[<span class="dv">8</span>][<span class="dv">7</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">IndexError</span>                                Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[20]</span><span class="ansi-green-fg">, line 1</span>
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">1</span> <span class="ansi-yellow-bg">week_sales</span><span class="ansi-yellow-bg">[</span><span class="ansi-green-fg ansi-yellow-bg">8</span><span class="ansi-yellow-bg">]</span>[<span class="ansi-green-fg">7</span>]

<span class="ansi-red-fg">IndexError</span>: list index out of range</pre>
</div>
</div>
</div>
<ul>
<li>Statement 3:</li>
</ul>
<div id="bd562bfc" class="cell" data-execution_count="21">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb79"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>week_sales[<span class="dv">7</span>][<span class="dv">10</span>]</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">IndexError</span>                                Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[21]</span><span class="ansi-green-fg">, line 1</span>
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">1</span> <span class="ansi-yellow-bg">week_sales</span><span class="ansi-yellow-bg">[</span><span class="ansi-green-fg ansi-yellow-bg">7</span><span class="ansi-yellow-bg">]</span>[<span class="ansi-green-fg">10</span>]

<span class="ansi-red-fg">IndexError</span>: list index out of range</pre>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Make it easy to test your program</strong></p>
<p>Testing is important, but unless it’s easy or automatic it’s pretty common to get left by the wayside.</p>
<p>In a program one might use a function <code>make_test_data</code> or for larger projects a <em>test framework</em> that is used to generate test data.</p>
<p>Whenever you find yourself repeating a pattern to test code, consider how you can automate or bypass that process</p>
</div>
</div>
</section>
<section id="use-loops-to-work-with-tables" class="level4">
<h4 class="anchored" data-anchor-id="use-loops-to-work-with-tables">Use Loops to Work with Tables</h4>
<ul>
<li><p>We can use nested <code>for</code> loops to work through individual values in a list of lists</p></li>
<li><p>E.g. if we want to calculate the total sales over a week, (full code given in <a href="./Examples/21_TablesOfSalesData/TablesOfSaleData.py">TablesOfSaleData.py</a>)</p>
<div id="0e064b7a" class="cell" data-execution_count="22">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>  total_sales <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> day_sales <span class="kw">in</span> week_sales:</span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> sales_value <span class="kw">in</span> day_sales:</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a>          total_sales <span class="op">=</span> total_sales <span class="op">+</span> sales_value</span>
<span id="cb80-5"><a href="#cb80-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-6"><a href="#cb80-6" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Total sales for the week are"</span>, total_sales)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Total sales for the week are 5205</code></pre>
</div>
</div>
<ul>
<li><code>day_sales</code> in the outer loop iterates over each constituent list in the list of lists</li>
<li><code>sales_value</code> is then each value in the current list referenced by <code>day_sales</code></li>
</ul></li>
</ul>
<section id="code-analysis-loop-counting" class="level5">
<h5 class="anchored" data-anchor-id="code-analysis-loop-counting">Code Analysis: Loop Counting</h5>
<p><em>Consider the code for summing the sales data in <a href="#use-loops-to-work-with-tables">the previous example</a>. Answer the following questions to make sure you understand how it works</em></p>
<ol type="1">
<li><p><em>How many times will the statements inside the two loops be obeyed?</em></p>
<ul>
<li>In total they will be run <span class="math inline">\(70\)</span> times</li>
<li>The outer loop runs seven times (once for each day of the week)</li>
<li>The inner loop runs ten times (one for each stand)
<ul>
<li><em>for</em> each iteration of the outer loop</li>
</ul></li>
</ul></li>
<li><p><em>How would you change this program so that it could handle more than one week’s worth of sales?</em></p>
<ul>
<li>We can add more days to the list</li>
<li>Rather than have them correspond to Monday - Friday it might be Week 1 Day 1 etc.</li>
<li>These would be additional rows in the list of lists</li>
</ul></li>
<li><p><em>How would we add a day’s worth of sales to the list?</em></p>
<ul>
<li><p>We have to read in a new list of values</p></li>
<li><p>Can then append it to the list of lists</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a>  read_sales(<span class="dv">10</span>) <span class="co"># read ten values into sales list</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>  week_sales.append(sales) <span class="co"># append the values to the weekly sales list</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul></li>
</ol>
</section>
</section>
<section id="more-than-two-dimensions" class="level4">
<h4 class="anchored" data-anchor-id="more-than-two-dimensions">More than Two Dimensions</h4>
<ul>
<li><p>It is possible to work with higher dimensions</p></li>
<li><p>For example we might want to store multiple weeks of data</p>
<ul>
<li>Then we would have a <em>list of (list of (lists))s</em></li>
</ul></li>
<li><p>Works just like two dimensions but with an extra index, for example we can append a week of sales like so,</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb83"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>  annual_sales.append(week_sales)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Keep your dimensions low</strong></p>
<p>You should rarely have to use more than three dimensions. If you find yourself using highly nested / high-dimensional structures you might want to rethink how you’re representing your data</p>
<p>One technique we will see later is the use of classes, which can make it easier to create linear collections</p>
<p>The computer itself is perfectly happy working in higher dimensions. The real difficulty is that you probably aren’t and it can be hard to reason about high dimension data</p>
</div>
</div>
</section>
</section>
<section id="use-lists-as-lookup-tables" class="level3">
<h3 class="anchored" data-anchor-id="use-lists-as-lookup-tables">Use Lists as Lookup Tables</h3>
<ul>
<li><p>Now we have the ability to manipulate weekly sales data, the next question is how to display that data and the requests.</p></li>
<li><p>When we enter the data we want to see something like,</p>
<pre class="text"><code>  Enter the Monday sales figures for stand 2:</code></pre></li>
<li><p>Here we need to have a variable to control what day is printed</p>
<ul>
<li>Simplest implementation is an integer to track the day, implemented in <a href="./Examples/22_DayNameIf/DayNameIf.py">DayNameIf.py</a></li>
</ul>
<div id="a99155ba" class="cell" data-execution_count="23">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.22 Day Name If</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Uses a if, elif, else construction to convert an integer</span></span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># to a string representation of the day of the week</span></span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-6"><a href="#cb85-6" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> time</span>
<span id="cb85-7"><a href="#cb85-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-8"><a href="#cb85-8" aria-hidden="true" tabindex="-1"></a>  current_time <span class="op">=</span> time.localtime()</span>
<span id="cb85-9"><a href="#cb85-9" aria-hidden="true" tabindex="-1"></a>  day_number <span class="op">=</span> current_time.tm_wday</span>
<span id="cb85-10"><a href="#cb85-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-11"><a href="#cb85-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> day_number <span class="op">==</span> <span class="dv">0</span>:</span>
<span id="cb85-12"><a href="#cb85-12" aria-hidden="true" tabindex="-1"></a>      day_name <span class="op">=</span> <span class="st">"Monday"</span></span>
<span id="cb85-13"><a href="#cb85-13" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> day_number <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb85-14"><a href="#cb85-14" aria-hidden="true" tabindex="-1"></a>      day_name <span class="op">=</span> <span class="st">"Tuesday"</span></span>
<span id="cb85-15"><a href="#cb85-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> day_number <span class="op">==</span> <span class="dv">2</span>:</span>
<span id="cb85-16"><a href="#cb85-16" aria-hidden="true" tabindex="-1"></a>      day_name <span class="op">=</span> <span class="st">"Wednesday"</span></span>
<span id="cb85-17"><a href="#cb85-17" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> day_number <span class="op">==</span> <span class="dv">3</span>:</span>
<span id="cb85-18"><a href="#cb85-18" aria-hidden="true" tabindex="-1"></a>      day_name <span class="op">=</span> <span class="st">"Thursday"</span></span>
<span id="cb85-19"><a href="#cb85-19" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> day_number <span class="op">==</span> <span class="dv">4</span>:</span>
<span id="cb85-20"><a href="#cb85-20" aria-hidden="true" tabindex="-1"></a>      day_name <span class="op">=</span> <span class="st">"Friday"</span></span>
<span id="cb85-21"><a href="#cb85-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> day_number <span class="op">==</span> <span class="dv">5</span>:</span>
<span id="cb85-22"><a href="#cb85-22" aria-hidden="true" tabindex="-1"></a>      day_name <span class="op">=</span> <span class="st">"Saturday"</span></span>
<span id="cb85-23"><a href="#cb85-23" aria-hidden="true" tabindex="-1"></a>  <span class="cf">elif</span> day_number <span class="op">==</span> <span class="dv">6</span>:</span>
<span id="cb85-24"><a href="#cb85-24" aria-hidden="true" tabindex="-1"></a>      day_name <span class="op">=</span> <span class="st">"Sunday"</span></span>
<span id="cb85-25"><a href="#cb85-25" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span>:</span>
<span id="cb85-26"><a href="#cb85-26" aria-hidden="true" tabindex="-1"></a>      <span class="cf">raise</span> <span class="pp">ValueError</span>(<span class="st">"Unexpected day_number "</span> <span class="op">+</span> <span class="bu">str</span>(day_number) <span class="op">+</span> <span class="st">" encountered"</span>)</span>
<span id="cb85-27"><a href="#cb85-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb85-28"><a href="#cb85-28" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(day_name)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Friday</code></pre>
</div>
</div></li>
<li><p>This works, but is fragile, a cleaner way to do this is to use a <em>lookup table</em></p>
<ul>
<li>i.e.&nbsp;we use <code>day_number</code> to index a list that stores the correct day</li>
</ul></li>
<li><p>We use the<code>time</code> library for fun so the program prints the current day</p>
<div id="65f7bb6f" class="cell" data-execution_count="24">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb87"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.23 Day Name List</span></span>
<span id="cb87-2"><a href="#cb87-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb87-3"><a href="#cb87-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Uses a lookup table to correctly print the day</span></span>
<span id="cb87-4"><a href="#cb87-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-5"><a href="#cb87-5" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> time</span>
<span id="cb87-6"><a href="#cb87-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-7"><a href="#cb87-7" aria-hidden="true" tabindex="-1"></a>  current_time <span class="op">=</span> time.localtime()</span>
<span id="cb87-8"><a href="#cb87-8" aria-hidden="true" tabindex="-1"></a>  day_number <span class="op">=</span> current_time.tm_wday</span>
<span id="cb87-9"><a href="#cb87-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-10"><a href="#cb87-10" aria-hidden="true" tabindex="-1"></a>  day_names <span class="op">=</span> [</span>
<span id="cb87-11"><a href="#cb87-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Monday"</span>,</span>
<span id="cb87-12"><a href="#cb87-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Tuesday"</span>,</span>
<span id="cb87-13"><a href="#cb87-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wednesday"</span>,</span>
<span id="cb87-14"><a href="#cb87-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Thursday"</span>,</span>
<span id="cb87-15"><a href="#cb87-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Friday"</span>,</span>
<span id="cb87-16"><a href="#cb87-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Saturday"</span>,</span>
<span id="cb87-17"><a href="#cb87-17" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Sunday"</span>,</span>
<span id="cb87-18"><a href="#cb87-18" aria-hidden="true" tabindex="-1"></a>  ]</span>
<span id="cb87-19"><a href="#cb87-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-20"><a href="#cb87-20" aria-hidden="true" tabindex="-1"></a>  day_name <span class="op">=</span> day_names[day_number]</span>
<span id="cb87-21"><a href="#cb87-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-22"><a href="#cb87-22" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Today is"</span>, day_name)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Today is Friday</code></pre>
</div>
</div></li>
<li><p>Lookup tables are powerful for shrinking written code</p></li>
<li><p>They also are used to create <em>data-driven applications</em></p>
<ul>
<li>Programs that use built-in or loaded data rather than fixed behaviour</li>
</ul></li>
</ul>
</section>
<section id="tuples" class="level3">
<h3 class="anchored" data-anchor-id="tuples">Tuples</h3>
<ul>
<li>Lists are the standard collection type
<ul>
<li>They are mutable, i.e.&nbsp;we can change the value of a given index or add new items</li>
</ul></li>
<li>Consider the <code>day_names</code> list, once defined we don’t want to change it
<ul>
<li><p>We would like to also prevent this, to catch potential programming errors e.g.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb89"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a>  day_names[<span class="dv">5</span>] <span class="op">=</span> <span class="st">"Splatterday"</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul></li>
<li>A tuple is like a list, but the contents cannot be changed
<ul>
<li>A tuple is said to be <em>immutable</em></li>
<li>If we attempt to change the tuple we get an error, (demonstrated in the implementation <a href="./Examples/24_DayNameTuple/DayNameTuple.py">DayNameList.py</a>)
<ul>
<li>Specifically a <code>TypeError</code></li>
<li>Because the action we are trying to take (change the value at an index) is not supported by the object type (tuple)</li>
</ul>
<div id="0535ac1c" class="cell" data-execution_count="25">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 8.24 Day Name Tuple</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Reimplements the Day Name lookup table with a tuple</span></span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># and demonstrates the immutability of the data structure</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> time</span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>  current_time <span class="op">=</span> time.localtime()</span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>  day_number <span class="op">=</span> current_time.tm_wday</span>
<span id="cb90-10"><a href="#cb90-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-11"><a href="#cb90-11" aria-hidden="true" tabindex="-1"></a>  day_names <span class="op">=</span> (</span>
<span id="cb90-12"><a href="#cb90-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Monday"</span>,</span>
<span id="cb90-13"><a href="#cb90-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Tuesday"</span>,</span>
<span id="cb90-14"><a href="#cb90-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Wednesday"</span>,</span>
<span id="cb90-15"><a href="#cb90-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Thursday"</span>,</span>
<span id="cb90-16"><a href="#cb90-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Friday"</span>,</span>
<span id="cb90-17"><a href="#cb90-17" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Saturday"</span>,</span>
<span id="cb90-18"><a href="#cb90-18" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Sunday"</span>,</span>
<span id="cb90-19"><a href="#cb90-19" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb90-20"><a href="#cb90-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-21"><a href="#cb90-21" aria-hidden="true" tabindex="-1"></a>  day_name <span class="op">=</span> day_names[day_number]</span>
<span id="cb90-22"><a href="#cb90-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-23"><a href="#cb90-23" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Today is"</span>, day_name)</span>
<span id="cb90-24"><a href="#cb90-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-25"><a href="#cb90-25" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Attempting to change the lookup table..."</span>)</span>
<span id="cb90-26"><a href="#cb90-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb90-27"><a href="#cb90-27" aria-hidden="true" tabindex="-1"></a>  day_names[day_number] <span class="op">=</span> <span class="st">"Splatterday"</span>  <span class="co"># type: ignore</span></span>
<span id="cb90-28"><a href="#cb90-28" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Today is"</span>, day_names[day_number])</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Today is Friday
Attempting to change the lookup table...</code></pre>
</div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">TypeError</span>                                 Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[25]</span><span class="ansi-green-fg">, line 27</span>
<span class="ansi-green-fg">     23</span> <span style="color:rgb(0,135,0)">print</span>(<span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">Today is</span><span class="ansi-yellow-fg">"</span>, day_name)
<span class="ansi-green-fg">     25</span> <span style="color:rgb(0,135,0)">print</span>(<span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">Attempting to change the lookup table...</span><span class="ansi-yellow-fg">"</span>)
<span class="ansi-green-fg">---&gt; </span><span class="ansi-green-fg">27</span> <span class="ansi-yellow-bg">day_names</span><span class="ansi-yellow-bg">[</span><span class="ansi-yellow-bg">day_number</span><span class="ansi-yellow-bg">]</span> = <span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">Splatterday</span><span class="ansi-yellow-fg">"</span>  <span style="font-style:italic;color:rgb(95,135,135)"># type: ignore</span>
<span class="ansi-green-fg">     28</span> <span style="color:rgb(0,135,0)">print</span>(<span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">Today is</span><span class="ansi-yellow-fg">"</span>, day_names[day_number])

<span class="ansi-red-fg">TypeError</span>: 'tuple' object does not support item assignment</pre>
</div>
</div>
</div></li>
</ul></li>
<li>Tuple is created as for a list but using <code>()</code> to delimit the items rather than <code>[]</code></li>
<li>Tuples are good for working with complicated values
<ul>
<li>e.g.&nbsp;composite types</li>
</ul></li>
<li>For Example, consider a pirates treasure map
<ul>
<li>Treasure’s location is given by
<ol type="1">
<li>A reference landmark</li>
<li>Number of steps north</li>
<li>Number of steps east</li>
</ol></li>
</ul></li>
<li>A function can strictly speaking <code>return</code> <em>one</em> value
<ul>
<li>We can return multiple values as a <code>tuple</code></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> get_treasure_location():</span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>      <span class="co"># get the treasures location</span></span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> (<span class="st">"The old oak tree"</span>, <span class="dv">20</span>, <span class="dv">30</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>This returns three values
<ol type="1">
<li>The string <code>"The old oak tree"</code></li>
<li>The number of steps north, <code>20</code></li>
<li>The number of steps east, <code>30</code></li>
</ol></li>
</ul></li>
<li>Like lists, tuples are zero-indexed</li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Take care with your tuple indices</strong></p>
<p>When returning multiple items from a function via a tuple, we have to be clear to specify the order of what the items in the tuple correspond to. This is effectively a contract between the function and any caller (if you change the order, you will break the code of anyone who relies on the current order)</p>
<p>The order that parameters are returned in should thus be clearly documented, e.g.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb93"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_treasure_location():</span>
<span id="cb93-2"><a href="#cb93-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb93-3"><a href="#cb93-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Gets the location of the treasure</span></span>
<span id="cb93-4"><a href="#cb93-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-5"><a href="#cb93-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Returns</span></span>
<span id="cb93-6"><a href="#cb93-6" aria-hidden="true" tabindex="-1"></a><span class="co">    -------</span></span>
<span id="cb93-7"><a href="#cb93-7" aria-hidden="true" tabindex="-1"></a><span class="co">    str</span></span>
<span id="cb93-8"><a href="#cb93-8" aria-hidden="true" tabindex="-1"></a><span class="co">        Name of a landmark to start at</span></span>
<span id="cb93-9"><a href="#cb93-9" aria-hidden="true" tabindex="-1"></a><span class="co">    int</span></span>
<span id="cb93-10"><a href="#cb93-10" aria-hidden="true" tabindex="-1"></a><span class="co">        Number of paces north</span></span>
<span id="cb93-11"><a href="#cb93-11" aria-hidden="true" tabindex="-1"></a><span class="co">    int</span></span>
<span id="cb93-12"><a href="#cb93-12" aria-hidden="true" tabindex="-1"></a><span class="co">        Number of paces east</span></span>
<span id="cb93-13"><a href="#cb93-13" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb93-14"><a href="#cb93-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb93-15"><a href="#cb93-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (<span class="st">"The old oak tree"</span>, <span class="dv">20</span>, <span class="dv">30</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
</div>
<ul>
<li>An alternative to explicitly referencing the index of a returned tuple, is called <em>tuple-unpacking</em>
<ul>
<li><p>We provide a comma-seperated list of variables to assign the tuple values (in order) to, e.g.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a>      landmark, north, east <span class="op">=</span> get_treasure_location()</span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Start at"</span>, landmark, <span class="st">"walk"</span>, north, <span class="st">"paces north and"</span>, east, <span class="st">"paces east"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul></li>
<li>The complete Pirate’s Treasure program implemention is given in <a href="./Examples/25_PiratesTreasure/PiratesTreasure.py">PiratesTreasure.py</a></li>
</ul>
</section>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<ul>
<li>Lists can be used to store large and arbitarily sized data
<ul>
<li>We refer to the individual elements of a list as items</li>
<li><code>append</code> lets us add new elements to a list (at the end)</li>
<li><code>len</code> returns the number of items in a list</li>
<li>lists can contain different types of data in the same list</li>
<li>list values are accessed via the indexing operator <code>[]</code>
<ul>
<li>lists are indexed from <span class="math inline">\(0\)</span></li>
<li>The last index in a list is <code>len(list) - 1</code></li>
</ul></li>
<li>Nested lists allow for multi-dimensional structures</li>
</ul></li>
<li>Files can be manipulated by python
<ul>
<li><code>open</code> is used to access a file</li>
<li>files can be read from or written to</li>
<li><code>for</code> can be used to loop over lines from a file</li>
<li>when using <code>write</code> to write to a file, newlines (<code>'\n'</code>) must be added exactly</li>
<li><code>strip</code> can be used to remove whitespace when reading lines from a file</li>
<li>Files must be closed using the <code>close</code> method once they are no longer in use</li>
<li>Files can raise exceptions which must be handled or notified to the user
<ul>
<li>They must ensure the file is still closed</li>
</ul></li>
<li><code>with</code> can be used to automatically ensure a file is closed once it is no longer used, even in error scenarios</li>
</ul></li>
<li>Tuples are immutable collections
<ul>
<li>Once they are defined we cannot modify or add values</li>
<li>Tuples are suitable for tuples or other fixed collections</li>
<li>Tuples can be used by functions that return more than one value</li>
</ul></li>
</ul>
</section>
<section id="questions-and-answers" class="level2">
<h2 class="anchored" data-anchor-id="questions-and-answers">Questions and Answers</h2>
<ol type="1">
<li><em>Do we <strong>really</strong> need lists?</em>
<ul>
<li>Yes, any scenario with large or arbitrary data needs collections to meaningfully handle and manipulate them</li>
</ul></li>
<li><em>Do we <strong>really</strong> need tuples?</em>
<ul>
<li>No, techically we could just use lists instead. They are useful though because they enforce properties that lists don’t such as immutability which is useful in some cases</li>
</ul></li>
<li><em>How does the list actually work?</em>
<ul>
<li>When a list is created the program reserves memory to hold a few items</li>
<li>The memory also tracks the number of items currently stored in the list</li>
<li>Appending an item consumes part of the allocated memory</li>
<li>If the list doesn’t have enough room, then more memory is allocated to the list</li>
<li>When accessing a list item, the list checks if the item exists
<ul>
<li>If the item doesn’t exist, an exception is thrown</li>
<li>else, the item is found and returned</li>
</ul></li>
</ul></li>
<li><em>Why are tuples called tuples?</em>
<ul>
<li>Tuples are ordered collections of elements in mathematics. Python adopted the terminology</li>
</ul></li>
<li><em>Should the sales program use a list to store the sales figures or a tuple?</em>
<ul>
<li>It depends on the operations we want to peform</li>
<li>Once we have the list of sales figures, none of our operations strictly change the tuple (except sorting)
<ul>
<li>Can implement sorting them as creating a new tuple</li>
<li>Probably good to then use a tuple from a security perspective</li>
<li>However, this makes the code more complicated</li>
</ul></li>
<li>If we wanted to introduce an <em>edit</em> function later to modify sales data we might prefer a list for the clean implementation
<ul>
<li>As again opposed to the tuple approach</li>
</ul></li>
</ul></li>
<li><em>Can functions return lists instead of tuples?</em>
<ul>
<li>Yes, they can.</li>
<li>However, typically the results of functions cannot be changed
<ul>
<li>So naturally a tuple</li>
</ul></li>
</ul></li>
<li><em>Will my program run faster if I use tuples to store all the data in it?</em>
<ul>
<li>Potentially, tuples are faster to implement than lists</li>
<li>Depends on what the program does, if you’re mutating a lot of data, the cost of constantly recreating multiple tuples might be greater than the cost of creating and modifying a list</li>
<li>The speed difference should hardly be noticable in any case</li>
</ul></li>
<li><em>Does the</em> <code>with</code> <em>construction stop objects from throwing exceptions?</em>
<ul>
<li>No, <code>with</code> is designed to ensure that even if an object throws an exception the managed resource is released correctly</li>
<li><code>with</code> will still pass on the exception</li>
</ul></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>