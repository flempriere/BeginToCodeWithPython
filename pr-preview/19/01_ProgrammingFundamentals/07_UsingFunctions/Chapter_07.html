<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Chapter 7: Using Functions to Simplify Programs – Beginning to Code with Python: Notes, Examples and Exercises</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-fd21d93db373728c2f8fcda4b672d2ec.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="../../site_libs/quarto-diagram/mermaid.min.js"></script>
<script src="../../site_libs/quarto-diagram/mermaid-init.js"></script>
<link href="../../site_libs/quarto-diagram/mermaid.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN" && texText && texText.data) {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar docked nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../../index.html" class="navbar-brand navbar-brand-logo">
    </a>
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Beginning to Code with Python: Notes, Examples and Exercises</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../../index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../01_ProgrammingFundamentals/02_PythonAndProgramming/Chapter_02.html">Programming Fundamentals</a></li><li class="breadcrumb-item"><a href="../../01_ProgrammingFundamentals/07_UsingFunctions/Chapter_07.html">Chapter 7: Using Functions to Simplify Programs</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../../index.html" class="sidebar-logo-link">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Programming Fundamentals</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../01_ProgrammingFundamentals/02_PythonAndProgramming/Chapter_02.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 2: Python and Programming</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../01_ProgrammingFundamentals/03_PythonProgramStructure/Chapter_03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 3: Python Program Structure</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../01_ProgrammingFundamentals/04_WorkingWithVariables/Chapter_04.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 4: Working With Variables</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../01_ProgrammingFundamentals/05_MakingDecisions/Chapter_05.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 5: Making Decisions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../01_ProgrammingFundamentals/06_RepeatingActionsWithLoops/Chapter_06.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 6: Repeating Actions with Loops</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../01_ProgrammingFundamentals/07_UsingFunctions/Chapter_07.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Chapter 7: Using Functions to Simplify Programs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../01_ProgrammingFundamentals/08_StoringCollectionsOfData/Chapter_08.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 8: Storing Collections of Data</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Advanced Programming</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../../02_AdvancedProgramming/09_UsingClasses/Chapter_09.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 9: Use Classes to Store Data</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth2 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../02_AdvancedProgramming/09_UsingClasses/Chapter_09_ExtensionExercises.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Extended Exercises for Chapter 9</span></a>
  </div>
</li>
      </ul>
  </li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../02_AdvancedProgramming/10_UseClassesToCreateActiveObjects/Chapter_10.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Chapter 10: Using Classes to Create Active Objects</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#notes" id="toc-notes" class="nav-link active" data-scroll-target="#notes">Notes</a>
  <ul>
  <li><a href="#what-makes-a-function" id="toc-what-makes-a-function" class="nav-link" data-scroll-target="#what-makes-a-function">What makes a Function?</a>
  <ul>
  <li><a href="#example-investigating-functions" id="toc-example-investigating-functions" class="nav-link" data-scroll-target="#example-investigating-functions">Example: Investigating Functions</a></li>
  <li><a href="#exercise-program-pathfinder" id="toc-exercise-program-pathfinder" class="nav-link" data-scroll-target="#exercise-program-pathfinder">Exercise: Program Pathfinder</a></li>
  <li><a href="#structure-of-a-function-definition" id="toc-structure-of-a-function-definition" class="nav-link" data-scroll-target="#structure-of-a-function-definition">Structure of a Function Definition</a></li>
  <li><a href="#give-information-to-functions-using-parameters" id="toc-give-information-to-functions-using-parameters" class="nav-link" data-scroll-target="#give-information-to-functions-using-parameters">Give Information to Functions using Parameters</a>
  <ul>
  <li><a href="#arguments-and-parameters" id="toc-arguments-and-parameters" class="nav-link" data-scroll-target="#arguments-and-parameters">Arguments and Parameters</a>
  <ul class="collapse">
  <li><a href="#example-argument-and-parameters" id="toc-example-argument-and-parameters" class="nav-link" data-scroll-target="#example-argument-and-parameters">Example: Argument and Parameters</a></li>
  </ul></li>
  <li><a href="#multiple-parameters-in-a-function" id="toc-multiple-parameters-in-a-function" class="nav-link" data-scroll-target="#multiple-parameters-in-a-function">Multiple Parameters in a Function</a></li>
  <li><a href="#positional-and-keyword-arguments" id="toc-positional-and-keyword-arguments" class="nav-link" data-scroll-target="#positional-and-keyword-arguments">Positional and Keyword Arguments</a></li>
  <li><a href="#default-parameter-values" id="toc-default-parameter-values" class="nav-link" data-scroll-target="#default-parameter-values">Default Parameter Values</a></li>
  <li><a href="#example-parameters-as-values" id="toc-example-parameters-as-values" class="nav-link" data-scroll-target="#example-parameters-as-values">Example: Parameters as Values</a></li>
  <li><a href="#exercise-creating-a-teletype-printer" id="toc-exercise-creating-a-teletype-printer" class="nav-link" data-scroll-target="#exercise-creating-a-teletype-printer">Exercise: Creating a Teletype Printer</a></li>
  <li><a href="#exercise-teletype-fortune-teller" id="toc-exercise-teletype-fortune-teller" class="nav-link" data-scroll-target="#exercise-teletype-fortune-teller">Exercise: Teletype Fortune Teller</a></li>
  </ul></li>
  <li><a href="#return-values-from-function-calls" id="toc-return-values-from-function-calls" class="nav-link" data-scroll-target="#return-values-from-function-calls">Return Values from Function Calls</a>
  <ul>
  <li><a href="#example-functions-and-return" id="toc-example-functions-and-return" class="nav-link" data-scroll-target="#example-functions-and-return">Example: Functions and <code>return</code></a></li>
  </ul></li>
  <li><a href="#local-variables-in-python-functions" id="toc-local-variables-in-python-functions" class="nav-link" data-scroll-target="#local-variables-in-python-functions">Local Variables in Python Functions</a></li>
  <li><a href="#global-variables-in-python-programs" id="toc-global-variables-in-python-programs" class="nav-link" data-scroll-target="#global-variables-in-python-programs">Global Variables in Python Programs</a></li>
  </ul></li>
  <li><a href="#build-reusable-functions" id="toc-build-reusable-functions" class="nav-link" data-scroll-target="#build-reusable-functions">Build Reusable Functions</a>
  <ul>
  <li><a href="#create-a-text-input-function" id="toc-create-a-text-input-function" class="nav-link" data-scroll-target="#create-a-text-input-function">Create a Text Input Function</a>
  <ul>
  <li><a href="#exercise-investigate-the-read_text-function" id="toc-exercise-investigate-the-read_text-function" class="nav-link" data-scroll-target="#exercise-investigate-the-read_text-function">Exercise: Investigate the <code>read_text</code> function</a></li>
  </ul></li>
  <li><a href="#add-help-information-to-functions" id="toc-add-help-information-to-functions" class="nav-link" data-scroll-target="#add-help-information-to-functions">Add Help Information to Functions</a>
  <ul>
  <li><a href="#use-pydoc" id="toc-use-pydoc" class="nav-link" data-scroll-target="#use-pydoc">Use Pydoc</a></li>
  </ul></li>
  <li><a href="#create-a-number-input-function" id="toc-create-a-number-input-function" class="nav-link" data-scroll-target="#create-a-number-input-function">Create a Number Input Function</a></li>
  <li><a href="#exercise-investigating-the-read_float_ranged-function" id="toc-exercise-investigating-the-read_float_ranged-function" class="nav-link" data-scroll-target="#exercise-investigating-the-read_float_ranged-function">Exercise: Investigating the <code>read_float_ranged</code> Function</a></li>
  <li><a href="#convert-our-functions-into-a-python-module" id="toc-convert-our-functions-into-a-python-module" class="nav-link" data-scroll-target="#convert-our-functions-into-a-python-module">Convert our Functions into a Python Module</a>
  <ul>
  <li><a href="#exercise-add-btcinput-to-your-existing-programs" id="toc-exercise-add-btcinput-to-your-existing-programs" class="nav-link" data-scroll-target="#exercise-add-btcinput-to-your-existing-programs">Exercise: Add <code>BTCInput</code> to your Existing Programs</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#using-a-debugger" id="toc-using-a-debugger" class="nav-link" data-scroll-target="#using-a-debugger">Using a Debugger</a>
  <ul>
  <li><a href="#exercise-investigate-programmers-with-a-debugger" id="toc-exercise-investigate-programmers-with-a-debugger" class="nav-link" data-scroll-target="#exercise-investigate-programmers-with-a-debugger">Exercise: Investigate Programmers with a Debugger</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#summary" id="toc-summary" class="nav-link" data-scroll-target="#summary">Summary</a></li>
  <li><a href="#questions-and-answers" id="toc-questions-and-answers" class="nav-link" data-scroll-target="#questions-and-answers">Questions and Answers</a></li>
  </ul>
<div class="quarto-code-links"><h2>Code Links</h2><ul><li><a href="https://github.com/flempriere/BeginToCodeWithPython/" target="_blank"><i class="bi bi-github"></i>GitHub Repo</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../01_ProgrammingFundamentals/02_PythonAndProgramming/Chapter_02.html">Programming Fundamentals</a></li><li class="breadcrumb-item"><a href="../../01_ProgrammingFundamentals/07_UsingFunctions/Chapter_07.html">Chapter 7: Using Functions to Simplify Programs</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Chapter 7: Using Functions to Simplify Programs</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="notes" class="level2">
<h2 class="anchored" data-anchor-id="notes">Notes</h2>
<section id="what-makes-a-function" class="level3">
<h3 class="anchored" data-anchor-id="what-makes-a-function">What makes a Function?</h3>
<ul>
<li>A function is a named chunk of code
<ul>
<li>Can be thought of as like a variable containing code rather than a value</li>
<li>Consider the simple function</li>
</ul>
<div id="2eccade7" class="cell" data-execution_count="1">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> greeter():</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Hello"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<ul>
<li>Print’s the message <code>"Hello"</code></li>
<li>Called by the function name, then parentheses, e.g.</li>
</ul>
<div id="ad95a39a" class="cell" data-execution_count="2">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>  greeter()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello</code></pre>
</div>
</div>
<ul>
<li>functions must be defined <em>before</em> they can be called</li>
</ul></li>
</ul>
<section id="example-investigating-functions" class="level4">
<h4 class="anchored" data-anchor-id="example-investigating-functions">Example: Investigating Functions</h4>
<p><em>Use a python interpreter to work through the following questions to understand python functions</em></p>
<p><em>Enter the following program into the interpreter</em></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> greeter():</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>     <span class="bu">print</span>(<span class="st">"Hello"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ol type="1">
<li><p><em>Why did the interpreter not print</em> <code>"Hello"</code><em>?</em></p>
<ul>
<li><em>Because the</em> <code>print</code> <em>statement is stored as part of the</em> <code>greeter</code> <em>function</em></li>
</ul></li>
<li><p><em>How do I tell Python that I’ve finished entering the</em> <code>greeter</code> <em>function?</em></p>
<ul>
<li><em>The same way you close a loop or an</em> <code>if</code> <em>statement, by deindenting and adding an empty line</em></li>
</ul></li>
<li><p><em>How do I make a call to the</em> <code>greeter</code> <em>function?</em></p>
<div id="136d797c" class="cell" data-execution_count="3">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a> greeter()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello</code></pre>
</div>
</div>
<ul>
<li><em>The same way you call any other function. Write the function name and a parenthesised list of parameters. In this case the list is empty. Once called the function runs all the statements contained in its definition.</em></li>
</ul></li>
</ol>
<p><em>Now consider the following code snippet</em></p>
<div id="97120521" class="cell" data-execution_count="4">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> greeter</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>x()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Hello</code></pre>
</div>
</div>
<p><em>Observe that we can treat functions like variables. We can assign them to other <strong>labels/variables</strong> in this case</em> <code>x</code> <em>is set to the value of</em> <code>greeter</code><em>. We can then call</em> <code>x</code> <em>as if it where</em> <code>greeter</code></p>
<p><em>The ability to treat functions as variables is a powerful feature we will explore more in Chapter 12</em></p>
</section>
<section id="exercise-program-pathfinder" class="level4">
<h4 class="anchored" data-anchor-id="exercise-program-pathfinder">Exercise: Program Pathfinder</h4>
<p><em>Examine the following code block and and answer the following questions to understand how functions work. (You can run the code at <a href="./Examples/01_Pathfinder/Pathfinder.py">Pathfinder.py</a>)</em></p>
<div id="5a8b2676" class="cell" data-execution_count="5">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example 7.1: Pathfinder</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample Program to demonstrate function flow</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> m2():</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"the"</span>)</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> m3():</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"sat on"</span>)</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    m2()</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> m1():</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    m2()</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"cat"</span>)</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    m3()</span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">"mat"</span>)</span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>m1()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>the
cat
sat on
the
mat</code></pre>
</div>
</div>
<ol type="1">
<li><p><em>What will the program display when it runs?</em></p>
<ul>
<li>Step through the program one statement at a time</li>
<li>First <code>m1</code> is called
<ul>
<li><code>m1</code> calls <code>m2</code>
<ul>
<li><code>m2</code> prints <code>"the"</code></li>
<li><code>m2</code> ends and control returns to <code>m1</code></li>
</ul></li>
<li><code>m1</code>’s next statement prints <code>"cat"</code></li>
<li><code>m1</code>’s next statement calls <code>m3</code>
<ul>
<li><code>m3</code> prints <code>"sat on"</code></li>
<li><code>m3</code> calls <code>m2</code>
<ul>
<li><code>m2</code> prints <code>"the"</code></li>
<li><code>m2</code> ends and control returns to <code>m3</code></li>
</ul></li>
<li><code>m3</code> ends and control returns to <code>m1</code></li>
</ul></li>
<li><code>m1</code> prints <code>"mat"</code></li>
<li><code>m1</code> and thus the program ends</li>
</ul></li>
<li>The final output is thus:</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a> <span class="ex">the</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a> <span class="fu">cat</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a> <span class="ex">sat</span> on</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a> <span class="ex">the</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a> <span class="ex">mat</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p><em>What happens if a function calls itself? For example what if</em> <code>m1</code> <em>called</em> <code>m1</code></p>
<ul>
<li>Let’s try changing <code>m1</code> to the following,</li>
</ul>
<div id="c0c45446" class="cell" data-execution_count="6">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a> <span class="kw">def</span> m1():</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>     m1()</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a> m1()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">RecursionError</span>                            Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[6]</span><span class="ansi-green-fg">, line 4</span>
<span class="ansi-green-fg">      1</span> <span style="font-weight:bold;color:rgb(0,135,0)">def</span><span style="color:rgb(188,188,188)"> </span><span class="ansi-blue-fg">m1</span>():
<span class="ansi-green-fg">      2</span>     m1()
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">4</span> <span class="ansi-yellow-bg">m1</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span>

<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[6]</span><span class="ansi-green-fg">, line 2</span>, in <span class="ansi-cyan-fg">m1</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">      1</span> <span style="font-weight:bold;color:rgb(0,135,0)">def</span><span style="color:rgb(188,188,188)"> </span><span class="ansi-blue-fg">m1</span>():
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">2</span>     <span class="ansi-yellow-bg">m1</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span>

<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[6]</span><span class="ansi-green-fg">, line 2</span>, in <span class="ansi-cyan-fg">m1</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">      1</span> <span style="font-weight:bold;color:rgb(0,135,0)">def</span><span style="color:rgb(188,188,188)"> </span><span class="ansi-blue-fg">m1</span>():
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">2</span>     <span class="ansi-yellow-bg">m1</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span>

    <span class="ansi-red-fg">[... skipping similar frames: m1 at line 2 (2975 times)]</span>

<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[6]</span><span class="ansi-green-fg">, line 2</span>, in <span class="ansi-cyan-fg">m1</span><span class="ansi-blue-fg">()</span>
<span class="ansi-green-fg">      1</span> <span style="font-weight:bold;color:rgb(0,135,0)">def</span><span style="color:rgb(188,188,188)"> </span><span class="ansi-blue-fg">m1</span>():
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">2</span>     <span class="ansi-yellow-bg">m1</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-bg">)</span>

<span class="ansi-red-fg">RecursionError</span>: maximum recursion depth exceeded</pre>
</div>
</div>
</div>
<ul>
<li>The code generates a <code>RecursionError</code>!
<ul>
<li>A function that calls itself is called a rescursive function</li>
<li>Like an infinite loop infinite recursion occurs when a function calls itself with no condition to stop</li>
<li>Eventually the computer cannot allocate more memory to track the function calls
<ul>
<li>This can be dangerous so Python prematurely limits the “depth” of recursive calls a function can make</li>
</ul></li>
</ul></li>
<li>Formally with recursion:
<ul>
<li>Each time a function is called Python stores the return address (where the code goes back to) on the “stack”
<ul>
<li>The stack is special memory responsible for managing the program</li>
<li>When a function finishes the program grabs the return of the stack and looks at the address to to determine where to run</li>
</ul></li>
<li>Calling and exiting functions thus grows and shrinks the stack
<ul>
<li>Up to a limit defined by Python at which point a recursion error occurs</li>
</ul></li>
</ul></li>
<li>Recursive functions are a powerful and elegant technique in many cases
<ul>
<li>However, often it is better to use simple loop structures</li>
<li>Recursion more of interest for theory</li>
</ul></li>
</ul></li>
</ol>
</section>
<section id="structure-of-a-function-definition" class="level4">
<h4 class="anchored" data-anchor-id="structure-of-a-function-definition">Structure of a Function Definition</h4>
<div class="cell" data-layout-align="default">
<div class="cell-output-display">
<div>
<p></p><figure class="figure"><p></p>
<div>
<pre class="mermaid mermaid-js">block-beta
    columns 7

    classDef BG stroke:transparent, fill:transparent


    space
    space
    title["Breakdown of a Function Definition"]:3
    space
    space

    class title BG

    block:Def
    columns 1
        def["def"]
        defDescr["(start of function definition)"]
    end

    class def BG
    class defDescr BG


    block:Name
    columns 1
        name["name"]
        nameDescr["(name of the function)"]
    end

    class name BG
    class nameDescr BG

    block:LeftP
    columns 1
        leftP["("]
        leftPDescr[" "]
    end

    class leftP BG
    class leftPDescr BG

    block:Parameters
    columns 1
        parameters["parameters"]
        parametersDescr["(items to feed into the function)"]
    end

    class parameters BG
    class parametersDescr BG

    block:RightP
    columns 1
        rightP[")"]
        rightPDescr[" "]
    end

    class rightP BG
    class rightPDescr BG

    block:Colon
    columns 1
        colon[":"]
        colonDescr["colon"]
    end

    class colon BG
    class colonDescr BG

    block:Suite
    columns 1
        suite["Statement block"]
        suiteDescr["(statements)"]
    end

    class suite BG
    class suiteDescr BG
</pre>
</div>
<p></p></figure><p></p>
</div>
</div>
</div>
<ul>
<li><code>def</code> tells python we’re defining a function
<ul>
<li>As opposed to calling an existing one</li>
</ul></li>
<li>space then name of the function
<ul>
<li>Same naming rules as for variables</li>
<li>functions <em>do</em> things, i.e.&nbsp;the are naturally associated with verbs
<ul>
<li>Unlike variables with <em>are</em> things i.e.&nbsp;nouns</li>
</ul></li>
<li>e.g.&nbsp;<code>display_menu</code> names a function which takes the <em>action</em> to <em>display</em> <strong>a</strong> menu</li>
</ul></li>
<li>Then parameters in a parenthese-enclosed, comma-delimited list
<ul>
<li>No space between name and left parenthesis</li>
<li>Parameters feed extra information for the function to work on</li>
<li>Parameter list can be empty (as we’ve seen)</li>
</ul></li>
<li>Then colon</li>
<li>Followed by indented set of statements associated with the function
<ul>
<li>Called the <em>function body</em></li>
</ul></li>
</ul>
</section>
<section id="give-information-to-functions-using-parameters" class="level4">
<h4 class="anchored" data-anchor-id="give-information-to-functions-using-parameters">Give Information to Functions using Parameters</h4>
<ul>
<li><p>Functions can receive data to work on through parameters</p></li>
<li><p>E.g. we can parameterise our times table code</p>
<div id="a03dd443" class="cell" data-execution_count="7">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> print_times_table(times_value):</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>      count <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>      <span class="cf">while</span> count <span class="op">&lt;</span>  <span class="dv">13</span>:</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>          result <span class="op">=</span> count <span class="op">*</span> times_value</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>          <span class="bu">print</span>(count, <span class="st">'times'</span>, times_value, <span class="st">'equals'</span>, result)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>          count <span class="op">=</span> count <span class="op">+</span> <span class="dv">1</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div></li>
<li><p>We can then call with different <code>times_value</code> to print the respective times table</p></li>
</ul>
<div id="cf2b19c5" class="cell" data-execution_count="8">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>    print_times_table(<span class="dv">5</span>)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>    print_times_table(<span class="dv">99</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 times 5 equals 5
2 times 5 equals 10
3 times 5 equals 15
4 times 5 equals 20
5 times 5 equals 25
6 times 5 equals 30
7 times 5 equals 35
8 times 5 equals 40
9 times 5 equals 45
10 times 5 equals 50
11 times 5 equals 55
12 times 5 equals 60
1 times 99 equals 99
2 times 99 equals 198
3 times 99 equals 297
4 times 99 equals 396
5 times 99 equals 495
6 times 99 equals 594
7 times 99 equals 693
8 times 99 equals 792
9 times 99 equals 891
10 times 99 equals 990
11 times 99 equals 1089
12 times 99 equals 1188</code></pre>
</div>
</div>
<section id="arguments-and-parameters" class="level5">
<h5 class="anchored" data-anchor-id="arguments-and-parameters">Arguments and Parameters</h5>
<ul>
<li>A <em>parameter</em> is the name assigned to a value passed to a function</li>
<li>An <em>argument</em> is the specific value passed when a function is called</li>
<li>e.g.&nbsp;in the above <code>print_times_table</code> function:
<ul>
<li>The <em>parameter</em> is <code>times_value</code></li>
<li>But a specific <em>argument</em> is <span class="math inline">\(5\)</span> or <span class="math inline">\(99\)</span></li>
</ul></li>
<li>Consider it as the phrase “we call the function passing the arguments to the parameters”</li>
</ul>
<section id="example-argument-and-parameters" class="level6">
<h6 class="anchored" data-anchor-id="example-argument-and-parameters">Example: Argument and Parameters</h6>
<p><em>Find out more about arguments and parameters by answering the following questions</em></p>
<ol type="1">
<li><p><em>What would the <a href="./Examples/02_TimesTable/TimesTables.py">following program</a> do?</em></p>
<div id="491d8178" class="cell" data-execution_count="9">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a> <span class="co"># Example 7.2: Times Tables</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a> <span class="co">#</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a> <span class="co"># Demonstrates function parameters through a</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a> <span class="co"># Times Table function that takes in an argument to</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a> <span class="co"># determine which times table is printed</span></span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a> <span class="kw">def</span> print_times_table(times_value):</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a>     count <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>     <span class="cf">while</span> count <span class="op">&lt;</span> <span class="dv">13</span>:</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>         result <span class="op">=</span> count <span class="op">*</span> times_value</span>
<span id="cb16-11"><a href="#cb16-11" aria-hidden="true" tabindex="-1"></a>         <span class="bu">print</span>(count, <span class="st">"times"</span>, times_value, <span class="st">"equals"</span>, result)</span>
<span id="cb16-12"><a href="#cb16-12" aria-hidden="true" tabindex="-1"></a>         count <span class="op">=</span> count <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb16-13"><a href="#cb16-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-14"><a href="#cb16-14" aria-hidden="true" tabindex="-1"></a> print_times_table(<span class="dv">6</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 times 6 equals 6
2 times 6 equals 12
3 times 6 equals 18
4 times 6 equals 24
5 times 6 equals 30
6 times 6 equals 36
7 times 6 equals 42
8 times 6 equals 48
9 times 6 equals 54
10 times 6 equals 60
11 times 6 equals 66
12 times 6 equals 72</code></pre>
</div>
</div>
<ul>
<li>The above should print out the times table for <span class="math inline">\(6\)</span></li>
</ul></li>
<li><p><em>What would happen if we changed the call of the</em> <code>print_times_table</code> <em>function to the one below that has a string as the argument? Would the program fail?</em></p>
<div id="6b8cb245" class="cell" data-execution_count="10">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a> print_times_table(<span class="st">"six"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 times six equals six
2 times six equals sixsix
3 times six equals sixsixsix
4 times six equals sixsixsixsix
5 times six equals sixsixsixsixsix
6 times six equals sixsixsixsixsixsix
7 times six equals sixsixsixsixsixsixsix
8 times six equals sixsixsixsixsixsixsixsix
9 times six equals sixsixsixsixsixsixsixsixsix
10 times six equals sixsixsixsixsixsixsixsixsixsix
11 times six equals sixsixsixsixsixsixsixsixsixsixsix
12 times six equals sixsixsixsixsixsixsixsixsixsixsixsix</code></pre>
</div>
</div>
<ul>
<li>Recall that multiplication between strings and numbers is defined in python as the repeated concatenation of the string with itself</li>
<li>The above thus prints a triangle of increasingly concatenated <code>"six"</code></li>
<li>This behaviour while <em>semantically</em> correct by the python language is not <em>logically</em> correct. Really we would expect an error to occur</li>
</ul></li>
<li><p><em>How do we make the <code>print_times_table</code> function work with integer parameters only?</em></p>
<ul>
<li>First: is it a problem?
<ul>
<li>If this function is wrapped in a higher level function that does the error handling we can probably forget it</li>
</ul></li>
<li>Second: If it is a problem, what is the way to fix it?
<ol type="1">
<li>Print a warning message?</li>
<li>Stop the program?</li>
</ol></li>
<li>In this case let’s throw an error if the type is not an integer
<ul>
<li><code>isinstance</code> function lets you type check an item</li>
<li>accepts two arguments, item to test, and the type</li>
<li>Returns <code>True</code> if item is that type else <code>False</code></li>
</ul></li>
</ul>
<div id="58d8c543" class="cell" data-execution_count="11">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a> <span class="co"># Example 7.3: Safe Times Tables</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a> <span class="co">#</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a> <span class="co"># A version of Times Tables that uses isinstance</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a> <span class="co"># to ensure that argument is an integer</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a> <span class="kw">def</span> print_times_table(times_value):</span>
<span id="cb20-8"><a href="#cb20-8" aria-hidden="true" tabindex="-1"></a>     <span class="cf">if</span> <span class="kw">not</span> <span class="bu">isinstance</span>(times_value, <span class="bu">int</span>):</span>
<span id="cb20-9"><a href="#cb20-9" aria-hidden="true" tabindex="-1"></a>         <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">"print_times_table requires an integer argument"</span>)</span>
<span id="cb20-10"><a href="#cb20-10" aria-hidden="true" tabindex="-1"></a>     count <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb20-11"><a href="#cb20-11" aria-hidden="true" tabindex="-1"></a>     <span class="cf">while</span> count <span class="op">&lt;</span> <span class="dv">13</span>:</span>
<span id="cb20-12"><a href="#cb20-12" aria-hidden="true" tabindex="-1"></a>         result <span class="op">=</span> count <span class="op">*</span> times_value</span>
<span id="cb20-13"><a href="#cb20-13" aria-hidden="true" tabindex="-1"></a>         <span class="bu">print</span>(count, <span class="st">"times"</span>, times_value, <span class="st">"equals"</span>, result)</span>
<span id="cb20-14"><a href="#cb20-14" aria-hidden="true" tabindex="-1"></a>         count <span class="op">=</span> count <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb20-15"><a href="#cb20-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-16"><a href="#cb20-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-17"><a href="#cb20-17" aria-hidden="true" tabindex="-1"></a> print_times_table(<span class="st">"six"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-error">
<div class="ansi-escaped-output">
<pre><span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">Exception</span>                                 Traceback (most recent call last)
<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[11]</span><span class="ansi-green-fg">, line 17</span>
<span class="ansi-green-fg">     13</span>         <span style="color:rgb(0,135,0)">print</span>(count, <span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">times</span><span class="ansi-yellow-fg">"</span>, times_value, <span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">equals</span><span class="ansi-yellow-fg">"</span>, result)
<span class="ansi-green-fg">     14</span>         count = count + <span class="ansi-green-fg">1</span>
<span class="ansi-green-fg">---&gt; </span><span class="ansi-green-fg">17</span> <span class="ansi-yellow-bg">print_times_table</span><span class="ansi-yellow-bg">(</span><span class="ansi-yellow-fg ansi-yellow-bg">"</span><span class="ansi-yellow-fg ansi-yellow-bg">six</span><span class="ansi-yellow-fg ansi-yellow-bg">"</span><span class="ansi-yellow-bg">)</span>

<span class="ansi-cyan-fg">Cell</span><span class="ansi-cyan-fg"> </span><span class="ansi-green-fg">In[11]</span><span class="ansi-green-fg">, line 9</span>, in <span class="ansi-cyan-fg">print_times_table</span><span class="ansi-blue-fg">(times_value)</span>
<span class="ansi-green-fg">      7</span> <span style="font-weight:bold;color:rgb(0,135,0)">def</span><span style="color:rgb(188,188,188)"> </span><span class="ansi-blue-fg">print_times_table</span>(times_value):
<span class="ansi-green-fg">      8</span>     <span style="font-weight:bold;color:rgb(0,135,0)">if</span> <span style="font-weight:bold;color:rgb(175,0,255)">not</span> <span style="color:rgb(0,135,0)">isinstance</span>(times_value, <span style="color:rgb(0,135,0)">int</span>):
<span class="ansi-green-fg">----&gt; </span><span class="ansi-green-fg">9</span>         <span style="font-weight:bold;color:rgb(0,135,0)">raise</span> <span style="font-weight:bold;color:rgb(215,95,95)">Exception</span>(<span class="ansi-yellow-fg">"</span><span class="ansi-yellow-fg">print_times_table requires an integer argument</span><span class="ansi-yellow-fg">"</span>)
<span class="ansi-green-fg">     10</span>     count = <span class="ansi-green-fg">1</span>
<span class="ansi-green-fg">     11</span>     <span style="font-weight:bold;color:rgb(0,135,0)">while</span> count &lt; <span class="ansi-green-fg">13</span>:

<span class="ansi-red-fg">Exception</span>: print_times_table requires an integer argument</pre>
</div>
</div>
</div>
<ul>
<li><a href="./Examples/03_SafeTimesTable/SafeTimesTables.py">SafeTimesTable.py</a> shown above demonstrates using <code>isinstance</code> to raise an exception</li>
<li><code>Exception</code> can be thought of as an object that holds the error description
<ul>
<li>string argument describes the error</li>
</ul></li>
<li><code>raise</code> creates and throws it</li>
</ul></li>
</ol>
</section>
</section>
<section id="multiple-parameters-in-a-function" class="level5">
<h5 class="anchored" data-anchor-id="multiple-parameters-in-a-function">Multiple Parameters in a Function</h5>
<ul>
<li>functions can have multiple parameters
<ul>
<li>e.g.&nbsp;what if we want to adjust the length of the times table</li>
</ul>
<div id="cd73b4e6" class="cell" data-execution_count="12">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 7.4: Two Parameter Times Table</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Demonstrates a multi-parameter function through a variable</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># length times table program</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> print_times_table(times_value, limit):</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>      count <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>      <span class="cf">while</span> count <span class="op">&lt;</span> limit <span class="op">+</span> <span class="dv">1</span>:</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>          result <span class="op">=</span> times_value <span class="op">*</span> count</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>          <span class="bu">print</span>(count, <span class="st">"times"</span>, times_value, <span class="st">"equals"</span>, result)</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>          count <span class="op">=</span> count <span class="op">+</span> <span class="dv">1</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<ul>
<li>The above uses <code>times_value</code> to control which times table is printed, and <code>limit</code> controls the length
<ul>
<li>The full code is given in <a href="./Examples/04_TwoParameterTimesTable/TwoParameterTimesTable.py">TwoParameterTimesTable.py</a></li>
</ul></li>
<li>An example call is then,</li>
</ul>
<div id="460548bf" class="cell" data-execution_count="13">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>  print_times_table(<span class="dv">6</span>,<span class="dv">5</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 times 6 equals 6
2 times 6 equals 12
3 times 6 equals 18
4 times 6 equals 24
5 times 6 equals 30</code></pre>
</div>
</div>
<ul>
<li>The above prints the first <span class="math inline">\(5\)</span> entries of the <span class="math inline">\(6\)</span> times tables</li>
</ul></li>
</ul>
</section>
<section id="positional-and-keyword-arguments" class="level5">
<h5 class="anchored" data-anchor-id="positional-and-keyword-arguments">Positional and Keyword Arguments</h5>
<ul>
<li><p>Consider the call,</p>
<div id="fed737ce" class="cell" data-execution_count="14">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>  print_times_table(<span class="dv">12</span>, <span class="dv">7</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 times 12 equals 12
2 times 12 equals 24
3 times 12 equals 36
4 times 12 equals 48
5 times 12 equals 60
6 times 12 equals 72
7 times 12 equals 84</code></pre>
</div>
</div></li>
<li><p>The above, to the unfamiliar user makes it unclear if its a <span class="math inline">\(12\)</span> times table of length <span class="math inline">\(7\)</span> or a times table for <span class="math inline">\(7\)</span> of length <span class="math inline">\(12\)</span></p>
<ul>
<li>This is because the arguments are passed as <em>positional</em> parameters
<ul>
<li>i.e.&nbsp;order the arguments go in, controls which parameter they are assigned too</li>
</ul></li>
</ul></li>
<li><p>You can also pass arguments to functions by specifying the parameter name, e.g.</p>
<div id="67a4f6dd" class="cell" data-execution_count="15">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>  print_times_table(times_value<span class="op">=</span><span class="dv">12</span>, limit<span class="op">=</span><span class="dv">7</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 times 12 equals 12
2 times 12 equals 24
3 times 12 equals 36
4 times 12 equals 48
5 times 12 equals 60
6 times 12 equals 72
7 times 12 equals 84</code></pre>
</div>
</div>
<ul>
<li>This is called <em>keyword</em> arguments, because we specify the arguments associated parameter by its name</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Don’t mix positional and keyword arguments</strong></p>
<p>Python lets you mix positional and keyword arguments in a call to a function. This can make it hard to work out what is assigned to what. You should either use all <em>positional</em> arguments (when obvious) or all <em>keyword</em> arguments</p>
<p>Beware that <em>positional</em> arguments <strong>must</strong> preceed all <em>keyword</em> arguments</p>
</div>
</div>
</section>
<section id="default-parameter-values" class="level5">
<h5 class="anchored" data-anchor-id="default-parameter-values">Default Parameter Values</h5>
<ul>
<li><p>Our original implementation of <code>print_times_table</code> assumed the length was <span class="math inline">\(12\)</span></p></li>
<li><p>The second version allowed us to specify the length, but no longer assumes that it is <span class="math inline">\(12\)</span></p></li>
<li><p><em>Default</em> parameters let us combine both behaviours</p>
<div id="ba563d5a" class="cell" data-execution_count="16">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 7.6: Default Parameters</span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Demonstrates default arguments by capturing the single</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># argument times table code in the two parameter version</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> print_times_table(times_value, limit<span class="op">=</span><span class="dv">12</span>):</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a>      count <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a>      <span class="cf">while</span> count <span class="op">&lt;</span> <span class="dv">13</span>:</span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a>          result <span class="op">=</span> times_value <span class="op">*</span> count</span>
<span id="cb28-11"><a href="#cb28-11" aria-hidden="true" tabindex="-1"></a>          <span class="bu">print</span>(count, <span class="st">"times"</span>, times_value, <span class="st">"equals"</span>, result)</span>
<span id="cb28-12"><a href="#cb28-12" aria-hidden="true" tabindex="-1"></a>          count <span class="op">=</span> count <span class="op">+</span> <span class="dv">1</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<ul>
<li><p>If an argument is not provided to a parameter with a default argument, the default is used, e.g.&nbsp;the below call implicitly uses <code>limit = 12</code></p>
<div id="8298632e" class="cell" data-execution_count="17">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>  print_times_table(times_value<span class="op">=</span><span class="dv">7</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>1 times 7 equals 7
2 times 7 equals 14
3 times 7 equals 21
4 times 7 equals 28
5 times 7 equals 35
6 times 7 equals 42
7 times 7 equals 49
8 times 7 equals 56
9 times 7 equals 63
10 times 7 equals 70
11 times 7 equals 77
12 times 7 equals 84</code></pre>
</div>
</div></li>
</ul></li>
<li><p>Most modern python editors and tooling can read function definitions, and highlight and default arguments</p></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Why use named arguments and default parameters?</strong></p>
<p>Named arguments and default parameters help make functions clearer in intent. Reduce the possibility of getting arguments confused or mixed up. Makes it easy to define “standard” behaviour for a function</p>
</div>
</div>
</section>
<section id="example-parameters-as-values" class="level5">
<h5 class="anchored" data-anchor-id="example-parameters-as-values">Example: Parameters as Values</h5>
<p><em>What does it mean when we pass the value of an argument to a function parameter? Consider the following program</em></p>
<div id="0a6d9419" class="cell" data-execution_count="18">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example 7.7 Parameters as Values</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Demonstrates how python handles passing values to a function</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> what_would_I_do(input_value):</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>    input_value <span class="op">=</span> <span class="dv">99</span>  <span class="co"># noqa: F841</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>test <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>what_would_I_do(test)</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"The value of test is"</span>, test)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>The value of test is 0</code></pre>
</div>
</div>
<p><em>The function accepts a single value and sets it to</em> <span class="math inline">\(99\)</span><em>. We then call the function with the value of</em> <code>test</code> <em>which has been set to</em> <span class="math inline">\(0\)</span><em>. We then print the value of</em> <code>test</code> <em>after the function call</em></p>
<p><em>Answer the following question,</em></p>
<ol type="1">
<li><em>What would this program print when it runs?</em>
<ul>
<li><em>The program follows this sequence</em>
<ol type="1">
<li><code>test</code> <em>is set to</em> <span class="math inline">\(0\)</span></li>
<li><code>what_would_I_do</code> <em>is called, being passed the value of</em> <code>test</code> <em>which is</em> <span class="math inline">\(0\)</span></li>
<li><em>In</em> <code>what_whould_I_do</code>, <code>input_value</code> <em>is initially set to</em> <span class="math inline">\(0\)</span></li>
<li><code>input_value</code> <em>is set to</em> <span class="math inline">\(99\)</span></li>
<li><code>what_would_I_do</code> <em>then ends</em></li>
<li><em>The value of</em> <code>test</code> <em>is printed</em></li>
</ol></li>
<li><em>The main observation here is that the</em> <strong>value</strong> <em>of</em> <code>test</code> <em>is passed to the function</em> <strong>not</strong> <code>test</code> <em>itself, so</em> <code>test</code> <em>is unchanged outside the function</em></li>
</ul></li>
</ol>
</section>
<section id="exercise-creating-a-teletype-printer" class="level5">
<h5 class="anchored" data-anchor-id="exercise-creating-a-teletype-printer">Exercise: Creating a Teletype Printer</h5>
<p><em>Write a function</em> <code>teletype_print</code> <em>that slowly writes out an input string. Use a</em> <code>for</code> <em>loop to loop over the contents of the string and the <code>time</code> library to delay the output. Use a default argument with a value of</em> <span class="math inline">\(0.1\)</span> <em>to control the print speed. Use the random library to add a random amount of noise to the specified delay</em></p>
<p>The final function is given in the example <a href="./Exercises/01_TeletypePrinter/TeletypePrinter.py">TeletypePrinter.py</a>, but we’ll work through the code in parts</p>
<ul>
<li>We first import the modules we need</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exercise 7.1: Teletype Printer</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Emulates the slow speed of a teletype printer</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a><span class="co"># by using a for loop and time to slowly loop over</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># an input string</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>We then define our function signature, <code>text</code> is left as something that must be supplied while <code>delay</code> is given a default value of <span class="math inline">\(0.5\)</span> (purely to make the delay obvious)</li>
<li>We then add a <em>jitter</em> to the delay from <span class="math inline">\(1/10\)</span> through to the full size of the delay, by generating a random number
<ul>
<li>We then randomly generate a <span class="math inline">\(0\)</span> or a <span class="math inline">\(1\)</span> and use that to determine if the jitter is added or removed from the delay</li>
</ul></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> teletype_printer(text, delay<span class="op">=</span><span class="fl">0.5</span>):</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    jitter <span class="op">=</span> delay <span class="op">/</span> random.randint(<span class="dv">1</span>, <span class="dv">10</span>)</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> random.randint(<span class="dv">0</span>, <span class="dv">1</span>):</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>        delay <span class="op">=</span> delay <span class="op">+</span> jitter</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>        delay <span class="op">=</span> delay <span class="op">-</span> jitter</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>We then loop over the string, printing each character
<ul>
<li>We have to override the <code>print</code> default arguments
<ul>
<li><code>end</code> determines what is printed after each call to <code>print</code>, we set <code>end</code> to the empty string so that all the characters are printed on the same line</li>
<li>Setting <code>flush</code> to <code>False</code> ensures the interpreter prints each character as it is called rather than waiting for the end of a line</li>
</ul></li>
</ul></li>
<li>After the loop we now have to print an empty line to get the new line</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> ch <span class="kw">in</span> text:</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(ch, end<span class="op">=</span><span class="st">""</span>, flush<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>        time.sleep(delay)</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">""</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>Lastly we demonstrate the function being called with it’s default values on the word <code>"hello"</code></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>teletype_printer(<span class="st">"hello"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div id="0399cbc7" class="cell" data-execution_count="19">
<div class="cell-output cell-output-stdout">
<pre><code>hello</code></pre>
</div>
</div>
</section>
<section id="exercise-teletype-fortune-teller" class="level5">
<h5 class="anchored" data-anchor-id="exercise-teletype-fortune-teller">Exercise: Teletype Fortune Teller</h5>
<p><em>Use the function you wrote for a teletype output to add some style to the <a href="../../01_ProgrammingFundamentals/05_MakingDecisions/Chapter_05.html#exercise-fortune-teller">Fortune Teller Program</a></em></p>
<p>Our solution is given in <a href="./Exercises/02_TeletypeFortuneTeller/TeletypeFortuneTeller.py">TeletypeFortuneTeller.py</a> and repeated below</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Exercise 7.2 Teletype Fortune Teller</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Version of the Fortune Teller Program that uses the teletype_printer function</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># to delay the output</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> time</span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> random</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> teletype_printer(text, delay<span class="op">=</span><span class="fl">0.25</span>):</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a>    jitter <span class="op">=</span> delay <span class="op">/</span> random.randint(<span class="dv">1</span>, <span class="dv">10</span>)</span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> random.randint(<span class="dv">0</span>, <span class="dv">1</span>):</span>
<span id="cb38-13"><a href="#cb38-13" aria-hidden="true" tabindex="-1"></a>        delay <span class="op">=</span> delay <span class="op">+</span> jitter</span>
<span id="cb38-14"><a href="#cb38-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb38-15"><a href="#cb38-15" aria-hidden="true" tabindex="-1"></a>        delay <span class="op">=</span> delay <span class="op">-</span> jitter</span>
<span id="cb38-16"><a href="#cb38-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-17"><a href="#cb38-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> ch <span class="kw">in</span> text:</span>
<span id="cb38-18"><a href="#cb38-18" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(ch, end<span class="op">=</span><span class="st">""</span>, flush<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb38-19"><a href="#cb38-19" aria-hidden="true" tabindex="-1"></a>        time.sleep(delay)</span>
<span id="cb38-20"><a href="#cb38-20" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">""</span>)</span>
<span id="cb38-21"><a href="#cb38-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-22"><a href="#cb38-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-23"><a href="#cb38-23" aria-hidden="true" tabindex="-1"></a>teletype_printer(<span class="st">"..."</span>, delay<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb38-24"><a href="#cb38-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Meeting someone</span></span>
<span id="cb38-25"><a href="#cb38-25" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> random.randint(<span class="dv">1</span>, <span class="dv">6</span>) <span class="op">&lt;</span> <span class="dv">4</span>:</span>
<span id="cb38-26"><a href="#cb38-26" aria-hidden="true" tabindex="-1"></a>    teletype_printer(<span class="st">"You will meet a tall, dark stranger"</span>)</span>
<span id="cb38-27"><a href="#cb38-27" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb38-28"><a href="#cb38-28" aria-hidden="true" tabindex="-1"></a>    teletype_printer(<span class="st">"Nobody unexpected will enter your life"</span>)</span>
<span id="cb38-29"><a href="#cb38-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-30"><a href="#cb38-30" aria-hidden="true" tabindex="-1"></a>teletype_printer(<span class="st">"..."</span>, delay<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb38-31"><a href="#cb38-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Money</span></span>
<span id="cb38-32"><a href="#cb38-32" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> random.randint(<span class="dv">1</span>, <span class="dv">6</span>)</span>
<span id="cb38-33"><a href="#cb38-33" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> result <span class="op">==</span> <span class="dv">1</span>:</span>
<span id="cb38-34"><a href="#cb38-34" aria-hidden="true" tabindex="-1"></a>    teletype_printer(<span class="st">"I see untold riches in your future"</span>)</span>
<span id="cb38-35"><a href="#cb38-35" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> result <span class="op">&lt;=</span> <span class="dv">3</span>:</span>
<span id="cb38-36"><a href="#cb38-36" aria-hidden="true" tabindex="-1"></a>    teletype_printer(<span class="st">"A life of comfort is coming"</span>)</span>
<span id="cb38-37"><a href="#cb38-37" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> result <span class="op">&lt;</span> <span class="dv">6</span>:</span>
<span id="cb38-38"><a href="#cb38-38" aria-hidden="true" tabindex="-1"></a>    teletype_printer(<span class="st">"You would do well to husband your wealth"</span>)</span>
<span id="cb38-39"><a href="#cb38-39" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb38-40"><a href="#cb38-40" aria-hidden="true" tabindex="-1"></a>    teletype_printer(<span class="st">"I see a future lived on the streets..."</span>)</span>
<span id="cb38-41"><a href="#cb38-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-42"><a href="#cb38-42" aria-hidden="true" tabindex="-1"></a>teletype_printer(<span class="st">"..."</span>, delay<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb38-43"><a href="#cb38-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Advice</span></span>
<span id="cb38-44"><a href="#cb38-44" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> random.randint(<span class="dv">1</span>, <span class="dv">6</span>)</span>
<span id="cb38-45"><a href="#cb38-45" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> result <span class="op">&lt;=</span> <span class="dv">2</span>:</span>
<span id="cb38-46"><a href="#cb38-46" aria-hidden="true" tabindex="-1"></a>    teletype_printer(<span class="st">"Sometimes the answers to our future, come from the past"</span>)</span>
<span id="cb38-47"><a href="#cb38-47" aria-hidden="true" tabindex="-1"></a><span class="cf">elif</span> result <span class="op">&lt;</span> <span class="dv">6</span>:</span>
<span id="cb38-48"><a href="#cb38-48" aria-hidden="true" tabindex="-1"></a>    teletype_printer(<span class="st">"To define your future, avoid getting hung up on the past"</span>)</span>
<span id="cb38-49"><a href="#cb38-49" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb38-50"><a href="#cb38-50" aria-hidden="true" tabindex="-1"></a>    teletype_printer(<span class="st">"You will soon face a decision that will redefine everything"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>We basically copy across the <code>teletype_printer</code> function from the <a href="#exercise-creating-a-teletype-printer">previous exercise</a> and replace the previous <code>print</code> statements with the new function. For fun we change the default delay to a lower number so the prints occur faster but between advice add a new</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>teletype_printer(<span class="st">"..."</span>, delay<span class="op">=</span><span class="fl">0.5</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p>call, with a longer delay that makes it look like the fortune teller is thinking between each piece of advice</p>
</section>
</section>
<section id="return-values-from-function-calls" class="level4">
<h4 class="anchored" data-anchor-id="return-values-from-function-calls">Return Values from Function Calls</h4>
<ul>
<li>Functions can return values, e.g.</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>name <span class="op">=</span> <span class="bu">input</span>(<span class="st">'Enter your name please: '</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>Here <code>name</code> is assigned the <em>value</em> returned by the function <code>input</code></li>
<li>Functions return values via the <code>return</code> keyword, e.g.&nbsp;the function below, returns the value <span class="math inline">\(1\)</span></li>
</ul>
<div id="e8573446" class="cell" data-execution_count="20">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> return_one():</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">1</span></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>return_one()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<pre><code>1</code></pre>
</div>
</div>
<section id="example-functions-and-return" class="level5">
<h5 class="anchored" data-anchor-id="example-functions-and-return">Example: Functions and <code>return</code></h5>
<p><em>Take a look look at the</em> <code>return</code> <em>in the following function and the attached program to answer the following questions</em></p>
<div id="2fbe439b" class="cell" data-execution_count="21">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_value(prompt, value_min, value_max):</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">1</span></span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="dv">2</span></span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>ride_number <span class="op">=</span> get_value(prompt<span class="op">=</span><span class="st">"Please enter the ride you want:"</span>, value_min<span class="op">=</span><span class="dv">1</span>, value_max<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"You have selected ride"</span>, ride_number)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>You have selected ride 1</code></pre>
</div>
</div>
<ol type="1">
<li><p><em>What would the above program print?</em></p>
<ul>
<li><em>The function returns at the first</em> <code>return</code> <em>which in this case is</em> <span class="math inline">\(1\)</span><em>, so the returned value is</em> <span class="math inline">\(1\)</span></li>
<li><em>The second</em> <code>return</code> <em>is never reached</em></li>
</ul></li>
<li><p><em>What would the program below print? Would it run correctly?</em></p>
<div id="d63eeaec" class="cell" data-execution_count="22">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a> <span class="kw">def</span> get_value(prompt, value_min, value_max):</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>     <span class="cf">return</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a> ride_number <span class="op">=</span> get_value(prompt<span class="op">=</span><span class="st">"Please enter the ride number you want:"</span>, value_min<span class="op">=</span><span class="dv">1</span>, value_max<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a> <span class="bu">print</span>(<span class="st">"You have selected ride:"</span>, ride_number)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>You have selected ride: None</code></pre>
</div>
</div>
<ul>
<li><code>return</code> <em>ends the function without returning a value</em></li>
<li><em>A distinct value</em> <code>None</code> <em>is returned</em>
<ul>
<li><em>Represents the lack of a usable value</em></li>
</ul></li>
<li><code>None</code> <em>is also returned when a function ends without hitting</em> a <code>return</code> <em>statement</em></li>
</ul></li>
<li><p><em>Can a function contain multiple</em> <code>return</code> <em>statements?</em></p>
<ul>
<li><em>Yes! We already saw this with the first question</em></li>
<li><em>A program exits from a function as soon as it reaches a</em> <code>return</code></li>
</ul></li>
</ol>
<ul>
<li>The program below gives a generic function that asks the user for an integer with a client specified <code>prompt</code> between a range of <code>value_min</code> and <code>value_max</code> (inclusive)</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example 7.7: Get Value</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Demonstrates function returns through a program</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="co"># that receives and validates an integer</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_value(prompt, value_min, value_max):</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>        number_text <span class="op">=</span> <span class="bu">input</span>(prompt)</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>            number <span class="op">=</span> <span class="bu">int</span>(number_text)</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"Invalid number text. Please enter digits."</span>)</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> number <span class="op">&lt;</span> value_min:</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"Value too small"</span>)</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"The minimum value is"</span>, value_min)</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> number <span class="op">&gt;</span> value_max:</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"Value too large"</span>)</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"The maximum value is"</span>, value_max)</span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> number</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a><span class="co">#Example usage</span></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a>ride_number <span class="op">=</span> get_value(</span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a>    prompt<span class="op">=</span><span class="st">"Please enter the ride number you want: "</span>, value_min<span class="op">=</span><span class="dv">1</span>, value_max<span class="op">=</span><span class="dv">5</span></span>
<span id="cb47-28"><a href="#cb47-28" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-29"><a href="#cb47-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-30"><a href="#cb47-30" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"You have selected ride: "</span>, ride_number)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Designing Functions</strong></p>
<p>Thinking about how to break a program down into functions is an important part of the design process. Functions are typically defined first in terms of their behaviour and then their header (i.e.&nbsp;name, parameters and return values).</p>
<p>Function reduce the amount of repeated code that needs to be written. Don’t start by creating too many functions but when you find yourself repeating yourself, it’s a good sign to start writing a function</p>
<ol type="1">
<li>Any changes can now be made in one place - the function</li>
<li>Functions provide testable components for a larger piece of software
<ul>
<li>They are effectively mini-programs</li>
<li>Tests run the function for some input and check the output against some expected output</li>
<li>Tests are typically written alongside the code itself, and mean that as the code is developed we can ensure it still works</li>
</ul></li>
</ol>
</div>
</div>
</section>
</section>
<section id="local-variables-in-python-functions" class="level4">
<h4 class="anchored" data-anchor-id="local-variables-in-python-functions">Local Variables in Python Functions</h4>
<ul>
<li>Functions have what is called a <em>local namespace</em>
<ul>
<li>If we declare a variable <code>i</code> in one function we can declare another variable <code>i</code> in a second function, e.g.&nbsp;(<a href="./Examples/08_LocalVariables/LocalVariables.py">LocalVariables.py</a>)</li>
</ul></li>
</ul>
<div id="5d2a2feb" class="cell" data-execution_count="23">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Example 7.8 Local Variables</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">#</span></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Demonstrates the local namespaces of functions</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> func_2():</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>        i <span class="op">=</span> <span class="dv">99</span>  <span class="co"># noqa: F841</span></span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> func_1():</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>        i <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>        func_2()</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"The value of i is: "</span>, i)</span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a>    func_1()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>The value of i is:  0</code></pre>
</div>
</div>
<ul>
<li>Here <code>func_1</code> sets its version of <code>i</code> to <span class="math inline">\(0\)</span>, the calls <code>func_2</code> which defines its own version of <code>i</code> to <span class="math inline">\(99\)</span></li>
<li>When we return to <code>func_1</code> we are dealing with <code>func_1</code>’s version of <code>i</code> which still has the value <span class="math inline">\(0\)</span></li>
</ul>
</section>
<section id="global-variables-in-python-programs" class="level4">
<h4 class="anchored" data-anchor-id="global-variables-in-python-programs">Global Variables in Python Programs</h4>
<ul>
<li>Any variable declared outside a function is a <em>global</em> variable</li>
<li>Can be implicitly accessed by any function
<ul>
<li>See the program (<a href="./Examples/09_GlobalVariables/GlobalVariables.py">GlobalVariables.py</a>) below</li>
</ul>
<div id="08cd1e21" class="cell" data-execution_count="24">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 7.9 Global Variables</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Demonstrates using global variables in functions</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  cheese <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> func():</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Global cheese is:"</span>, cheese)</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>  func()</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global cheese is: 99</code></pre>
</div>
</div></li>
<li>If we define a new variable inside a function, with the same name as a global variable the global variable is hidden or <em>shadowed</em>
<ul>
<li>See the program (<a href="./Examples/10_ShadowingGlobalVariables/ShadowingGlobalVariables.py">ShadowingGlobalVariables.py</a>)</li>
</ul>
<div id="718f02af" class="cell" data-execution_count="25">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb52"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 7.10 Shadowing Global Variables</span></span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Demonstrates local variables shadowing a</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># global variable</span></span>
<span id="cb52-5"><a href="#cb52-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-6"><a href="#cb52-6" aria-hidden="true" tabindex="-1"></a>  cheese <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb52-7"><a href="#cb52-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-8"><a href="#cb52-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-9"><a href="#cb52-9" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> func():</span>
<span id="cb52-10"><a href="#cb52-10" aria-hidden="true" tabindex="-1"></a>      cheese <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb52-11"><a href="#cb52-11" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Local cheese is:"</span>, cheese)</span>
<span id="cb52-12"><a href="#cb52-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-13"><a href="#cb52-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb52-14"><a href="#cb52-14" aria-hidden="true" tabindex="-1"></a>  func()</span>
<span id="cb52-15"><a href="#cb52-15" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Global cheese is:"</span>, cheese)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Local cheese is: 100
Global cheese is: 99</code></pre>
</div>
</div>
<ul>
<li>We can see in the above that inside <code>func</code> we can’t see the value of the global <code>cheese</code></li>
</ul></li>
<li>But what if we want to update a global variable inside a function?
<ul>
<li>Can use the <code>global</code> keyword to connect the variable in a function to the global counterpart, see <a href="./Examples/11_StoringGlobalVariables/StoringGlobalVariables.py">StoringGlobalVariables.py</a></li>
</ul>
<div id="bc50a7a8" class="cell" data-execution_count="26">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb54"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Example 7.11 Storing Global Variables</span></span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Demonstrates storing a global variables in a</span></span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># variable in a function. Also shows updating a global</span></span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># variable</span></span>
<span id="cb54-6"><a href="#cb54-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-7"><a href="#cb54-7" aria-hidden="true" tabindex="-1"></a>  cheese <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb54-8"><a href="#cb54-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-9"><a href="#cb54-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-10"><a href="#cb54-10" aria-hidden="true" tabindex="-1"></a>  <span class="kw">def</span> func():</span>
<span id="cb54-11"><a href="#cb54-11" aria-hidden="true" tabindex="-1"></a>      <span class="kw">global</span> cheese  <span class="co"># use the global variable</span></span>
<span id="cb54-12"><a href="#cb54-12" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(<span class="st">"Global cheese is:"</span>, cheese)</span>
<span id="cb54-13"><a href="#cb54-13" aria-hidden="true" tabindex="-1"></a>      cheese <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb54-14"><a href="#cb54-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-15"><a href="#cb54-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb54-16"><a href="#cb54-16" aria-hidden="true" tabindex="-1"></a>  func()</span>
<span id="cb54-17"><a href="#cb54-17" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(<span class="st">"Global cheese is:"</span>, cheese)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Global cheese is: 99
Global cheese is: 100</code></pre>
</div>
</div></li>
<li>Observe in the above program we first connect <code>func</code> to the global variable <code>cheese</code>
<ul>
<li>The <code>print</code> shows that <code>func</code>’s <code>cheese</code> has the same value as the global <code>cheese</code></li>
</ul></li>
<li>We then change the value of <code>cheese</code> in <code>func</code> and can see that this is propagated back to the global context</li>
<li>The use of the <code>global</code> keyword makes it clear when we are intending to use global variables
<ul>
<li>However shadowing can cause confusion</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Use global data with care</strong></p>
<p>Global data, while useful can make programs hard to debug. Global variables connect all the functions that rely on them. Changes (and by extension error) can propagate through to all the functions that depend on the variable. You should therefore limit and be clear when you use global variables</p>
</div>
</div>
</section>
</section>
<section id="build-reusable-functions" class="level3">
<h3 class="anchored" data-anchor-id="build-reusable-functions">Build Reusable Functions</h3>
<ul>
<li>It is useful to write functions to capture common, reusable functionality</li>
<li>For example: Collecting valid user data</li>
</ul>
<section id="create-a-text-input-function" class="level4">
<h4 class="anchored" data-anchor-id="create-a-text-input-function">Create a Text Input Function</h4>
<ul>
<li>The simplest case, is getting a string from the user
<ul>
<li>Simply want to prevent the user interrupting the program</li>
<li>Also useful to provide a generic standard prompt if the user doesn’t want to provide one every time, i.e.&nbsp;default argument</li>
</ul></li>
<li>Start by defining the funtion header</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb56"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>read_text(prompt<span class="op">=</span><span class="st">"Please enter some text: "</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>The implementation is then pretty similar to what we’ve developed before, (the full example in <a href="./Examples/12_InputFunctions/InputFunctions.py">InputFunctions.py</a> contains some additional lines of code to demonstrate the use of the function)</li>
</ul>
<div id="09f98117" class="cell" data-execution_count="27">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read Text</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="co"># A simple function for getting validated strings from a user</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-6"><a href="#cb57-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> read_text(prompt<span class="op">=</span><span class="st">"Please enter some text: "</span>):</span>
<span id="cb57-7"><a href="#cb57-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb57-8"><a href="#cb57-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb57-9"><a href="#cb57-9" aria-hidden="true" tabindex="-1"></a>            result <span class="op">=</span> <span class="bu">input</span>(prompt)</span>
<span id="cb57-10"><a href="#cb57-10" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span>  <span class="co"># stop loop if no exception</span></span>
<span id="cb57-11"><a href="#cb57-11" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> <span class="pp">KeyboardInterrupt</span>:</span>
<span id="cb57-12"><a href="#cb57-12" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"Please enter text"</span>)</span>
<span id="cb57-13"><a href="#cb57-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<section id="exercise-investigate-the-read_text-function" class="level5">
<h5 class="anchored" data-anchor-id="exercise-investigate-the-read_text-function">Exercise: Investigate the <code>read_text</code> function</h5>
<p><em>Use the <a href="../../01_ProgrammingFundamentals/07_UsingFunctions/Chapter_07.html#create-a-text-input-function"><code>read_text</code></a> function to answer the following questions</em></p>
<ol type="1">
<li><em>What is the</em> <code>result</code> <em>variable used to accomplish?</em>
<ul>
<li>Local variable storing the user input to be returned</li>
</ul></li>
<li><em>What stops the function from repeating continously?</em>
<ul>
<li>The <code>break</code> statement ends the loop one a string has been entered</li>
<li>Once the loop finishes the rest of the function is linear and will end</li>
</ul></li>
<li><em>Why does the text reading loop repeat after the exception has been handled?</em>
<ul>
<li>The function reaches the end of the loop block (look at the indentation of the <code>return</code>)</li>
<li>The loop condition is <code>while True</code> so unless stopped by the <code>break</code> which requires the program to successfully read a string, the loop will run again</li>
</ul></li>
</ol>
</section>
</section>
<section id="add-help-information-to-functions" class="level4">
<h4 class="anchored" data-anchor-id="add-help-information-to-functions">Add Help Information to Functions</h4>
<ul>
<li>Python has a convention for adding comments that describe a function</li>
<li>These can be automatically read and displayed by Python tooling
<ul>
<li>Enables automatic documentation generation</li>
</ul></li>
<li>A string literal immediately after the function header but before any other code is interpreted as a functions <em>docstring</em>, e.g.</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb58"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb58-1"><a href="#cb58-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> read_line(prompt):</span>
<span id="cb58-2"><a href="#cb58-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">'Displays a prompt and reads in a string of text'</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>The above is single-line comment that provides a simple description of the function</li>
<li>The alternate below, is a multiline comment which can provide more detail,</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> read_text(prompt<span class="op">=</span><span class="st">"Please enter some text: "</span>):</span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Displays a prompt and reads in a string of text.</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Keyboard Interrupts are ignored</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a><span class="co">    prompt: str prompt the user sees before entering text</span></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a><span class="co">    return: str</span></span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a><span class="co">    returns a string containing the string input by the user</span></span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>Note the use of triple quotes to write a string over multiple lines</li>
<li>Here we describe the function, it’s parameters and the return in detail</li>
</ul>
<section id="use-pydoc" class="level5">
<h5 class="anchored" data-anchor-id="use-pydoc">Use Pydoc</h5>
<ul>
<li>The pydoc library is designed to read function docstrings
<ul>
<li>For example if we use in on the standard library function <code>print</code></li>
</ul>
<div id="9e12c37c" class="cell" data-execution_count="28">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> pydoc</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb60-3"><a href="#cb60-3" aria-hidden="true" tabindex="-1"></a>  pydoc.<span class="bu">help</span>(<span class="bu">print</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<div class="cell-output cell-output-stdout">
<pre><code>Help on built-in function print in module builtins:

print(*args, sep=' ', end='\n', file=None, flush=False)
    Prints the values to a stream, or to sys.stdout by default.

    sep
      string inserted between values, default a space.
    end
      string appended after the last value, default a newline.
    file
      a file-like object (stream); defaults to the current sys.stdout.
    flush
      whether to forcibly flush the stream.
</code></pre>
</div>
</div></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>Form a habit of documenting your code</strong></p>
<p>Nowadays, programmers try to package the documentation with the code writing process. Sometimes this extends to the concept of documentation-as-code. Whenever you write a function, you should get into the habit of writing documentation.</p>
</div>
</div>
</section>
</section>
<section id="create-a-number-input-function" class="level4">
<h4 class="anchored" data-anchor-id="create-a-number-input-function">Create a Number Input Function</h4>
<ul>
<li>The next function in our set of input functions is one to handle receiving a numbers
<ul>
<li>More specifically floating point numbers</li>
</ul></li>
<li>We can break this down into steps
<ol type="1">
<li>First we get a valid string from the user
<ul>
<li>We can reuse <code>read_text</code></li>
</ul></li>
<li>We check that it’s a valid number
<ul>
<li>Wrap the extra functionality</li>
</ul></li>
</ol></li>
</ul>
<div id="36eaf7e7" class="cell" data-execution_count="29">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb62"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> read_float(prompt):</span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Displays a prompt and reads in a number</span></span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Keyboard interrupts are ignored</span></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Invalid numbers are rejected</span></span>
<span id="cb62-6"><a href="#cb62-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-7"><a href="#cb62-7" aria-hidden="true" tabindex="-1"></a><span class="co">    prompt: str prompt the user sees before giving input</span></span>
<span id="cb62-8"><a href="#cb62-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-9"><a href="#cb62-9" aria-hidden="true" tabindex="-1"></a><span class="co">    return: str</span></span>
<span id="cb62-10"><a href="#cb62-10" aria-hidden="true" tabindex="-1"></a><span class="co">    returns a float containing the input value</span></span>
<span id="cb62-11"><a href="#cb62-11" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb62-12"><a href="#cb62-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb62-13"><a href="#cb62-13" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span>:</span>
<span id="cb62-14"><a href="#cb62-14" aria-hidden="true" tabindex="-1"></a>            number_text <span class="op">=</span> read_text(prompt)</span>
<span id="cb62-15"><a href="#cb62-15" aria-hidden="true" tabindex="-1"></a>            result <span class="op">=</span> <span class="bu">float</span>(number_text)</span>
<span id="cb62-16"><a href="#cb62-16" aria-hidden="true" tabindex="-1"></a>            <span class="cf">break</span></span>
<span id="cb62-17"><a href="#cb62-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">except</span> <span class="pp">ValueError</span>:</span>
<span id="cb62-18"><a href="#cb62-18" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"Please enter a number"</span>)</span>
<span id="cb62-19"><a href="#cb62-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<ul>
<li>An example usage is (mirrored in <a href="./Examples/12_InputFunctions/InputFunctions.py">InputFunctions.py</a>)</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> read_float(<span class="st">"Please enter your age: "</span>)</span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(age)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>We can then create a specialised version of <code>read_float</code> that uses it as a component that limits the range of the value received to a given range</li>
</ul>
<div id="161aa36a" class="cell" data-execution_count="30">
<div class="code-copy-outer-scaffold"><div class="sourceCode cell-code" id="cb64"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> read_float_ranged(prompt, min_value, max_value):</span>
<span id="cb64-2"><a href="#cb64-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb64-3"><a href="#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Displays a prompt and reads in a number between</span></span>
<span id="cb64-4"><a href="#cb64-4" aria-hidden="true" tabindex="-1"></a><span class="co">    min_value and max_value (inclusive)</span></span>
<span id="cb64-5"><a href="#cb64-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-6"><a href="#cb64-6" aria-hidden="true" tabindex="-1"></a><span class="co">    Keyboard interrupts are ignored</span></span>
<span id="cb64-7"><a href="#cb64-7" aria-hidden="true" tabindex="-1"></a><span class="co">    Invalid numbers or out of range numbers are rejected</span></span>
<span id="cb64-8"><a href="#cb64-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-9"><a href="#cb64-9" aria-hidden="true" tabindex="-1"></a><span class="co">    min_value: float minimum value (inclusive)</span></span>
<span id="cb64-10"><a href="#cb64-10" aria-hidden="true" tabindex="-1"></a><span class="co">    max_value: float maximum value (inclusive)</span></span>
<span id="cb64-11"><a href="#cb64-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-12"><a href="#cb64-12" aria-hidden="true" tabindex="-1"></a><span class="co">    return: float</span></span>
<span id="cb64-13"><a href="#cb64-13" aria-hidden="true" tabindex="-1"></a><span class="co">    value input by user in the range [min_value, max_value]</span></span>
<span id="cb64-14"><a href="#cb64-14" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb64-15"><a href="#cb64-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span> <span class="va">True</span>:</span>
<span id="cb64-16"><a href="#cb64-16" aria-hidden="true" tabindex="-1"></a>        result <span class="op">=</span> read_float(prompt)</span>
<span id="cb64-17"><a href="#cb64-17" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> result <span class="op">&lt;</span> min_value:</span>
<span id="cb64-18"><a href="#cb64-18" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"That number is too low"</span>)</span>
<span id="cb64-19"><a href="#cb64-19" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"The minimum value is"</span>, min_value)</span>
<span id="cb64-20"><a href="#cb64-20" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb64-21"><a href="#cb64-21" aria-hidden="true" tabindex="-1"></a>        <span class="cf">elif</span> result <span class="op">&gt;</span> max_value:</span>
<span id="cb64-22"><a href="#cb64-22" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"That value is too large"</span>)</span>
<span id="cb64-23"><a href="#cb64-23" aria-hidden="true" tabindex="-1"></a>            <span class="bu">print</span>(<span class="st">"The maximum value is"</span>, max_value)</span>
<span id="cb64-24"><a href="#cb64-24" aria-hidden="true" tabindex="-1"></a>            <span class="cf">continue</span></span>
<span id="cb64-25"><a href="#cb64-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">break</span>  <span class="co"># if here have a valid number</span></span>
<span id="cb64-26"><a href="#cb64-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
</div>
<ul>
<li>Like with the <code>read_float</code> we use a previous function (here <code>read_float</code>) to capture existing error-handling and input handling code
<ul>
<li>Then add in the extra functionality</li>
<li>Example usage (again seen in the complete file <a href="./Examples/12_InputFunctions/InputFunctions.py">InputFunctions.py</a>)</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>  age <span class="op">=</span> read_float_ranged(<span class="st">"Please enter your age"</span>, min_value<span class="op">=</span><span class="dv">5</span>, max_value<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="bu">print</span>(age)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li>Observe how we have used each function as a reusable component in the <em>next</em> <strong>more</strong> specific function
<ul>
<li>We can do this because we cleanly define the responsibilities of each function</li>
</ul></li>
</ul>
</section>
<section id="exercise-investigating-the-read_float_ranged-function" class="level4">
<h4 class="anchored" data-anchor-id="exercise-investigating-the-read_float_ranged-function">Exercise: Investigating the <code>read_float_ranged</code> Function</h4>
<p><em>Let’s examine the final function</em> <code>read_float_ranged</code> <em>in more detail to capture all the things we’ve built up. Answer the following questions</em></p>
<ol type="1">
<li><em>Why doesn’t this function have code to capture exceptions?</em>
<ul>
<li>No, The two exception types we care about <code>KeyboardInterrupt</code> and <code>ValueError</code> are handled by <code>read_text</code> (via <code>read_float</code>) and <code>read_float</code> respectively</li>
</ul></li>
<li><em>Will chaining these functions together slow down the program?</em>
<ul>
<li>There would probably be some slow down, since each time we have to call a function there is some setup and teardown</li>
<li>However, the slow down would be miniscule</li>
<li>The improved readability and compartmentalisation has advantages in readability and maintability for the user
<ul>
<li>This practice of building higher-level functions out of smaller “lower level” functions is very common</li>
</ul></li>
</ul></li>
<li><em>What would happen if a programmer reversed the minimum and maximum values?</em>
<ul>
<li>The program would not work, it would require a number that is greater than what it thinks is the <code>min</code> (actually <code>max</code>) and less than what it thinks is the <code>max</code> (actually the <code>min</code>). These are incompatible conditions and the program would never be able to exit the function (or interrupt it)</li>
<li>There are three options
<ol type="1">
<li><p>Fix the program so it swaps <code>min</code> and <code>max</code> if they are reversed</p></li>
<li><p>Documents that it’s not expected to work and leaves it to the user to ensure that the case doesn’t arise.</p></li>
<li><p>Raises an exception for the caller to handle. (Our implementation in <a href="./Examples/12_InputFunctions/InputFunctions.py">InputFunctions.py</a>) uses the former technique</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb66"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a> <span class="cf">if</span> min_value <span class="op">&gt;</span> max_value:</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>     <span class="cf">raise</span> <span class="pp">Exception</span>(<span class="st">"Min value is greater than max value"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<ul>
<li>It is good ettiquette to document exceptions raised in the function documentation</li>
</ul></li>
</ol></li>
</ul></li>
</ol>
</section>
<section id="convert-our-functions-into-a-python-module" class="level4">
<h4 class="anchored" data-anchor-id="convert-our-functions-into-a-python-module">Convert our Functions into a Python Module</h4>
<ul>
<li>Ideally we want to write our functions once and be able to reuse them
<ul>
<li>The most basic way would be to simply copy them into a new file each time we need them</li>
</ul></li>
<li>A more complete method is to write our own <em>module</em>
<ul>
<li><p>We create a file <a href="./Examples/13_BTCInput/BTCInput.py">BTCInput.py</a></p></li>
<li><p>So long as we include this file in the same directory as our new project we can include the functions the same way we would use <code>time</code> or <code>random</code> via</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> BTCInput</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p>We then call the functions as for any other module e.g.</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb68"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a>  age <span class="op">=</span> BTCInput.read_float_ranged(<span class="st">"Enter your age: "</span>, min_value<span class="op">=</span><span class="dv">5</span>, max_value<span class="op">=</span><span class="dv">90</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul></li>
<li>If we want to avoid having to write the module name every time we call a function we can use the <code>from</code> keyword
<ul>
<li>Allows us to import specific components into the global namespace</li>
<li>Alternatively can import all components of a module using <code>*</code>
<ul>
<li>Typically avoid this, it carries a high risk of name clashes between functions defined in different modules</li>
</ul></li>
</ul></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co">#option 1: import function</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> BTCInput <span class="im">import</span> read_float_ranged</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> read_float_ranged(<span class="st">"Enter your age: "</span>, min_value<span class="op">=</span><span class="dv">5</span>, max_value<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="co">#option 2: import all</span></span>
<span id="cb69-6"><a href="#cb69-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> BTCInput <span class="im">import</span> <span class="op">*</span></span>
<span id="cb69-7"><a href="#cb69-7" aria-hidden="true" tabindex="-1"></a>age <span class="op">=</span> read_float_ranged(<span class="st">"Enter your age: "</span>, min_value<span class="op">=</span><span class="dv">5</span>, max_value<span class="op">=</span><span class="dv">90</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<section id="exercise-add-btcinput-to-your-existing-programs" class="level5">
<h5 class="anchored" data-anchor-id="exercise-add-btcinput-to-your-existing-programs">Exercise: Add <code>BTCInput</code> to your Existing Programs</h5>
<p><em>Rewrite the following programs to use</em> <code>BTCInput</code> <em>for input</em></p>
<ol type="1">
<li><em><a href="../../01_ProgrammingFundamentals/04_WorkingWithVariables/Chapter_04.html#example-use-input-to-make-a-greeter-program">Greeter</a></em></li>
<li><em><a href="../../01_ProgrammingFundamentals/04_WorkingWithVariables/Chapter_04.html#example-ultra-precise-egg-timer">Ultra Precise Egg Timer</a></em></li>
<li><em><a href="../../01_ProgrammingFundamentals/04_WorkingWithVariables/Chapter_04.html#exercise-calculating-a-pizza-order">Pizza Order Calculator</a></em></li>
<li><em><a href="../../01_ProgrammingFundamentals/04_WorkingWithVariables/Chapter_04.html#exercise-converting-between-fahrenheit-and-centigrade">Fahrenheit To Celcius</a></em></li>
<li><em><a href="../../01_ProgrammingFundamentals/05_MakingDecisions/Chapter_05.html#use-decisions-to-make-an-application">Ride Selector</a></em></li>
<li><em><a href="../../01_ProgrammingFundamentals/06_RepeatingActionsWithLoops/Chapter_06.html#exercise-allow-the-user-to-select-the-times-value">User-Selected Times Table</a></em></li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>We’ve linked to where each of these programs are first referenced, but we’ll generally try to update the most comprehensive version of the respective program. We use the version of <code>BTCInput.py</code> included in Chapter 8 of the original code (see samples in the repo) since it offers a more complete set of validation functions based on the discussion above.</p>
<p>To use correctly setup <code>BTCInput.py</code> ensure the variable <code>DEBUG_MODE = FALSE</code></p>
</div>
</div>
<ol type="1">
<li><p><a href="./Exercises/03_BTCInputApplications/Greeter.py">Greeter</a></p>
<ul>
<li>This change is straight forward, we replace <code>input</code> with <code>read_text</code></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb70"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a> <span class="co"># Exercise 7.2.1: Greeter</span></span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a> <span class="co"># An implementation of Greeter than uses BTCInput for validation</span></span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a> <span class="im">import</span> BTCInput</span>
<span id="cb70-5"><a href="#cb70-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb70-6"><a href="#cb70-6" aria-hidden="true" tabindex="-1"></a> name <span class="op">=</span> BTCInput.read_text(<span class="st">"Enter your name please: "</span>)</span>
<span id="cb70-7"><a href="#cb70-7" aria-hidden="true" tabindex="-1"></a> <span class="bu">print</span>(<span class="st">"Hello"</span>, name)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p><a href="./Exercises/03_BTCInputApplications/UltraPreciseEggTimer.py">Ultra Precise Egg Timer</a></p>
<ul>
<li>We can combine the original code that reads in the egg boiling time and the float conversion to one call to the <code>BTCInput</code> function <code>read_float</code>. Note that we don’t change the second input which just asks the user to press enter, since they might want to stop the program early, and enter is not a word</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a> <span class="co"># Exercise 7.2.2 Ultra-Precise Egg Timer</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a> <span class="co">#</span></span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a> <span class="co"># Implementation of Ultra-Precise Egg Timer using BTCInput</span></span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-5"><a href="#cb71-5" aria-hidden="true" tabindex="-1"></a> <span class="im">import</span> time</span>
<span id="cb71-6"><a href="#cb71-6" aria-hidden="true" tabindex="-1"></a> <span class="im">import</span> BTCInput</span>
<span id="cb71-7"><a href="#cb71-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-8"><a href="#cb71-8" aria-hidden="true" tabindex="-1"></a> egg_time <span class="op">=</span> BTCInput.read_float(<span class="st">"Enter the cooking time in seconds: "</span>)</span>
<span id="cb71-9"><a href="#cb71-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-10"><a href="#cb71-10" aria-hidden="true" tabindex="-1"></a> <span class="bu">print</span>(<span class="st">"Put the egg in boiling water now"</span>)</span>
<span id="cb71-11"><a href="#cb71-11" aria-hidden="true" tabindex="-1"></a> <span class="bu">input</span>(<span class="st">"Press enter to continue once the egg is in..."</span>)</span>
<span id="cb71-12"><a href="#cb71-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-13"><a href="#cb71-13" aria-hidden="true" tabindex="-1"></a> time.sleep(egg_time)</span>
<span id="cb71-14"><a href="#cb71-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb71-15"><a href="#cb71-15" aria-hidden="true" tabindex="-1"></a> <span class="bu">print</span>(<span class="st">"Take the egg out now"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p><a href="./Exercises/03_BTCInputApplications/PizzaOrderCalculator.py">Pizza Order Calculator</a></p>
<ul>
<li>Again we simply replace the <code>int(input())</code> structure with the BTCInput equivalent, <code>BTCInput.read_int</code></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a> <span class="co"># Exercise 7.2.3: Pizza Order Calculator</span></span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a> <span class="co">#</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a> <span class="co"># Implementation of Pizza Order Calculator that uses BTCInput</span></span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-5"><a href="#cb72-5" aria-hidden="true" tabindex="-1"></a> <span class="im">import</span> BTCInput</span>
<span id="cb72-6"><a href="#cb72-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-7"><a href="#cb72-7" aria-hidden="true" tabindex="-1"></a> students_int <span class="op">=</span> BTCInput.read_int(<span class="st">"How many students are attending? "</span>)</span>
<span id="cb72-8"><a href="#cb72-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb72-9"><a href="#cb72-9" aria-hidden="true" tabindex="-1"></a> pizza_count <span class="op">=</span> <span class="bu">int</span>(students_int <span class="op">/</span> <span class="fl">1.5</span>) <span class="op">+</span> <span class="dv">1</span>  <span class="co"># perform division int -&gt; float</span></span>
<span id="cb72-10"><a href="#cb72-10" aria-hidden="true" tabindex="-1"></a> <span class="bu">print</span>(<span class="st">"You will need"</span>, pizza_count, <span class="st">"pizzas"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p><a href="./Exercises/03_BTCInputApplications/FahrenheitToCelcius.py">Fahrenheit To Celcius</a></p>
<ul>
<li>Again a simple replacement, here <code>float(input(...))</code> becomes <code>BTCInput.read_float()</code></li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a> <span class="co"># Exercise 7.2.4: Fahrenheit to Celcius</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a> <span class="co">#</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a> <span class="co"># Version of Fahrenheit to Celcius that uses BTCInput</span></span>
<span id="cb73-4"><a href="#cb73-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-5"><a href="#cb73-5" aria-hidden="true" tabindex="-1"></a> <span class="im">import</span> BTCInput</span>
<span id="cb73-6"><a href="#cb73-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-7"><a href="#cb73-7" aria-hidden="true" tabindex="-1"></a> temperature_fahrenheit <span class="op">=</span> BTCInput.read_float(<span class="st">"Enter a temperature in Fahrenheit: "</span>)</span>
<span id="cb73-8"><a href="#cb73-8" aria-hidden="true" tabindex="-1"></a> temperature_centrigrade <span class="op">=</span> (temperature_fahrenheit <span class="op">-</span> <span class="dv">32</span>) <span class="op">/</span> <span class="fl">1.8</span></span>
<span id="cb73-9"><a href="#cb73-9" aria-hidden="true" tabindex="-1"></a> <span class="bu">print</span>(<span class="st">"The temperature is"</span>, temperature_centrigrade, <span class="st">"degrees Celcius"</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p><a href="./Exercises/03_BTCInputApplications/RideSelector.py">Ride Selector</a></p>
<ul>
<li><p>The implementation is based on the <a href="../../01_ProgrammingFundamentals/06_RepeatingActionsWithLoops/Chapter_06.html#exercise-add-validation-to-the-theme-park-age-input">Full input validated version of Ride Selector</a> in Chapter 6</p></li>
<li><p>There are two important changes, first to ensure the user selects a valid theme park ride option, we use <code>BTCInput.read_int_ranged</code></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a>  ride_number <span class="op">=</span> BTCInput.read_int_ranged(</span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a>      <span class="st">"Please enter the ride number you want: "</span>, <span class="dv">0</span>, <span class="dv">5</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
<li><p><em>Remember that</em> <span class="math inline">\(0\)</span> <em>is the number to quit</em></p></li>
<li><p>Second the ensure the user adds an age, here even though we have a valid age range, this is for being able to ride</p>
<ul>
<li>We still want to accept those ages, <em>and then</em> inform the user of the issue</li>
<li>So here we use <code>BTCInput.read_int</code> (note unranged)</li>
</ul>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb75"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>  age <span class="op">=</span> BTCInput.read_int(<span class="st">"Please enter your age: "</span>)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul></li>
<li><p><a href="./Exercises/03_BTCInputApplications/TimesTables.py">User Selected Times Tables</a></p>
<ul>
<li><p>Here we can remove all the validation code we wrote and simply replace it with the <code>BTCInput.read_int_ranged</code> call</p></li>
<li><p>This highlights the advantage of functions, the final program is much cleaner and easier to read</p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Exercise 7.2.6 Tables Tables</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a>  <span class="co">#</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Variant of the User Selected Times Tables Tutor that uses BTCInput for</span></span>
<span id="cb76-4"><a href="#cb76-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># validation</span></span>
<span id="cb76-5"><a href="#cb76-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-6"><a href="#cb76-6" aria-hidden="true" tabindex="-1"></a>  <span class="im">import</span> BTCInput</span>
<span id="cb76-7"><a href="#cb76-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-8"><a href="#cb76-8" aria-hidden="true" tabindex="-1"></a>  count <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb76-9"><a href="#cb76-9" aria-hidden="true" tabindex="-1"></a>  times_value <span class="op">=</span> BTCInput.read_int(<span class="st">"Please enter a times table between 2-12 (inclusive): "</span>)</span>
<span id="cb76-10"><a href="#cb76-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb76-11"><a href="#cb76-11" aria-hidden="true" tabindex="-1"></a>  <span class="cf">while</span> count <span class="op">&lt;</span> <span class="dv">13</span>:</span>
<span id="cb76-12"><a href="#cb76-12" aria-hidden="true" tabindex="-1"></a>      result <span class="op">=</span> count <span class="op">*</span> times_value</span>
<span id="cb76-13"><a href="#cb76-13" aria-hidden="true" tabindex="-1"></a>      <span class="bu">print</span>(count, <span class="st">"times"</span>, times_value, <span class="st">"equals"</span>, result)</span>
<span id="cb76-14"><a href="#cb76-14" aria-hidden="true" tabindex="-1"></a>      count <span class="op">=</span> count <span class="op">+</span> <span class="dv">1</span></span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div></li>
</ul></li>
</ol>
</section>
</section>
</section>
<section id="using-a-debugger" class="level3">
<h3 class="anchored" data-anchor-id="using-a-debugger">Using a Debugger</h3>
<ul>
<li>Most python development environments support a <em>debugger</em></li>
<li>A <em>debugger</em> is a program designed to help you identify (and solve) <em>bugs</em> or problems in your program</li>
<li>This section will introduce concepts of a debugger
<ul>
<li>The book discusses the specifics of using the debugger packaged in IDLE</li>
<li>The notes here discuss generics</li>
</ul></li>
<li>A <em>debugger</em> runs code like normal, but supports extra tools and techniques for interrogating the internal state of a program</li>
<li>A <em>breakpoint</em> causes the program being run in the debugger to pause when it reaches the line where the break occurs.
<ul>
<li>breakpoints allow the programmer to halt the program at a desired point (typically close to where a problem occurs) and inspect variable contents</li>
</ul></li>
</ul>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>A <em>breakpoint</em> is different to the <code>break</code> keyword</p>
</div>
</div>
<section id="exercise-investigate-programmers-with-a-debugger" class="level4">
<h4 class="anchored" data-anchor-id="exercise-investigate-programmers-with-a-debugger">Exercise: Investigate Programmers with a Debugger</h4>
<p><em>Use the following example, found in</em> <a href="./Examples/14_InvestigateTheDebugger/InvestigateTheDebugger.py">InvestigateTheDebugger.py</a> <em>as the basis to learn the debugger</em></p>
<div class="code-copy-outer-scaffold"><div class="sourceCode" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Example 7.14 Investigate the Debugger</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="co">#</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="co"># A sample code for practicing with the debugger</span></span>
<span id="cb77-4"><a href="#cb77-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-5"><a href="#cb77-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-6"><a href="#cb77-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> increment_function(input_value):</span>
<span id="cb77-7"><a href="#cb77-7" aria-hidden="true" tabindex="-1"></a>    result <span class="op">=</span> input_value <span class="op">+</span> <span class="dv">1</span></span>
<span id="cb77-8"><a href="#cb77-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> result</span>
<span id="cb77-9"><a href="#cb77-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-10"><a href="#cb77-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb77-11"><a href="#cb77-11" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> <span class="dv">99</span></span>
<span id="cb77-12"><a href="#cb77-12" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> increment_function(x)</span>
<span id="cb77-13"><a href="#cb77-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"The answer is:"</span>, y)</span></code></pre></div><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></div>
<p><em>Using your debugger, set a breakpoint on the line</em> <code>x = 99</code></p>
<ul>
<li>In <em>VSCode</em> for my setup with the python extensions I simply click on line, left of the line number, a red circle appears indicating a breakpoint
<ul>
<li>To clear the breakpoint just click on it again</li>
</ul></li>
<li>Then run your program using the debugger
<ul>
<li>In <em>VSCode</em> I simply go to the <em>Run and Debug</em> tab, and click the <em>Run and Debug</em> button
<ul>
<li>I then select from a dropdown menu, <em>python debugger</em> followed by <em>debug the current file</em></li>
</ul></li>
<li>The code starts running then stops at the breakpoint</li>
<li>On the left a panel shows the <em>call stack</em>
<ul>
<li>The call stack shows the sequence of function calls we are in</li>
</ul></li>
<li>Above a panel shows the contents of variables
<ul>
<li>Broken up into a tab for
<ul>
<li>Local variables</li>
<li>Global variables</li>
<li>There are also tabs for special and function variables which can be ignored for now</li>
</ul></li>
</ul></li>
<li>A control panel shows at the top of the program, the options are as follows,
<ul>
<li><strong>Go</strong> continues running the program</li>
<li><strong>Step Over</strong> goes to the next line in the program
<ul>
<li>If the line the program is on is a function, the program will calculate the results of the function and then go to the line after the program</li>
</ul></li>
<li><strong>Step In</strong> goes to the next line in the program, if the program is on a function, the debugger will step into the function and go through it line by line
<ul>
<li>This includes opening any files where a function is defined in another file</li>
</ul></li>
<li><strong>Step Out</strong> completes the current function and goes to the line after it</li>
<li><strong>Restart</strong> restarts the program</li>
<li><strong>Stop</strong> immediately stops the program</li>
</ul></li>
</ul></li>
<li>Use the step function to watch how python flows through this program, observe the call stack and the variable values when you step into <code>increment_function</code>
<ul>
<li>Observe what happens when you step into <code>print</code>
<ul>
<li>Depending on the debugger it may or may not step into the <code>print</code> function</li>
<li>Use <strong>Step Out</strong> to leave <code>print</code></li>
<li>Use <strong>Step Out</strong> again, the program should end</li>
</ul></li>
</ul></li>
</ul>
</section>
</section>
</section>
<section id="summary" class="level2">
<h2 class="anchored" data-anchor-id="summary">Summary</h2>
<ul>
<li>Functions allow us to reuse blocks of code</li>
<li>Functions consist of a header describing the function and the code
<ul>
<li>Header supplies function and parameter names (including their default values if specified)</li>
</ul></li>
<li>Functions are called with arguments passed to the parameters</li>
<li>Parameters are value copied objects the function can work on
<ul>
<li>This means changes are local to the function</li>
</ul></li>
<li>Functions can return a value via the <code>return</code> function</li>
<li><code>None</code> is returned when a function finishes without an explicit return value</li>
<li>Variables defined in a function are local to that function
<ul>
<li>Cannot be accessed outside the function</li>
</ul></li>
<li>Variables declared outside any function are called global variables
<ul>
<li>Can be read by functions</li>
<li>Can be modified by functions via the <code>global</code> keyword</li>
</ul></li>
<li>Local variables can shadow global variables if they share the same name</li>
<li>A function can contain a string as the first statement
<ul>
<li>This is called the <em>docstring</em> and documents the behaviour of the function</li>
</ul></li>
<li>Functions can be imported into another python file that has access to the file they are defined in</li>
</ul>
</section>
<section id="questions-and-answers" class="level2">
<h2 class="anchored" data-anchor-id="questions-and-answers">Questions and Answers</h2>
<ol type="1">
<li><em>Does using functions in programs slow down the program?</em>
<ul>
<li>Not noticably. The slight cost of setting up and tearing down functions is minimal</li>
</ul></li>
<li><em>Can I use functions to spread work around a group of programmers?</em>
<ul>
<li>Yes, packaging functions into modules is a very common way for programmers to share code including functions</li>
<li>Alternatively when building programs together, programmers may define the function headers together, and then each can work on implementing different functions seperately</li>
</ul></li>
<li><em>How do I come up with names for my functions?</em>
<ul>
<li>Functions should typically be <em>verbs</em> that describe what action they do, e.g.&nbsp;<code>read_string</code> reads a string. Where reasonable also try to indicate what it returns</li>
</ul></li>
<li><em>Can functions in libraries use global variables?</em>
<ul>
<li>Global variables are those declared at file scope</li>
<li>Library files can contain global variables</li>
<li>They can be used by the functions in those files</li>
<li>But they cannot be shared across files</li>
</ul></li>
<li><em>Should I put all my functions in modules/libraries?</em>
<ul>
<li>Probably not <em>all</em> of your functions</li>
<li>Good for common utility functions that have quite broad use cases</li>
<li>A common pattern in larger applications is to split functions into files that group together natural sets of logic</li>
</ul></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>